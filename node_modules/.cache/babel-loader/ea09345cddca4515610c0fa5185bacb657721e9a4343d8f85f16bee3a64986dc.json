{"ast":null,"code":"/**\n * @fileoverview 圆\n * @author dxq613@gmail.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport ShapeBase from './base';\nimport { distance } from '../util/util';\nvar Circle = /** @class */function (_super) {\n  __extends(Circle, _super);\n  function Circle() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  Circle.prototype.getDefaultAttrs = function () {\n    var attrs = _super.prototype.getDefaultAttrs.call(this);\n    return __assign(__assign({}, attrs), {\n      x: 0,\n      y: 0,\n      r: 0\n    });\n  };\n  Circle.prototype.isInStrokeOrPath = function (x, y, isStroke, isFill, lineWidth) {\n    var attrs = this.attr();\n    var cx = attrs.x;\n    var cy = attrs.y;\n    var r = attrs.r;\n    var halfLineWidth = lineWidth / 2;\n    var absDistance = distance(cx, cy, x, y);\n    // 直接用距离，如果同时存在边和填充时，可以减少两次计算\n    if (isFill && isStroke) {\n      return absDistance <= r + halfLineWidth;\n    }\n    if (isFill) {\n      return absDistance <= r;\n    }\n    if (isStroke) {\n      return absDistance >= r - halfLineWidth && absDistance <= r + halfLineWidth;\n    }\n    return false;\n  };\n  Circle.prototype.createPath = function (context) {\n    var attrs = this.attr();\n    var cx = attrs.x;\n    var cy = attrs.y;\n    var r = attrs.r;\n    context.beginPath();\n    context.arc(cx, cy, r, 0, Math.PI * 2, false);\n    context.closePath();\n  };\n  return Circle;\n}(ShapeBase);\nexport default Circle;","map":{"version":3,"names":["ShapeBase","distance","Circle","_super","__extends","prototype","getDefaultAttrs","attrs","call","__assign","x","y","r","isInStrokeOrPath","isStroke","isFill","lineWidth","attr","cx","cy","halfLineWidth","absDistance","createPath","context","beginPath","arc","Math","PI","closePath"],"sources":["../../src/shape/circle.ts"],"sourcesContent":[null],"mappings":"AAAA;;;;;AAKA,OAAOA,SAAS,MAAM,QAAQ;AAC9B,SAASC,QAAQ,QAAQ,cAAc;AAEvC,IAAAC,MAAA,0BAAAC,MAAA;EAAqBC,SAAA,CAAAF,MAAA,EAAAC,MAAA;EAArB,SAAAD,OAAA;;EAwCA;EAvCEA,MAAA,CAAAG,SAAA,CAAAC,eAAe,GAAf;IACE,IAAMC,KAAK,GAAGJ,MAAA,CAAAE,SAAA,CAAMC,eAAe,CAAAE,IAAA,MAAE;IACrC,OAAAC,QAAA,CAAAA,QAAA,KACKF,KAAK;MACRG,CAAC,EAAE,CAAC;MACJC,CAAC,EAAE,CAAC;MACJC,CAAC,EAAE;IAAC;EAER,CAAC;EAEDV,MAAA,CAAAG,SAAA,CAAAQ,gBAAgB,GAAhB,UAAiBH,CAAC,EAAEC,CAAC,EAAEG,QAAQ,EAAEC,MAAM,EAAEC,SAAS;IAChD,IAAMT,KAAK,GAAG,IAAI,CAACU,IAAI,EAAE;IACzB,IAAMC,EAAE,GAAGX,KAAK,CAACG,CAAC;IAClB,IAAMS,EAAE,GAAGZ,KAAK,CAACI,CAAC;IAClB,IAAMC,CAAC,GAAGL,KAAK,CAACK,CAAC;IACjB,IAAMQ,aAAa,GAAGJ,SAAS,GAAG,CAAC;IACnC,IAAMK,WAAW,GAAGpB,QAAQ,CAACiB,EAAE,EAAEC,EAAE,EAAET,CAAC,EAAEC,CAAC,CAAC;IAC1C;IACA,IAAII,MAAM,IAAID,QAAQ,EAAE;MACtB,OAAOO,WAAW,IAAIT,CAAC,GAAGQ,aAAa;;IAEzC,IAAIL,MAAM,EAAE;MACV,OAAOM,WAAW,IAAIT,CAAC;;IAEzB,IAAIE,QAAQ,EAAE;MACZ,OAAOO,WAAW,IAAIT,CAAC,GAAGQ,aAAa,IAAIC,WAAW,IAAIT,CAAC,GAAGQ,aAAa;;IAE7E,OAAO,KAAK;EACd,CAAC;EAEDlB,MAAA,CAAAG,SAAA,CAAAiB,UAAU,GAAV,UAAWC,OAAO;IAChB,IAAMhB,KAAK,GAAG,IAAI,CAACU,IAAI,EAAE;IACzB,IAAMC,EAAE,GAAGX,KAAK,CAACG,CAAC;IAClB,IAAMS,EAAE,GAAGZ,KAAK,CAACI,CAAC;IAClB,IAAMC,CAAC,GAAGL,KAAK,CAACK,CAAC;IACjBW,OAAO,CAACC,SAAS,EAAE;IACnBD,OAAO,CAACE,GAAG,CAACP,EAAE,EAAEC,EAAE,EAAEP,CAAC,EAAE,CAAC,EAAEc,IAAI,CAACC,EAAE,GAAG,CAAC,EAAE,KAAK,CAAC;IAC7CJ,OAAO,CAACK,SAAS,EAAE;EACrB,CAAC;EACH,OAAA1B,MAAC;AAAD,CAAC,CAxCoBF,SAAS;AA0C9B,eAAeE,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}