{"ast":null,"code":"import { animation, annotation, pattern, theme, tooltip } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { deepAssign, flow } from '../../utils';\nimport { meta } from '../tiny-area/adaptor';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nexport { meta };\n/**\n * 字段\n * @param params\n */\nfunction geometry(params) {\n  var chart = params.chart,\n    options = params.options;\n  var data = options.data,\n    color = options.color,\n    columnStyle = options.columnStyle,\n    columnWidthRatio = options.columnWidthRatio;\n  var seriesData = getTinyData(data);\n  chart.data(seriesData);\n  var p = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: columnStyle,\n        color: color\n      }\n    }\n  });\n  interval(p);\n  chart.axis(false);\n  chart.legend(false);\n  chart.interaction('element-active');\n  return params;\n}\n/**\n * 迷你柱形图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n  return flow(theme, pattern('columnStyle'), geometry, meta, tooltip, animation, annotation())(params);\n}","map":{"version":3,"names":["animation","annotation","pattern","theme","tooltip","interval","deepAssign","flow","meta","X_FIELD","Y_FIELD","getTinyData","geometry","params","chart","options","data","color","columnStyle","columnWidthRatio","seriesData","p","xField","yField","widthRatio","style","axis","legend","interaction","adaptor"],"sources":["../../../src/plots/tiny-column/adaptor.ts"],"sourcesContent":["import { animation, annotation, pattern, theme, tooltip } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { meta } from '../tiny-area/adaptor';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { TinyColumnOptions } from './types';\n\nexport { meta };\n\n/**\n * 字段\n * @param params\n */\nfunction geometry(params: Params<TinyColumnOptions>): Params<TinyColumnOptions> {\n  const { chart, options } = params;\n  const { data, color, columnStyle, columnWidthRatio } = options;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  chart.axis(false);\n  chart.legend(false);\n  chart.interaction('element-active');\n  return params;\n}\n\n/**\n * 迷你柱形图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyColumnOptions>) {\n  return flow(theme, pattern('columnStyle'), geometry, meta, tooltip, animation, annotation())(params);\n}\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,UAAU,EAAEC,OAAO,EAAEC,KAAK,EAAEC,OAAO,QAAQ,sBAAsB;AACrF,SAASC,QAAQ,QAAQ,0BAA0B;AAEnD,SAASC,UAAU,EAAEC,IAAI,QAAQ,aAAa;AAC9C,SAASC,IAAI,QAAQ,sBAAsB;AAC3C,SAASC,OAAO,EAAEC,OAAO,QAAQ,wBAAwB;AACzD,SAASC,WAAW,QAAQ,oBAAoB;AAGhD,SAASH,IAAI;AAEb;;;;AAIA,SAASI,QAAQA,CAACC,MAAiC;EACzC,IAAAC,KAAK,GAAcD,MAAM,CAAAC,KAApB;IAAEC,OAAO,GAAKF,MAAM,CAAAE,OAAX;EACd,IAAAC,IAAI,GAA2CD,OAAO,CAAAC,IAAlD;IAAEC,KAAK,GAAoCF,OAAO,CAAAE,KAA3C;IAAEC,WAAW,GAAuBH,OAAO,CAAAG,WAA9B;IAAEC,gBAAgB,GAAKJ,OAAO,CAAAI,gBAAZ;EAElD,IAAMC,UAAU,GAAGT,WAAW,CAACK,IAAI,CAAC;EAEpCF,KAAK,CAACE,IAAI,CAACI,UAAU,CAAC;EAEtB,IAAMC,CAAC,GAAGf,UAAU,CAAC,EAAE,EAAEO,MAAM,EAAE;IAC/BE,OAAO,EAAE;MACPO,MAAM,EAAEb,OAAO;MACfc,MAAM,EAAEb,OAAO;MACfc,UAAU,EAAEL,gBAAgB;MAC5Bd,QAAQ,EAAE;QACRoB,KAAK,EAAEP,WAAW;QAClBD,KAAK,EAAAA;;;GAGV,CAAC;EACFZ,QAAQ,CAACgB,CAAC,CAAC;EAEXP,KAAK,CAACY,IAAI,CAAC,KAAK,CAAC;EACjBZ,KAAK,CAACa,MAAM,CAAC,KAAK,CAAC;EACnBb,KAAK,CAACc,WAAW,CAAC,gBAAgB,CAAC;EACnC,OAAOf,MAAM;AACf;AAEA;;;;;AAKA,OAAM,SAAUgB,OAAOA,CAAChB,MAAiC;EACvD,OAAON,IAAI,CAACJ,KAAK,EAAED,OAAO,CAAC,aAAa,CAAC,EAAEU,QAAQ,EAAEJ,IAAI,EAAEJ,OAAO,EAAEJ,SAAS,EAAEC,UAAU,EAAE,CAAC,CAACY,MAAM,CAAC;AACtG"},"metadata":{},"sourceType":"module","externalDependencies":[]}