{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n/**\n * 'blurH' -> ['blurH', {}]\n */\nexport function normalizePasses(passes) {\n  return passes.map(function (pass) {\n    if (typeof pass === 'string') {\n      pass = [pass, {}];\n    }\n    return pass;\n  });\n}\n\n/**\n * 默认添加 ClearPass、RenderPass\n * 以及 PostProcessing 中的最后一个 CopyPass\n */\nexport function createMultiPassRenderer(layer, passes, postProcessingPassFactory, normalPassFactory) {\n  var multiPassRenderer = layer.multiPassRenderer;\n  var _layer$getLayerConfig = layer.getLayerConfig(),\n    enableTAA = _layer$getLayerConfig.enableTAA;\n\n  // picking pass if enabled\n  // if (enablePicking) {\n  //   multiPassRenderer.add(normalPassFactory('pixelPicking'));\n  // }\n\n  // use TAA pass if enabled instead of render pass\n  if (enableTAA) {\n    multiPassRenderer.add(normalPassFactory('taa'));\n  } else {\n    // render all layers in this pass\n    multiPassRenderer.add(normalPassFactory('render'));\n  }\n\n  // post processing\n  normalizePasses(passes).forEach(function (pass) {\n    var _pass = _slicedToArray(pass, 2),\n      passName = _pass[0],\n      initializationOptions = _pass[1];\n    multiPassRenderer.add(postProcessingPassFactory(passName), initializationOptions);\n  });\n\n  // 末尾为固定的 CopyPass\n  multiPassRenderer.add(postProcessingPassFactory('copy'));\n  return multiPassRenderer;\n}","map":{"version":3,"names":["_slicedToArray","normalizePasses","passes","map","pass","createMultiPassRenderer","layer","postProcessingPassFactory","normalPassFactory","multiPassRenderer","_layer$getLayerConfig","getLayerConfig","enableTAA","add","forEach","_pass","passName","initializationOptions"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-layers/es/utils/multiPassRender.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n/**\n * 'blurH' -> ['blurH', {}]\n */\nexport function normalizePasses(passes) {\n  return passes.map(function (pass) {\n    if (typeof pass === 'string') {\n      pass = [pass, {}];\n    }\n    return pass;\n  });\n}\n\n/**\n * 默认添加 ClearPass、RenderPass\n * 以及 PostProcessing 中的最后一个 CopyPass\n */\nexport function createMultiPassRenderer(layer, passes, postProcessingPassFactory, normalPassFactory) {\n  var multiPassRenderer = layer.multiPassRenderer;\n  var _layer$getLayerConfig = layer.getLayerConfig(),\n    enableTAA = _layer$getLayerConfig.enableTAA;\n\n  // picking pass if enabled\n  // if (enablePicking) {\n  //   multiPassRenderer.add(normalPassFactory('pixelPicking'));\n  // }\n\n  // use TAA pass if enabled instead of render pass\n  if (enableTAA) {\n    multiPassRenderer.add(normalPassFactory('taa'));\n  } else {\n    // render all layers in this pass\n    multiPassRenderer.add(normalPassFactory('render'));\n  }\n\n  // post processing\n  normalizePasses(passes).forEach(function (pass) {\n    var _pass = _slicedToArray(pass, 2),\n      passName = _pass[0],\n      initializationOptions = _pass[1];\n    multiPassRenderer.add(postProcessingPassFactory(passName), initializationOptions);\n  });\n\n  // 末尾为固定的 CopyPass\n  multiPassRenderer.add(postProcessingPassFactory('copy'));\n  return multiPassRenderer;\n}"],"mappings":"AAAA,OAAOA,cAAc,MAAM,0CAA0C;AACrE;AACA;AACA;AACA,OAAO,SAASC,eAAeA,CAACC,MAAM,EAAE;EACtC,OAAOA,MAAM,CAACC,GAAG,CAAC,UAAUC,IAAI,EAAE;IAChC,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;MAC5BA,IAAI,GAAG,CAACA,IAAI,EAAE,CAAC,CAAC,CAAC;IACnB;IACA,OAAOA,IAAI;EACb,CAAC,CAAC;AACJ;;AAEA;AACA;AACA;AACA;AACA,OAAO,SAASC,uBAAuBA,CAACC,KAAK,EAAEJ,MAAM,EAAEK,yBAAyB,EAAEC,iBAAiB,EAAE;EACnG,IAAIC,iBAAiB,GAAGH,KAAK,CAACG,iBAAiB;EAC/C,IAAIC,qBAAqB,GAAGJ,KAAK,CAACK,cAAc,CAAC,CAAC;IAChDC,SAAS,GAAGF,qBAAqB,CAACE,SAAS;;EAE7C;EACA;EACA;EACA;;EAEA;EACA,IAAIA,SAAS,EAAE;IACbH,iBAAiB,CAACI,GAAG,CAACL,iBAAiB,CAAC,KAAK,CAAC,CAAC;EACjD,CAAC,MAAM;IACL;IACAC,iBAAiB,CAACI,GAAG,CAACL,iBAAiB,CAAC,QAAQ,CAAC,CAAC;EACpD;;EAEA;EACAP,eAAe,CAACC,MAAM,CAAC,CAACY,OAAO,CAAC,UAAUV,IAAI,EAAE;IAC9C,IAAIW,KAAK,GAAGf,cAAc,CAACI,IAAI,EAAE,CAAC,CAAC;MACjCY,QAAQ,GAAGD,KAAK,CAAC,CAAC,CAAC;MACnBE,qBAAqB,GAAGF,KAAK,CAAC,CAAC,CAAC;IAClCN,iBAAiB,CAACI,GAAG,CAACN,yBAAyB,CAACS,QAAQ,CAAC,EAAEC,qBAAqB,CAAC;EACnF,CAAC,CAAC;;EAEF;EACAR,iBAAiB,CAACI,GAAG,CAACN,yBAAyB,CAAC,MAAM,CAAC,CAAC;EACxD,OAAOE,iBAAiB;AAC1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}