{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.typed-array.to-reversed.js\";\nimport \"core-js/modules/es.typed-array.to-sorted.js\";\nimport \"core-js/modules/es.typed-array.with.js\";\nimport rescale from 'ml-array-rescale';\nimport { inspectMatrix, inspectMatrixWithOptions } from './inspect';\nimport { installMathOperations } from './mathOperations';\nimport { sumByRow, sumByColumn, sumAll, productByRow, productByColumn, productAll, varianceByRow, varianceByColumn, varianceAll, centerByRow, centerByColumn, centerAll, scaleByRow, scaleByColumn, scaleAll, getScaleByRow, getScaleByColumn, getScaleAll } from './stat';\nimport { checkRowVector, checkRowIndex, checkColumnIndex, checkColumnVector, checkRange, checkIndices } from './util';\nexport class AbstractMatrix {\n  static from1DArray(newRows, newColumns, newData) {\n    let length = newRows * newColumns;\n    if (length !== newData.length) {\n      throw new RangeError('data length does not match given dimensions');\n    }\n    let newMatrix = new Matrix(newRows, newColumns);\n    for (let row = 0; row < newRows; row++) {\n      for (let column = 0; column < newColumns; column++) {\n        newMatrix.set(row, column, newData[row * newColumns + column]);\n      }\n    }\n    return newMatrix;\n  }\n  static rowVector(newData) {\n    let vector = new Matrix(1, newData.length);\n    for (let i = 0; i < newData.length; i++) {\n      vector.set(0, i, newData[i]);\n    }\n    return vector;\n  }\n  static columnVector(newData) {\n    let vector = new Matrix(newData.length, 1);\n    for (let i = 0; i < newData.length; i++) {\n      vector.set(i, 0, newData[i]);\n    }\n    return vector;\n  }\n  static zeros(rows, columns) {\n    return new Matrix(rows, columns);\n  }\n  static ones(rows, columns) {\n    return new Matrix(rows, columns).fill(1);\n  }\n  static rand(rows, columns, options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const {\n      random = Math.random\n    } = options;\n    let matrix = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        matrix.set(i, j, random());\n      }\n    }\n    return matrix;\n  }\n  static randInt(rows, columns, options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const {\n      min = 0,\n      max = 1000,\n      random = Math.random\n    } = options;\n    if (!Number.isInteger(min)) throw new TypeError('min must be an integer');\n    if (!Number.isInteger(max)) throw new TypeError('max must be an integer');\n    if (min >= max) throw new RangeError('min must be smaller than max');\n    let interval = max - min;\n    let matrix = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        let value = min + Math.round(random() * interval);\n        matrix.set(i, j, value);\n      }\n    }\n    return matrix;\n  }\n  static eye(rows, columns, value) {\n    if (columns === undefined) columns = rows;\n    if (value === undefined) value = 1;\n    let min = Math.min(rows, columns);\n    let matrix = this.zeros(rows, columns);\n    for (let i = 0; i < min; i++) {\n      matrix.set(i, i, value);\n    }\n    return matrix;\n  }\n  static diag(data, rows, columns) {\n    let l = data.length;\n    if (rows === undefined) rows = l;\n    if (columns === undefined) columns = rows;\n    let min = Math.min(l, rows, columns);\n    let matrix = this.zeros(rows, columns);\n    for (let i = 0; i < min; i++) {\n      matrix.set(i, i, data[i]);\n    }\n    return matrix;\n  }\n  static min(matrix1, matrix2) {\n    matrix1 = this.checkMatrix(matrix1);\n    matrix2 = this.checkMatrix(matrix2);\n    let rows = matrix1.rows;\n    let columns = matrix1.columns;\n    let result = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        result.set(i, j, Math.min(matrix1.get(i, j), matrix2.get(i, j)));\n      }\n    }\n    return result;\n  }\n  static max(matrix1, matrix2) {\n    matrix1 = this.checkMatrix(matrix1);\n    matrix2 = this.checkMatrix(matrix2);\n    let rows = matrix1.rows;\n    let columns = matrix1.columns;\n    let result = new this(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        result.set(i, j, Math.max(matrix1.get(i, j), matrix2.get(i, j)));\n      }\n    }\n    return result;\n  }\n  static checkMatrix(value) {\n    return AbstractMatrix.isMatrix(value) ? value : new Matrix(value);\n  }\n  static isMatrix(value) {\n    return value != null && value.klass === 'Matrix';\n  }\n  get size() {\n    return this.rows * this.columns;\n  }\n  apply(callback) {\n    if (typeof callback !== 'function') {\n      throw new TypeError('callback must be a function');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        callback.call(this, i, j);\n      }\n    }\n    return this;\n  }\n  to1DArray() {\n    let array = [];\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        array.push(this.get(i, j));\n      }\n    }\n    return array;\n  }\n  to2DArray() {\n    let copy = [];\n    for (let i = 0; i < this.rows; i++) {\n      copy.push([]);\n      for (let j = 0; j < this.columns; j++) {\n        copy[i].push(this.get(i, j));\n      }\n    }\n    return copy;\n  }\n  toJSON() {\n    return this.to2DArray();\n  }\n  isRowVector() {\n    return this.rows === 1;\n  }\n  isColumnVector() {\n    return this.columns === 1;\n  }\n  isVector() {\n    return this.rows === 1 || this.columns === 1;\n  }\n  isSquare() {\n    return this.rows === this.columns;\n  }\n  isSymmetric() {\n    if (this.isSquare()) {\n      for (let i = 0; i < this.rows; i++) {\n        for (let j = 0; j <= i; j++) {\n          if (this.get(i, j) !== this.get(j, i)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n  isEchelonForm() {\n    let i = 0;\n    let j = 0;\n    let previousColumn = -1;\n    let isEchelonForm = true;\n    let checked = false;\n    while (i < this.rows && isEchelonForm) {\n      j = 0;\n      checked = false;\n      while (j < this.columns && checked === false) {\n        if (this.get(i, j) === 0) {\n          j++;\n        } else if (this.get(i, j) === 1 && j > previousColumn) {\n          checked = true;\n          previousColumn = j;\n        } else {\n          isEchelonForm = false;\n          checked = true;\n        }\n      }\n      i++;\n    }\n    return isEchelonForm;\n  }\n  isReducedEchelonForm() {\n    let i = 0;\n    let j = 0;\n    let previousColumn = -1;\n    let isReducedEchelonForm = true;\n    let checked = false;\n    while (i < this.rows && isReducedEchelonForm) {\n      j = 0;\n      checked = false;\n      while (j < this.columns && checked === false) {\n        if (this.get(i, j) === 0) {\n          j++;\n        } else if (this.get(i, j) === 1 && j > previousColumn) {\n          checked = true;\n          previousColumn = j;\n        } else {\n          isReducedEchelonForm = false;\n          checked = true;\n        }\n      }\n      for (let k = j + 1; k < this.rows; k++) {\n        if (this.get(i, k) !== 0) {\n          isReducedEchelonForm = false;\n        }\n      }\n      i++;\n    }\n    return isReducedEchelonForm;\n  }\n  echelonForm() {\n    let result = this.clone();\n    let h = 0;\n    let k = 0;\n    while (h < result.rows && k < result.columns) {\n      let iMax = h;\n      for (let i = h; i < result.rows; i++) {\n        if (result.get(i, k) > result.get(iMax, k)) {\n          iMax = i;\n        }\n      }\n      if (result.get(iMax, k) === 0) {\n        k++;\n      } else {\n        result.swapRows(h, iMax);\n        let tmp = result.get(h, k);\n        for (let j = k; j < result.columns; j++) {\n          result.set(h, j, result.get(h, j) / tmp);\n        }\n        for (let i = h + 1; i < result.rows; i++) {\n          let factor = result.get(i, k) / result.get(h, k);\n          result.set(i, k, 0);\n          for (let j = k + 1; j < result.columns; j++) {\n            result.set(i, j, result.get(i, j) - result.get(h, j) * factor);\n          }\n        }\n        h++;\n        k++;\n      }\n    }\n    return result;\n  }\n  reducedEchelonForm() {\n    let result = this.echelonForm();\n    let m = result.columns;\n    let n = result.rows;\n    let h = n - 1;\n    while (h >= 0) {\n      if (result.maxRow(h) === 0) {\n        h--;\n      } else {\n        let p = 0;\n        let pivot = false;\n        while (p < n && pivot === false) {\n          if (result.get(h, p) === 1) {\n            pivot = true;\n          } else {\n            p++;\n          }\n        }\n        for (let i = 0; i < h; i++) {\n          let factor = result.get(i, p);\n          for (let j = p; j < m; j++) {\n            let tmp = result.get(i, j) - factor * result.get(h, j);\n            result.set(i, j, tmp);\n          }\n        }\n        h--;\n      }\n    }\n    return result;\n  }\n  set() {\n    throw new Error('set method is unimplemented');\n  }\n  get() {\n    throw new Error('get method is unimplemented');\n  }\n  repeat(options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const {\n      rows = 1,\n      columns = 1\n    } = options;\n    if (!Number.isInteger(rows) || rows <= 0) {\n      throw new TypeError('rows must be a positive integer');\n    }\n    if (!Number.isInteger(columns) || columns <= 0) {\n      throw new TypeError('columns must be a positive integer');\n    }\n    let matrix = new Matrix(this.rows * rows, this.columns * columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        matrix.setSubMatrix(this, this.rows * i, this.columns * j);\n      }\n    }\n    return matrix;\n  }\n  fill(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, value);\n      }\n    }\n    return this;\n  }\n  neg() {\n    return this.mulS(-1);\n  }\n  getRow(index) {\n    checkRowIndex(this, index);\n    let row = [];\n    for (let i = 0; i < this.columns; i++) {\n      row.push(this.get(index, i));\n    }\n    return row;\n  }\n  getRowVector(index) {\n    return Matrix.rowVector(this.getRow(index));\n  }\n  setRow(index, array) {\n    checkRowIndex(this, index);\n    array = checkRowVector(this, array);\n    for (let i = 0; i < this.columns; i++) {\n      this.set(index, i, array[i]);\n    }\n    return this;\n  }\n  swapRows(row1, row2) {\n    checkRowIndex(this, row1);\n    checkRowIndex(this, row2);\n    for (let i = 0; i < this.columns; i++) {\n      let temp = this.get(row1, i);\n      this.set(row1, i, this.get(row2, i));\n      this.set(row2, i, temp);\n    }\n    return this;\n  }\n  getColumn(index) {\n    checkColumnIndex(this, index);\n    let column = [];\n    for (let i = 0; i < this.rows; i++) {\n      column.push(this.get(i, index));\n    }\n    return column;\n  }\n  getColumnVector(index) {\n    return Matrix.columnVector(this.getColumn(index));\n  }\n  setColumn(index, array) {\n    checkColumnIndex(this, index);\n    array = checkColumnVector(this, array);\n    for (let i = 0; i < this.rows; i++) {\n      this.set(i, index, array[i]);\n    }\n    return this;\n  }\n  swapColumns(column1, column2) {\n    checkColumnIndex(this, column1);\n    checkColumnIndex(this, column2);\n    for (let i = 0; i < this.rows; i++) {\n      let temp = this.get(i, column1);\n      this.set(i, column1, this.get(i, column2));\n      this.set(i, column2, temp);\n    }\n    return this;\n  }\n  addRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + vector[j]);\n      }\n    }\n    return this;\n  }\n  subRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - vector[j]);\n      }\n    }\n    return this;\n  }\n  mulRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * vector[j]);\n      }\n    }\n    return this;\n  }\n  divRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / vector[j]);\n      }\n    }\n    return this;\n  }\n  addColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + vector[i]);\n      }\n    }\n    return this;\n  }\n  subColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - vector[i]);\n      }\n    }\n    return this;\n  }\n  mulColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * vector[i]);\n      }\n    }\n    return this;\n  }\n  divColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / vector[i]);\n      }\n    }\n    return this;\n  }\n  mulRow(index, value) {\n    checkRowIndex(this, index);\n    for (let i = 0; i < this.columns; i++) {\n      this.set(index, i, this.get(index, i) * value);\n    }\n    return this;\n  }\n  mulColumn(index, value) {\n    checkColumnIndex(this, index);\n    for (let i = 0; i < this.rows; i++) {\n      this.set(i, index, this.get(i, index) * value);\n    }\n    return this;\n  }\n  max() {\n    let v = this.get(0, 0);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) > v) {\n          v = this.get(i, j);\n        }\n      }\n    }\n    return v;\n  }\n  maxIndex() {\n    let v = this.get(0, 0);\n    let idx = [0, 0];\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) > v) {\n          v = this.get(i, j);\n          idx[0] = i;\n          idx[1] = j;\n        }\n      }\n    }\n    return idx;\n  }\n  min() {\n    let v = this.get(0, 0);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) < v) {\n          v = this.get(i, j);\n        }\n      }\n    }\n    return v;\n  }\n  minIndex() {\n    let v = this.get(0, 0);\n    let idx = [0, 0];\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) < v) {\n          v = this.get(i, j);\n          idx[0] = i;\n          idx[1] = j;\n        }\n      }\n    }\n    return idx;\n  }\n  maxRow(row) {\n    checkRowIndex(this, row);\n    let v = this.get(row, 0);\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) > v) {\n        v = this.get(row, i);\n      }\n    }\n    return v;\n  }\n  maxRowIndex(row) {\n    checkRowIndex(this, row);\n    let v = this.get(row, 0);\n    let idx = [row, 0];\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) > v) {\n        v = this.get(row, i);\n        idx[1] = i;\n      }\n    }\n    return idx;\n  }\n  minRow(row) {\n    checkRowIndex(this, row);\n    let v = this.get(row, 0);\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) < v) {\n        v = this.get(row, i);\n      }\n    }\n    return v;\n  }\n  minRowIndex(row) {\n    checkRowIndex(this, row);\n    let v = this.get(row, 0);\n    let idx = [row, 0];\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) < v) {\n        v = this.get(row, i);\n        idx[1] = i;\n      }\n    }\n    return idx;\n  }\n  maxColumn(column) {\n    checkColumnIndex(this, column);\n    let v = this.get(0, column);\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) > v) {\n        v = this.get(i, column);\n      }\n    }\n    return v;\n  }\n  maxColumnIndex(column) {\n    checkColumnIndex(this, column);\n    let v = this.get(0, column);\n    let idx = [0, column];\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) > v) {\n        v = this.get(i, column);\n        idx[0] = i;\n      }\n    }\n    return idx;\n  }\n  minColumn(column) {\n    checkColumnIndex(this, column);\n    let v = this.get(0, column);\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) < v) {\n        v = this.get(i, column);\n      }\n    }\n    return v;\n  }\n  minColumnIndex(column) {\n    checkColumnIndex(this, column);\n    let v = this.get(0, column);\n    let idx = [0, column];\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) < v) {\n        v = this.get(i, column);\n        idx[0] = i;\n      }\n    }\n    return idx;\n  }\n  diag() {\n    let min = Math.min(this.rows, this.columns);\n    let diag = [];\n    for (let i = 0; i < min; i++) {\n      diag.push(this.get(i, i));\n    }\n    return diag;\n  }\n  norm(type = 'frobenius') {\n    let result = 0;\n    if (type === 'max') {\n      return this.max();\n    } else if (type === 'frobenius') {\n      for (let i = 0; i < this.rows; i++) {\n        for (let j = 0; j < this.columns; j++) {\n          result = result + this.get(i, j) * this.get(i, j);\n        }\n      }\n      return Math.sqrt(result);\n    } else {\n      throw new RangeError(`unknown norm type: ${type}`);\n    }\n  }\n  cumulativeSum() {\n    let sum = 0;\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        sum += this.get(i, j);\n        this.set(i, j, sum);\n      }\n    }\n    return this;\n  }\n  dot(vector2) {\n    if (AbstractMatrix.isMatrix(vector2)) vector2 = vector2.to1DArray();\n    let vector1 = this.to1DArray();\n    if (vector1.length !== vector2.length) {\n      throw new RangeError('vectors do not have the same size');\n    }\n    let dot = 0;\n    for (let i = 0; i < vector1.length; i++) {\n      dot += vector1[i] * vector2[i];\n    }\n    return dot;\n  }\n  mmul(other) {\n    other = Matrix.checkMatrix(other);\n    let m = this.rows;\n    let n = this.columns;\n    let p = other.columns;\n    let result = new Matrix(m, p);\n    let Bcolj = new Float64Array(n);\n    for (let j = 0; j < p; j++) {\n      for (let k = 0; k < n; k++) {\n        Bcolj[k] = other.get(k, j);\n      }\n      for (let i = 0; i < m; i++) {\n        let s = 0;\n        for (let k = 0; k < n; k++) {\n          s += this.get(i, k) * Bcolj[k];\n        }\n        result.set(i, j, s);\n      }\n    }\n    return result;\n  }\n  strassen2x2(other) {\n    other = Matrix.checkMatrix(other);\n    let result = new Matrix(2, 2);\n    const a11 = this.get(0, 0);\n    const b11 = other.get(0, 0);\n    const a12 = this.get(0, 1);\n    const b12 = other.get(0, 1);\n    const a21 = this.get(1, 0);\n    const b21 = other.get(1, 0);\n    const a22 = this.get(1, 1);\n    const b22 = other.get(1, 1);\n\n    // Compute intermediate values.\n    const m1 = (a11 + a22) * (b11 + b22);\n    const m2 = (a21 + a22) * b11;\n    const m3 = a11 * (b12 - b22);\n    const m4 = a22 * (b21 - b11);\n    const m5 = (a11 + a12) * b22;\n    const m6 = (a21 - a11) * (b11 + b12);\n    const m7 = (a12 - a22) * (b21 + b22);\n\n    // Combine intermediate values into the output.\n    const c00 = m1 + m4 - m5 + m7;\n    const c01 = m3 + m5;\n    const c10 = m2 + m4;\n    const c11 = m1 - m2 + m3 + m6;\n    result.set(0, 0, c00);\n    result.set(0, 1, c01);\n    result.set(1, 0, c10);\n    result.set(1, 1, c11);\n    return result;\n  }\n  strassen3x3(other) {\n    other = Matrix.checkMatrix(other);\n    let result = new Matrix(3, 3);\n    const a00 = this.get(0, 0);\n    const a01 = this.get(0, 1);\n    const a02 = this.get(0, 2);\n    const a10 = this.get(1, 0);\n    const a11 = this.get(1, 1);\n    const a12 = this.get(1, 2);\n    const a20 = this.get(2, 0);\n    const a21 = this.get(2, 1);\n    const a22 = this.get(2, 2);\n    const b00 = other.get(0, 0);\n    const b01 = other.get(0, 1);\n    const b02 = other.get(0, 2);\n    const b10 = other.get(1, 0);\n    const b11 = other.get(1, 1);\n    const b12 = other.get(1, 2);\n    const b20 = other.get(2, 0);\n    const b21 = other.get(2, 1);\n    const b22 = other.get(2, 2);\n    const m1 = (a00 + a01 + a02 - a10 - a11 - a21 - a22) * b11;\n    const m2 = (a00 - a10) * (-b01 + b11);\n    const m3 = a11 * (-b00 + b01 + b10 - b11 - b12 - b20 + b22);\n    const m4 = (-a00 + a10 + a11) * (b00 - b01 + b11);\n    const m5 = (a10 + a11) * (-b00 + b01);\n    const m6 = a00 * b00;\n    const m7 = (-a00 + a20 + a21) * (b00 - b02 + b12);\n    const m8 = (-a00 + a20) * (b02 - b12);\n    const m9 = (a20 + a21) * (-b00 + b02);\n    const m10 = (a00 + a01 + a02 - a11 - a12 - a20 - a21) * b12;\n    const m11 = a21 * (-b00 + b02 + b10 - b11 - b12 - b20 + b21);\n    const m12 = (-a02 + a21 + a22) * (b11 + b20 - b21);\n    const m13 = (a02 - a22) * (b11 - b21);\n    const m14 = a02 * b20;\n    const m15 = (a21 + a22) * (-b20 + b21);\n    const m16 = (-a02 + a11 + a12) * (b12 + b20 - b22);\n    const m17 = (a02 - a12) * (b12 - b22);\n    const m18 = (a11 + a12) * (-b20 + b22);\n    const m19 = a01 * b10;\n    const m20 = a12 * b21;\n    const m21 = a10 * b02;\n    const m22 = a20 * b01;\n    const m23 = a22 * b22;\n    const c00 = m6 + m14 + m19;\n    const c01 = m1 + m4 + m5 + m6 + m12 + m14 + m15;\n    const c02 = m6 + m7 + m9 + m10 + m14 + m16 + m18;\n    const c10 = m2 + m3 + m4 + m6 + m14 + m16 + m17;\n    const c11 = m2 + m4 + m5 + m6 + m20;\n    const c12 = m14 + m16 + m17 + m18 + m21;\n    const c20 = m6 + m7 + m8 + m11 + m12 + m13 + m14;\n    const c21 = m12 + m13 + m14 + m15 + m22;\n    const c22 = m6 + m7 + m8 + m9 + m23;\n    result.set(0, 0, c00);\n    result.set(0, 1, c01);\n    result.set(0, 2, c02);\n    result.set(1, 0, c10);\n    result.set(1, 1, c11);\n    result.set(1, 2, c12);\n    result.set(2, 0, c20);\n    result.set(2, 1, c21);\n    result.set(2, 2, c22);\n    return result;\n  }\n  mmulStrassen(y) {\n    y = Matrix.checkMatrix(y);\n    let x = this.clone();\n    let r1 = x.rows;\n    let c1 = x.columns;\n    let r2 = y.rows;\n    let c2 = y.columns;\n    if (c1 !== r2) {\n      // eslint-disable-next-line no-console\n      console.warn(`Multiplying ${r1} x ${c1} and ${r2} x ${c2} matrix: dimensions do not match.`);\n    }\n\n    // Put a matrix into the top left of a matrix of zeros.\n    // `rows` and `cols` are the dimensions of the output matrix.\n    function embed(mat, rows, cols) {\n      let r = mat.rows;\n      let c = mat.columns;\n      if (r === rows && c === cols) {\n        return mat;\n      } else {\n        let resultat = AbstractMatrix.zeros(rows, cols);\n        resultat = resultat.setSubMatrix(mat, 0, 0);\n        return resultat;\n      }\n    }\n\n    // Make sure both matrices are the same size.\n    // This is exclusively for simplicity:\n    // this algorithm can be implemented with matrices of different sizes.\n\n    let r = Math.max(r1, r2);\n    let c = Math.max(c1, c2);\n    x = embed(x, r, c);\n    y = embed(y, r, c);\n\n    // Our recursive multiplication function.\n    function blockMult(a, b, rows, cols) {\n      // For small matrices, resort to naive multiplication.\n      if (rows <= 512 || cols <= 512) {\n        return a.mmul(b); // a is equivalent to this\n      }\n\n      // Apply dynamic padding.\n      if (rows % 2 === 1 && cols % 2 === 1) {\n        a = embed(a, rows + 1, cols + 1);\n        b = embed(b, rows + 1, cols + 1);\n      } else if (rows % 2 === 1) {\n        a = embed(a, rows + 1, cols);\n        b = embed(b, rows + 1, cols);\n      } else if (cols % 2 === 1) {\n        a = embed(a, rows, cols + 1);\n        b = embed(b, rows, cols + 1);\n      }\n      let halfRows = parseInt(a.rows / 2, 10);\n      let halfCols = parseInt(a.columns / 2, 10);\n      // Subdivide input matrices.\n      let a11 = a.subMatrix(0, halfRows - 1, 0, halfCols - 1);\n      let b11 = b.subMatrix(0, halfRows - 1, 0, halfCols - 1);\n      let a12 = a.subMatrix(0, halfRows - 1, halfCols, a.columns - 1);\n      let b12 = b.subMatrix(0, halfRows - 1, halfCols, b.columns - 1);\n      let a21 = a.subMatrix(halfRows, a.rows - 1, 0, halfCols - 1);\n      let b21 = b.subMatrix(halfRows, b.rows - 1, 0, halfCols - 1);\n      let a22 = a.subMatrix(halfRows, a.rows - 1, halfCols, a.columns - 1);\n      let b22 = b.subMatrix(halfRows, b.rows - 1, halfCols, b.columns - 1);\n\n      // Compute intermediate values.\n      let m1 = blockMult(AbstractMatrix.add(a11, a22), AbstractMatrix.add(b11, b22), halfRows, halfCols);\n      let m2 = blockMult(AbstractMatrix.add(a21, a22), b11, halfRows, halfCols);\n      let m3 = blockMult(a11, AbstractMatrix.sub(b12, b22), halfRows, halfCols);\n      let m4 = blockMult(a22, AbstractMatrix.sub(b21, b11), halfRows, halfCols);\n      let m5 = blockMult(AbstractMatrix.add(a11, a12), b22, halfRows, halfCols);\n      let m6 = blockMult(AbstractMatrix.sub(a21, a11), AbstractMatrix.add(b11, b12), halfRows, halfCols);\n      let m7 = blockMult(AbstractMatrix.sub(a12, a22), AbstractMatrix.add(b21, b22), halfRows, halfCols);\n\n      // Combine intermediate values into the output.\n      let c11 = AbstractMatrix.add(m1, m4);\n      c11.sub(m5);\n      c11.add(m7);\n      let c12 = AbstractMatrix.add(m3, m5);\n      let c21 = AbstractMatrix.add(m2, m4);\n      let c22 = AbstractMatrix.sub(m1, m2);\n      c22.add(m3);\n      c22.add(m6);\n\n      // Crop output to the desired size (undo dynamic padding).\n      let resultat = AbstractMatrix.zeros(2 * c11.rows, 2 * c11.columns);\n      resultat = resultat.setSubMatrix(c11, 0, 0);\n      resultat = resultat.setSubMatrix(c12, c11.rows, 0);\n      resultat = resultat.setSubMatrix(c21, 0, c11.columns);\n      resultat = resultat.setSubMatrix(c22, c11.rows, c11.columns);\n      return resultat.subMatrix(0, rows - 1, 0, cols - 1);\n    }\n    return blockMult(x, y, r, c);\n  }\n  scaleRows(options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const {\n      min = 0,\n      max = 1\n    } = options;\n    if (!Number.isFinite(min)) throw new TypeError('min must be a number');\n    if (!Number.isFinite(max)) throw new TypeError('max must be a number');\n    if (min >= max) throw new RangeError('min must be smaller than max');\n    let newMatrix = new Matrix(this.rows, this.columns);\n    for (let i = 0; i < this.rows; i++) {\n      const row = this.getRow(i);\n      rescale(row, {\n        min,\n        max,\n        output: row\n      });\n      newMatrix.setRow(i, row);\n    }\n    return newMatrix;\n  }\n  scaleColumns(options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const {\n      min = 0,\n      max = 1\n    } = options;\n    if (!Number.isFinite(min)) throw new TypeError('min must be a number');\n    if (!Number.isFinite(max)) throw new TypeError('max must be a number');\n    if (min >= max) throw new RangeError('min must be smaller than max');\n    let newMatrix = new Matrix(this.rows, this.columns);\n    for (let i = 0; i < this.columns; i++) {\n      const column = this.getColumn(i);\n      rescale(column, {\n        min: min,\n        max: max,\n        output: column\n      });\n      newMatrix.setColumn(i, column);\n    }\n    return newMatrix;\n  }\n  flipRows() {\n    const middle = Math.ceil(this.columns / 2);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < middle; j++) {\n        let first = this.get(i, j);\n        let last = this.get(i, this.columns - 1 - j);\n        this.set(i, j, last);\n        this.set(i, this.columns - 1 - j, first);\n      }\n    }\n    return this;\n  }\n  flipColumns() {\n    const middle = Math.ceil(this.rows / 2);\n    for (let j = 0; j < this.columns; j++) {\n      for (let i = 0; i < middle; i++) {\n        let first = this.get(i, j);\n        let last = this.get(this.rows - 1 - i, j);\n        this.set(i, j, last);\n        this.set(this.rows - 1 - i, j, first);\n      }\n    }\n    return this;\n  }\n  kroneckerProduct(other) {\n    other = Matrix.checkMatrix(other);\n    let m = this.rows;\n    let n = this.columns;\n    let p = other.rows;\n    let q = other.columns;\n    let result = new Matrix(m * p, n * q);\n    for (let i = 0; i < m; i++) {\n      for (let j = 0; j < n; j++) {\n        for (let k = 0; k < p; k++) {\n          for (let l = 0; l < q; l++) {\n            result.set(p * i + k, q * j + l, this.get(i, j) * other.get(k, l));\n          }\n        }\n      }\n    }\n    return result;\n  }\n  transpose() {\n    let result = new Matrix(this.columns, this.rows);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        result.set(j, i, this.get(i, j));\n      }\n    }\n    return result;\n  }\n  sortRows(compareFunction = compareNumbers) {\n    for (let i = 0; i < this.rows; i++) {\n      this.setRow(i, this.getRow(i).sort(compareFunction));\n    }\n    return this;\n  }\n  sortColumns(compareFunction = compareNumbers) {\n    for (let i = 0; i < this.columns; i++) {\n      this.setColumn(i, this.getColumn(i).sort(compareFunction));\n    }\n    return this;\n  }\n  subMatrix(startRow, endRow, startColumn, endColumn) {\n    checkRange(this, startRow, endRow, startColumn, endColumn);\n    let newMatrix = new Matrix(endRow - startRow + 1, endColumn - startColumn + 1);\n    for (let i = startRow; i <= endRow; i++) {\n      for (let j = startColumn; j <= endColumn; j++) {\n        newMatrix.set(i - startRow, j - startColumn, this.get(i, j));\n      }\n    }\n    return newMatrix;\n  }\n  subMatrixRow(indices, startColumn, endColumn) {\n    if (startColumn === undefined) startColumn = 0;\n    if (endColumn === undefined) endColumn = this.columns - 1;\n    if (startColumn > endColumn || startColumn < 0 || startColumn >= this.columns || endColumn < 0 || endColumn >= this.columns) {\n      throw new RangeError('Argument out of range');\n    }\n    let newMatrix = new Matrix(indices.length, endColumn - startColumn + 1);\n    for (let i = 0; i < indices.length; i++) {\n      for (let j = startColumn; j <= endColumn; j++) {\n        if (indices[i] < 0 || indices[i] >= this.rows) {\n          throw new RangeError(`Row index out of range: ${indices[i]}`);\n        }\n        newMatrix.set(i, j - startColumn, this.get(indices[i], j));\n      }\n    }\n    return newMatrix;\n  }\n  subMatrixColumn(indices, startRow, endRow) {\n    if (startRow === undefined) startRow = 0;\n    if (endRow === undefined) endRow = this.rows - 1;\n    if (startRow > endRow || startRow < 0 || startRow >= this.rows || endRow < 0 || endRow >= this.rows) {\n      throw new RangeError('Argument out of range');\n    }\n    let newMatrix = new Matrix(endRow - startRow + 1, indices.length);\n    for (let i = 0; i < indices.length; i++) {\n      for (let j = startRow; j <= endRow; j++) {\n        if (indices[i] < 0 || indices[i] >= this.columns) {\n          throw new RangeError(`Column index out of range: ${indices[i]}`);\n        }\n        newMatrix.set(j - startRow, i, this.get(j, indices[i]));\n      }\n    }\n    return newMatrix;\n  }\n  setSubMatrix(matrix, startRow, startColumn) {\n    matrix = Matrix.checkMatrix(matrix);\n    let endRow = startRow + matrix.rows - 1;\n    let endColumn = startColumn + matrix.columns - 1;\n    checkRange(this, startRow, endRow, startColumn, endColumn);\n    for (let i = 0; i < matrix.rows; i++) {\n      for (let j = 0; j < matrix.columns; j++) {\n        this.set(startRow + i, startColumn + j, matrix.get(i, j));\n      }\n    }\n    return this;\n  }\n  selection(rowIndices, columnIndices) {\n    let indices = checkIndices(this, rowIndices, columnIndices);\n    let newMatrix = new Matrix(rowIndices.length, columnIndices.length);\n    for (let i = 0; i < indices.row.length; i++) {\n      let rowIndex = indices.row[i];\n      for (let j = 0; j < indices.column.length; j++) {\n        let columnIndex = indices.column[j];\n        newMatrix.set(i, j, this.get(rowIndex, columnIndex));\n      }\n    }\n    return newMatrix;\n  }\n  trace() {\n    let min = Math.min(this.rows, this.columns);\n    let trace = 0;\n    for (let i = 0; i < min; i++) {\n      trace += this.get(i, i);\n    }\n    return trace;\n  }\n  clone() {\n    let newMatrix = new Matrix(this.rows, this.columns);\n    for (let row = 0; row < this.rows; row++) {\n      for (let column = 0; column < this.columns; column++) {\n        newMatrix.set(row, column, this.get(row, column));\n      }\n    }\n    return newMatrix;\n  }\n  sum(by) {\n    switch (by) {\n      case 'row':\n        return sumByRow(this);\n      case 'column':\n        return sumByColumn(this);\n      case undefined:\n        return sumAll(this);\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n  product(by) {\n    switch (by) {\n      case 'row':\n        return productByRow(this);\n      case 'column':\n        return productByColumn(this);\n      case undefined:\n        return productAll(this);\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n  mean(by) {\n    const sum = this.sum(by);\n    switch (by) {\n      case 'row':\n        {\n          for (let i = 0; i < this.rows; i++) {\n            sum[i] /= this.columns;\n          }\n          return sum;\n        }\n      case 'column':\n        {\n          for (let i = 0; i < this.columns; i++) {\n            sum[i] /= this.rows;\n          }\n          return sum;\n        }\n      case undefined:\n        return sum / this.size;\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n  variance(by, options = {}) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const {\n      unbiased = true,\n      mean = this.mean(by)\n    } = options;\n    if (typeof unbiased !== 'boolean') {\n      throw new TypeError('unbiased must be a boolean');\n    }\n    switch (by) {\n      case 'row':\n        {\n          if (!Array.isArray(mean)) {\n            throw new TypeError('mean must be an array');\n          }\n          return varianceByRow(this, unbiased, mean);\n        }\n      case 'column':\n        {\n          if (!Array.isArray(mean)) {\n            throw new TypeError('mean must be an array');\n          }\n          return varianceByColumn(this, unbiased, mean);\n        }\n      case undefined:\n        {\n          if (typeof mean !== 'number') {\n            throw new TypeError('mean must be a number');\n          }\n          return varianceAll(this, unbiased, mean);\n        }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n  standardDeviation(by, options) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    const variance = this.variance(by, options);\n    if (by === undefined) {\n      return Math.sqrt(variance);\n    } else {\n      for (let i = 0; i < variance.length; i++) {\n        variance[i] = Math.sqrt(variance[i]);\n      }\n      return variance;\n    }\n  }\n  center(by, options = {}) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const {\n      center = this.mean(by)\n    } = options;\n    switch (by) {\n      case 'row':\n        {\n          if (!Array.isArray(center)) {\n            throw new TypeError('center must be an array');\n          }\n          centerByRow(this, center);\n          return this;\n        }\n      case 'column':\n        {\n          if (!Array.isArray(center)) {\n            throw new TypeError('center must be an array');\n          }\n          centerByColumn(this, center);\n          return this;\n        }\n      case undefined:\n        {\n          if (typeof center !== 'number') {\n            throw new TypeError('center must be a number');\n          }\n          centerAll(this, center);\n          return this;\n        }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n  scale(by, options = {}) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    let scale = options.scale;\n    switch (by) {\n      case 'row':\n        {\n          if (scale === undefined) {\n            scale = getScaleByRow(this);\n          } else if (!Array.isArray(scale)) {\n            throw new TypeError('scale must be an array');\n          }\n          scaleByRow(this, scale);\n          return this;\n        }\n      case 'column':\n        {\n          if (scale === undefined) {\n            scale = getScaleByColumn(this);\n          } else if (!Array.isArray(scale)) {\n            throw new TypeError('scale must be an array');\n          }\n          scaleByColumn(this, scale);\n          return this;\n        }\n      case undefined:\n        {\n          if (scale === undefined) {\n            scale = getScaleAll(this);\n          } else if (typeof scale !== 'number') {\n            throw new TypeError('scale must be a number');\n          }\n          scaleAll(this, scale);\n          return this;\n        }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n  toString(options) {\n    return inspectMatrixWithOptions(this, options);\n  }\n}\nAbstractMatrix.prototype.klass = 'Matrix';\nif (typeof Symbol !== 'undefined') {\n  AbstractMatrix.prototype[Symbol.for('nodejs.util.inspect.custom')] = inspectMatrix;\n}\nfunction compareNumbers(a, b) {\n  return a - b;\n}\n\n// Synonyms\nAbstractMatrix.random = AbstractMatrix.rand;\nAbstractMatrix.randomInt = AbstractMatrix.randInt;\nAbstractMatrix.diagonal = AbstractMatrix.diag;\nAbstractMatrix.prototype.diagonal = AbstractMatrix.prototype.diag;\nAbstractMatrix.identity = AbstractMatrix.eye;\nAbstractMatrix.prototype.negate = AbstractMatrix.prototype.neg;\nAbstractMatrix.prototype.tensorProduct = AbstractMatrix.prototype.kroneckerProduct;\nexport default class Matrix extends AbstractMatrix {\n  constructor(nRows, nColumns) {\n    super();\n    if (Matrix.isMatrix(nRows)) {\n      return nRows.clone();\n    } else if (Number.isInteger(nRows) && nRows > 0) {\n      // Create an empty matrix\n      this.data = [];\n      if (Number.isInteger(nColumns) && nColumns > 0) {\n        for (let i = 0; i < nRows; i++) {\n          this.data.push(new Float64Array(nColumns));\n        }\n      } else {\n        throw new TypeError('nColumns must be a positive integer');\n      }\n    } else if (Array.isArray(nRows)) {\n      // Copy the values from the 2D array\n      const arrayData = nRows;\n      nRows = arrayData.length;\n      nColumns = arrayData[0].length;\n      if (typeof nColumns !== 'number' || nColumns === 0) {\n        throw new TypeError('Data must be a 2D array with at least one element');\n      }\n      this.data = [];\n      for (let i = 0; i < nRows; i++) {\n        if (arrayData[i].length !== nColumns) {\n          throw new RangeError('Inconsistent array dimensions');\n        }\n        this.data.push(Float64Array.from(arrayData[i]));\n      }\n    } else {\n      throw new TypeError('First argument must be a positive number or an array');\n    }\n    this.rows = nRows;\n    this.columns = nColumns;\n    return this;\n  }\n  set(rowIndex, columnIndex, value) {\n    this.data[rowIndex][columnIndex] = value;\n    return this;\n  }\n  get(rowIndex, columnIndex) {\n    return this.data[rowIndex][columnIndex];\n  }\n  removeRow(index) {\n    checkRowIndex(this, index);\n    if (this.rows === 1) {\n      throw new RangeError('A matrix cannot have less than one row');\n    }\n    this.data.splice(index, 1);\n    this.rows -= 1;\n    return this;\n  }\n  addRow(index, array) {\n    if (array === undefined) {\n      array = index;\n      index = this.rows;\n    }\n    checkRowIndex(this, index, true);\n    array = Float64Array.from(checkRowVector(this, array, true));\n    this.data.splice(index, 0, array);\n    this.rows += 1;\n    return this;\n  }\n  removeColumn(index) {\n    checkColumnIndex(this, index);\n    if (this.columns === 1) {\n      throw new RangeError('A matrix cannot have less than one column');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      const newRow = new Float64Array(this.columns - 1);\n      for (let j = 0; j < index; j++) {\n        newRow[j] = this.data[i][j];\n      }\n      for (let j = index + 1; j < this.columns; j++) {\n        newRow[j - 1] = this.data[i][j];\n      }\n      this.data[i] = newRow;\n    }\n    this.columns -= 1;\n    return this;\n  }\n  addColumn(index, array) {\n    if (typeof array === 'undefined') {\n      array = index;\n      index = this.columns;\n    }\n    checkColumnIndex(this, index, true);\n    array = checkColumnVector(this, array);\n    for (let i = 0; i < this.rows; i++) {\n      const newRow = new Float64Array(this.columns + 1);\n      let j = 0;\n      for (; j < index; j++) {\n        newRow[j] = this.data[i][j];\n      }\n      newRow[j++] = array[i];\n      for (; j < this.columns + 1; j++) {\n        newRow[j] = this.data[i][j - 1];\n      }\n      this.data[i] = newRow;\n    }\n    this.columns += 1;\n    return this;\n  }\n}\ninstallMathOperations(AbstractMatrix, Matrix);","map":{"version":3,"names":["rescale","inspectMatrix","inspectMatrixWithOptions","installMathOperations","sumByRow","sumByColumn","sumAll","productByRow","productByColumn","productAll","varianceByRow","varianceByColumn","varianceAll","centerByRow","centerByColumn","centerAll","scaleByRow","scaleByColumn","scaleAll","getScaleByRow","getScaleByColumn","getScaleAll","checkRowVector","checkRowIndex","checkColumnIndex","checkColumnVector","checkRange","checkIndices","AbstractMatrix","from1DArray","newRows","newColumns","newData","length","RangeError","newMatrix","Matrix","row","column","set","rowVector","vector","i","columnVector","zeros","rows","columns","ones","fill","rand","options","TypeError","random","Math","matrix","j","randInt","min","max","Number","isInteger","interval","value","round","eye","undefined","diag","data","l","matrix1","matrix2","checkMatrix","result","get","isMatrix","klass","size","apply","callback","call","to1DArray","array","push","to2DArray","copy","toJSON","isRowVector","isColumnVector","isVector","isSquare","isSymmetric","isEchelonForm","previousColumn","checked","isReducedEchelonForm","k","echelonForm","clone","h","iMax","swapRows","tmp","factor","reducedEchelonForm","m","n","maxRow","p","pivot","Error","repeat","setSubMatrix","neg","mulS","getRow","index","getRowVector","setRow","row1","row2","temp","getColumn","getColumnVector","setColumn","swapColumns","column1","column2","addRowVector","subRowVector","mulRowVector","divRowVector","addColumnVector","subColumnVector","mulColumnVector","divColumnVector","mulRow","mulColumn","v","maxIndex","idx","minIndex","maxRowIndex","minRow","minRowIndex","maxColumn","maxColumnIndex","minColumn","minColumnIndex","norm","type","sqrt","cumulativeSum","sum","dot","vector2","vector1","mmul","other","Bcolj","Float64Array","s","strassen2x2","a11","b11","a12","b12","a21","b21","a22","b22","m1","m2","m3","m4","m5","m6","m7","c00","c01","c10","c11","strassen3x3","a00","a01","a02","a10","a20","b00","b01","b02","b10","b20","m8","m9","m10","m11","m12","m13","m14","m15","m16","m17","m18","m19","m20","m21","m22","m23","c02","c12","c20","c21","c22","mmulStrassen","y","x","r1","c1","r2","c2","console","warn","embed","mat","cols","r","c","resultat","blockMult","a","b","halfRows","parseInt","halfCols","subMatrix","add","sub","scaleRows","isFinite","output","scaleColumns","flipRows","middle","ceil","first","last","flipColumns","kroneckerProduct","q","transpose","sortRows","compareFunction","compareNumbers","sort","sortColumns","startRow","endRow","startColumn","endColumn","subMatrixRow","indices","subMatrixColumn","selection","rowIndices","columnIndices","rowIndex","columnIndex","trace","by","product","mean","variance","unbiased","Array","isArray","standardDeviation","center","scale","toString","prototype","Symbol","for","randomInt","diagonal","identity","negate","tensorProduct","constructor","nRows","nColumns","arrayData","from","removeRow","splice","addRow","removeColumn","newRow","addColumn"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/layout/node_modules/ml-matrix/src/matrix.js"],"sourcesContent":["import rescale from 'ml-array-rescale';\n\nimport { inspectMatrix, inspectMatrixWithOptions } from './inspect';\nimport { installMathOperations } from './mathOperations';\nimport {\n  sumByRow,\n  sumByColumn,\n  sumAll,\n  productByRow,\n  productByColumn,\n  productAll,\n  varianceByRow,\n  varianceByColumn,\n  varianceAll,\n  centerByRow,\n  centerByColumn,\n  centerAll,\n  scaleByRow,\n  scaleByColumn,\n  scaleAll,\n  getScaleByRow,\n  getScaleByColumn,\n  getScaleAll,\n} from './stat';\nimport {\n  checkRowVector,\n  checkRowIndex,\n  checkColumnIndex,\n  checkColumnVector,\n  checkRange,\n  checkIndices,\n} from './util';\n\nexport class AbstractMatrix {\n  static from1DArray(newRows, newColumns, newData) {\n    let length = newRows * newColumns;\n    if (length !== newData.length) {\n      throw new RangeError('data length does not match given dimensions');\n    }\n    let newMatrix = new Matrix(newRows, newColumns);\n    for (let row = 0; row < newRows; row++) {\n      for (let column = 0; column < newColumns; column++) {\n        newMatrix.set(row, column, newData[row * newColumns + column]);\n      }\n    }\n    return newMatrix;\n  }\n\n  static rowVector(newData) {\n    let vector = new Matrix(1, newData.length);\n    for (let i = 0; i < newData.length; i++) {\n      vector.set(0, i, newData[i]);\n    }\n    return vector;\n  }\n\n  static columnVector(newData) {\n    let vector = new Matrix(newData.length, 1);\n    for (let i = 0; i < newData.length; i++) {\n      vector.set(i, 0, newData[i]);\n    }\n    return vector;\n  }\n\n  static zeros(rows, columns) {\n    return new Matrix(rows, columns);\n  }\n\n  static ones(rows, columns) {\n    return new Matrix(rows, columns).fill(1);\n  }\n\n  static rand(rows, columns, options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { random = Math.random } = options;\n    let matrix = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        matrix.set(i, j, random());\n      }\n    }\n    return matrix;\n  }\n\n  static randInt(rows, columns, options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { min = 0, max = 1000, random = Math.random } = options;\n    if (!Number.isInteger(min)) throw new TypeError('min must be an integer');\n    if (!Number.isInteger(max)) throw new TypeError('max must be an integer');\n    if (min >= max) throw new RangeError('min must be smaller than max');\n    let interval = max - min;\n    let matrix = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        let value = min + Math.round(random() * interval);\n        matrix.set(i, j, value);\n      }\n    }\n    return matrix;\n  }\n\n  static eye(rows, columns, value) {\n    if (columns === undefined) columns = rows;\n    if (value === undefined) value = 1;\n    let min = Math.min(rows, columns);\n    let matrix = this.zeros(rows, columns);\n    for (let i = 0; i < min; i++) {\n      matrix.set(i, i, value);\n    }\n    return matrix;\n  }\n\n  static diag(data, rows, columns) {\n    let l = data.length;\n    if (rows === undefined) rows = l;\n    if (columns === undefined) columns = rows;\n    let min = Math.min(l, rows, columns);\n    let matrix = this.zeros(rows, columns);\n    for (let i = 0; i < min; i++) {\n      matrix.set(i, i, data[i]);\n    }\n    return matrix;\n  }\n\n  static min(matrix1, matrix2) {\n    matrix1 = this.checkMatrix(matrix1);\n    matrix2 = this.checkMatrix(matrix2);\n    let rows = matrix1.rows;\n    let columns = matrix1.columns;\n    let result = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        result.set(i, j, Math.min(matrix1.get(i, j), matrix2.get(i, j)));\n      }\n    }\n    return result;\n  }\n\n  static max(matrix1, matrix2) {\n    matrix1 = this.checkMatrix(matrix1);\n    matrix2 = this.checkMatrix(matrix2);\n    let rows = matrix1.rows;\n    let columns = matrix1.columns;\n    let result = new this(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        result.set(i, j, Math.max(matrix1.get(i, j), matrix2.get(i, j)));\n      }\n    }\n    return result;\n  }\n\n  static checkMatrix(value) {\n    return AbstractMatrix.isMatrix(value) ? value : new Matrix(value);\n  }\n\n  static isMatrix(value) {\n    return value != null && value.klass === 'Matrix';\n  }\n\n  get size() {\n    return this.rows * this.columns;\n  }\n\n  apply(callback) {\n    if (typeof callback !== 'function') {\n      throw new TypeError('callback must be a function');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        callback.call(this, i, j);\n      }\n    }\n    return this;\n  }\n\n  to1DArray() {\n    let array = [];\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        array.push(this.get(i, j));\n      }\n    }\n    return array;\n  }\n\n  to2DArray() {\n    let copy = [];\n    for (let i = 0; i < this.rows; i++) {\n      copy.push([]);\n      for (let j = 0; j < this.columns; j++) {\n        copy[i].push(this.get(i, j));\n      }\n    }\n    return copy;\n  }\n\n  toJSON() {\n    return this.to2DArray();\n  }\n\n  isRowVector() {\n    return this.rows === 1;\n  }\n\n  isColumnVector() {\n    return this.columns === 1;\n  }\n\n  isVector() {\n    return this.rows === 1 || this.columns === 1;\n  }\n\n  isSquare() {\n    return this.rows === this.columns;\n  }\n\n  isSymmetric() {\n    if (this.isSquare()) {\n      for (let i = 0; i < this.rows; i++) {\n        for (let j = 0; j <= i; j++) {\n          if (this.get(i, j) !== this.get(j, i)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n\n  isEchelonForm() {\n    let i = 0;\n    let j = 0;\n    let previousColumn = -1;\n    let isEchelonForm = true;\n    let checked = false;\n    while (i < this.rows && isEchelonForm) {\n      j = 0;\n      checked = false;\n      while (j < this.columns && checked === false) {\n        if (this.get(i, j) === 0) {\n          j++;\n        } else if (this.get(i, j) === 1 && j > previousColumn) {\n          checked = true;\n          previousColumn = j;\n        } else {\n          isEchelonForm = false;\n          checked = true;\n        }\n      }\n      i++;\n    }\n    return isEchelonForm;\n  }\n\n  isReducedEchelonForm() {\n    let i = 0;\n    let j = 0;\n    let previousColumn = -1;\n    let isReducedEchelonForm = true;\n    let checked = false;\n    while (i < this.rows && isReducedEchelonForm) {\n      j = 0;\n      checked = false;\n      while (j < this.columns && checked === false) {\n        if (this.get(i, j) === 0) {\n          j++;\n        } else if (this.get(i, j) === 1 && j > previousColumn) {\n          checked = true;\n          previousColumn = j;\n        } else {\n          isReducedEchelonForm = false;\n          checked = true;\n        }\n      }\n      for (let k = j + 1; k < this.rows; k++) {\n        if (this.get(i, k) !== 0) {\n          isReducedEchelonForm = false;\n        }\n      }\n      i++;\n    }\n    return isReducedEchelonForm;\n  }\n\n  echelonForm() {\n    let result = this.clone();\n    let h = 0;\n    let k = 0;\n    while (h < result.rows && k < result.columns) {\n      let iMax = h;\n      for (let i = h; i < result.rows; i++) {\n        if (result.get(i, k) > result.get(iMax, k)) {\n          iMax = i;\n        }\n      }\n      if (result.get(iMax, k) === 0) {\n        k++;\n      } else {\n        result.swapRows(h, iMax);\n        let tmp = result.get(h, k);\n        for (let j = k; j < result.columns; j++) {\n          result.set(h, j, result.get(h, j) / tmp);\n        }\n        for (let i = h + 1; i < result.rows; i++) {\n          let factor = result.get(i, k) / result.get(h, k);\n          result.set(i, k, 0);\n          for (let j = k + 1; j < result.columns; j++) {\n            result.set(i, j, result.get(i, j) - result.get(h, j) * factor);\n          }\n        }\n        h++;\n        k++;\n      }\n    }\n    return result;\n  }\n\n  reducedEchelonForm() {\n    let result = this.echelonForm();\n    let m = result.columns;\n    let n = result.rows;\n    let h = n - 1;\n    while (h >= 0) {\n      if (result.maxRow(h) === 0) {\n        h--;\n      } else {\n        let p = 0;\n        let pivot = false;\n        while (p < n && pivot === false) {\n          if (result.get(h, p) === 1) {\n            pivot = true;\n          } else {\n            p++;\n          }\n        }\n        for (let i = 0; i < h; i++) {\n          let factor = result.get(i, p);\n          for (let j = p; j < m; j++) {\n            let tmp = result.get(i, j) - factor * result.get(h, j);\n            result.set(i, j, tmp);\n          }\n        }\n        h--;\n      }\n    }\n    return result;\n  }\n\n  set() {\n    throw new Error('set method is unimplemented');\n  }\n\n  get() {\n    throw new Error('get method is unimplemented');\n  }\n\n  repeat(options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { rows = 1, columns = 1 } = options;\n    if (!Number.isInteger(rows) || rows <= 0) {\n      throw new TypeError('rows must be a positive integer');\n    }\n    if (!Number.isInteger(columns) || columns <= 0) {\n      throw new TypeError('columns must be a positive integer');\n    }\n    let matrix = new Matrix(this.rows * rows, this.columns * columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        matrix.setSubMatrix(this, this.rows * i, this.columns * j);\n      }\n    }\n    return matrix;\n  }\n\n  fill(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, value);\n      }\n    }\n    return this;\n  }\n\n  neg() {\n    return this.mulS(-1);\n  }\n\n  getRow(index) {\n    checkRowIndex(this, index);\n    let row = [];\n    for (let i = 0; i < this.columns; i++) {\n      row.push(this.get(index, i));\n    }\n    return row;\n  }\n\n  getRowVector(index) {\n    return Matrix.rowVector(this.getRow(index));\n  }\n\n  setRow(index, array) {\n    checkRowIndex(this, index);\n    array = checkRowVector(this, array);\n    for (let i = 0; i < this.columns; i++) {\n      this.set(index, i, array[i]);\n    }\n    return this;\n  }\n\n  swapRows(row1, row2) {\n    checkRowIndex(this, row1);\n    checkRowIndex(this, row2);\n    for (let i = 0; i < this.columns; i++) {\n      let temp = this.get(row1, i);\n      this.set(row1, i, this.get(row2, i));\n      this.set(row2, i, temp);\n    }\n    return this;\n  }\n\n  getColumn(index) {\n    checkColumnIndex(this, index);\n    let column = [];\n    for (let i = 0; i < this.rows; i++) {\n      column.push(this.get(i, index));\n    }\n    return column;\n  }\n\n  getColumnVector(index) {\n    return Matrix.columnVector(this.getColumn(index));\n  }\n\n  setColumn(index, array) {\n    checkColumnIndex(this, index);\n    array = checkColumnVector(this, array);\n    for (let i = 0; i < this.rows; i++) {\n      this.set(i, index, array[i]);\n    }\n    return this;\n  }\n\n  swapColumns(column1, column2) {\n    checkColumnIndex(this, column1);\n    checkColumnIndex(this, column2);\n    for (let i = 0; i < this.rows; i++) {\n      let temp = this.get(i, column1);\n      this.set(i, column1, this.get(i, column2));\n      this.set(i, column2, temp);\n    }\n    return this;\n  }\n\n  addRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + vector[j]);\n      }\n    }\n    return this;\n  }\n\n  subRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - vector[j]);\n      }\n    }\n    return this;\n  }\n\n  mulRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * vector[j]);\n      }\n    }\n    return this;\n  }\n\n  divRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / vector[j]);\n      }\n    }\n    return this;\n  }\n\n  addColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + vector[i]);\n      }\n    }\n    return this;\n  }\n\n  subColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - vector[i]);\n      }\n    }\n    return this;\n  }\n\n  mulColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * vector[i]);\n      }\n    }\n    return this;\n  }\n\n  divColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / vector[i]);\n      }\n    }\n    return this;\n  }\n\n  mulRow(index, value) {\n    checkRowIndex(this, index);\n    for (let i = 0; i < this.columns; i++) {\n      this.set(index, i, this.get(index, i) * value);\n    }\n    return this;\n  }\n\n  mulColumn(index, value) {\n    checkColumnIndex(this, index);\n    for (let i = 0; i < this.rows; i++) {\n      this.set(i, index, this.get(i, index) * value);\n    }\n    return this;\n  }\n\n  max() {\n    let v = this.get(0, 0);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) > v) {\n          v = this.get(i, j);\n        }\n      }\n    }\n    return v;\n  }\n\n  maxIndex() {\n    let v = this.get(0, 0);\n    let idx = [0, 0];\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) > v) {\n          v = this.get(i, j);\n          idx[0] = i;\n          idx[1] = j;\n        }\n      }\n    }\n    return idx;\n  }\n\n  min() {\n    let v = this.get(0, 0);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) < v) {\n          v = this.get(i, j);\n        }\n      }\n    }\n    return v;\n  }\n\n  minIndex() {\n    let v = this.get(0, 0);\n    let idx = [0, 0];\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) < v) {\n          v = this.get(i, j);\n          idx[0] = i;\n          idx[1] = j;\n        }\n      }\n    }\n    return idx;\n  }\n\n  maxRow(row) {\n    checkRowIndex(this, row);\n    let v = this.get(row, 0);\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) > v) {\n        v = this.get(row, i);\n      }\n    }\n    return v;\n  }\n\n  maxRowIndex(row) {\n    checkRowIndex(this, row);\n    let v = this.get(row, 0);\n    let idx = [row, 0];\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) > v) {\n        v = this.get(row, i);\n        idx[1] = i;\n      }\n    }\n    return idx;\n  }\n\n  minRow(row) {\n    checkRowIndex(this, row);\n    let v = this.get(row, 0);\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) < v) {\n        v = this.get(row, i);\n      }\n    }\n    return v;\n  }\n\n  minRowIndex(row) {\n    checkRowIndex(this, row);\n    let v = this.get(row, 0);\n    let idx = [row, 0];\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) < v) {\n        v = this.get(row, i);\n        idx[1] = i;\n      }\n    }\n    return idx;\n  }\n\n  maxColumn(column) {\n    checkColumnIndex(this, column);\n    let v = this.get(0, column);\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) > v) {\n        v = this.get(i, column);\n      }\n    }\n    return v;\n  }\n\n  maxColumnIndex(column) {\n    checkColumnIndex(this, column);\n    let v = this.get(0, column);\n    let idx = [0, column];\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) > v) {\n        v = this.get(i, column);\n        idx[0] = i;\n      }\n    }\n    return idx;\n  }\n\n  minColumn(column) {\n    checkColumnIndex(this, column);\n    let v = this.get(0, column);\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) < v) {\n        v = this.get(i, column);\n      }\n    }\n    return v;\n  }\n\n  minColumnIndex(column) {\n    checkColumnIndex(this, column);\n    let v = this.get(0, column);\n    let idx = [0, column];\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) < v) {\n        v = this.get(i, column);\n        idx[0] = i;\n      }\n    }\n    return idx;\n  }\n\n  diag() {\n    let min = Math.min(this.rows, this.columns);\n    let diag = [];\n    for (let i = 0; i < min; i++) {\n      diag.push(this.get(i, i));\n    }\n    return diag;\n  }\n\n  norm(type = 'frobenius') {\n    let result = 0;\n    if (type === 'max') {\n      return this.max();\n    } else if (type === 'frobenius') {\n      for (let i = 0; i < this.rows; i++) {\n        for (let j = 0; j < this.columns; j++) {\n          result = result + this.get(i, j) * this.get(i, j);\n        }\n      }\n      return Math.sqrt(result);\n    } else {\n      throw new RangeError(`unknown norm type: ${type}`);\n    }\n  }\n\n  cumulativeSum() {\n    let sum = 0;\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        sum += this.get(i, j);\n        this.set(i, j, sum);\n      }\n    }\n    return this;\n  }\n\n  dot(vector2) {\n    if (AbstractMatrix.isMatrix(vector2)) vector2 = vector2.to1DArray();\n    let vector1 = this.to1DArray();\n    if (vector1.length !== vector2.length) {\n      throw new RangeError('vectors do not have the same size');\n    }\n    let dot = 0;\n    for (let i = 0; i < vector1.length; i++) {\n      dot += vector1[i] * vector2[i];\n    }\n    return dot;\n  }\n\n  mmul(other) {\n    other = Matrix.checkMatrix(other);\n\n    let m = this.rows;\n    let n = this.columns;\n    let p = other.columns;\n\n    let result = new Matrix(m, p);\n\n    let Bcolj = new Float64Array(n);\n    for (let j = 0; j < p; j++) {\n      for (let k = 0; k < n; k++) {\n        Bcolj[k] = other.get(k, j);\n      }\n\n      for (let i = 0; i < m; i++) {\n        let s = 0;\n        for (let k = 0; k < n; k++) {\n          s += this.get(i, k) * Bcolj[k];\n        }\n\n        result.set(i, j, s);\n      }\n    }\n    return result;\n  }\n\n  strassen2x2(other) {\n    other = Matrix.checkMatrix(other);\n    let result = new Matrix(2, 2);\n    const a11 = this.get(0, 0);\n    const b11 = other.get(0, 0);\n    const a12 = this.get(0, 1);\n    const b12 = other.get(0, 1);\n    const a21 = this.get(1, 0);\n    const b21 = other.get(1, 0);\n    const a22 = this.get(1, 1);\n    const b22 = other.get(1, 1);\n\n    // Compute intermediate values.\n    const m1 = (a11 + a22) * (b11 + b22);\n    const m2 = (a21 + a22) * b11;\n    const m3 = a11 * (b12 - b22);\n    const m4 = a22 * (b21 - b11);\n    const m5 = (a11 + a12) * b22;\n    const m6 = (a21 - a11) * (b11 + b12);\n    const m7 = (a12 - a22) * (b21 + b22);\n\n    // Combine intermediate values into the output.\n    const c00 = m1 + m4 - m5 + m7;\n    const c01 = m3 + m5;\n    const c10 = m2 + m4;\n    const c11 = m1 - m2 + m3 + m6;\n\n    result.set(0, 0, c00);\n    result.set(0, 1, c01);\n    result.set(1, 0, c10);\n    result.set(1, 1, c11);\n    return result;\n  }\n\n  strassen3x3(other) {\n    other = Matrix.checkMatrix(other);\n    let result = new Matrix(3, 3);\n\n    const a00 = this.get(0, 0);\n    const a01 = this.get(0, 1);\n    const a02 = this.get(0, 2);\n    const a10 = this.get(1, 0);\n    const a11 = this.get(1, 1);\n    const a12 = this.get(1, 2);\n    const a20 = this.get(2, 0);\n    const a21 = this.get(2, 1);\n    const a22 = this.get(2, 2);\n\n    const b00 = other.get(0, 0);\n    const b01 = other.get(0, 1);\n    const b02 = other.get(0, 2);\n    const b10 = other.get(1, 0);\n    const b11 = other.get(1, 1);\n    const b12 = other.get(1, 2);\n    const b20 = other.get(2, 0);\n    const b21 = other.get(2, 1);\n    const b22 = other.get(2, 2);\n\n    const m1 = (a00 + a01 + a02 - a10 - a11 - a21 - a22) * b11;\n    const m2 = (a00 - a10) * (-b01 + b11);\n    const m3 = a11 * (-b00 + b01 + b10 - b11 - b12 - b20 + b22);\n    const m4 = (-a00 + a10 + a11) * (b00 - b01 + b11);\n    const m5 = (a10 + a11) * (-b00 + b01);\n    const m6 = a00 * b00;\n    const m7 = (-a00 + a20 + a21) * (b00 - b02 + b12);\n    const m8 = (-a00 + a20) * (b02 - b12);\n    const m9 = (a20 + a21) * (-b00 + b02);\n    const m10 = (a00 + a01 + a02 - a11 - a12 - a20 - a21) * b12;\n    const m11 = a21 * (-b00 + b02 + b10 - b11 - b12 - b20 + b21);\n    const m12 = (-a02 + a21 + a22) * (b11 + b20 - b21);\n    const m13 = (a02 - a22) * (b11 - b21);\n    const m14 = a02 * b20;\n    const m15 = (a21 + a22) * (-b20 + b21);\n    const m16 = (-a02 + a11 + a12) * (b12 + b20 - b22);\n    const m17 = (a02 - a12) * (b12 - b22);\n    const m18 = (a11 + a12) * (-b20 + b22);\n    const m19 = a01 * b10;\n    const m20 = a12 * b21;\n    const m21 = a10 * b02;\n    const m22 = a20 * b01;\n    const m23 = a22 * b22;\n\n    const c00 = m6 + m14 + m19;\n    const c01 = m1 + m4 + m5 + m6 + m12 + m14 + m15;\n    const c02 = m6 + m7 + m9 + m10 + m14 + m16 + m18;\n    const c10 = m2 + m3 + m4 + m6 + m14 + m16 + m17;\n    const c11 = m2 + m4 + m5 + m6 + m20;\n    const c12 = m14 + m16 + m17 + m18 + m21;\n    const c20 = m6 + m7 + m8 + m11 + m12 + m13 + m14;\n    const c21 = m12 + m13 + m14 + m15 + m22;\n    const c22 = m6 + m7 + m8 + m9 + m23;\n\n    result.set(0, 0, c00);\n    result.set(0, 1, c01);\n    result.set(0, 2, c02);\n    result.set(1, 0, c10);\n    result.set(1, 1, c11);\n    result.set(1, 2, c12);\n    result.set(2, 0, c20);\n    result.set(2, 1, c21);\n    result.set(2, 2, c22);\n    return result;\n  }\n\n  mmulStrassen(y) {\n    y = Matrix.checkMatrix(y);\n    let x = this.clone();\n    let r1 = x.rows;\n    let c1 = x.columns;\n    let r2 = y.rows;\n    let c2 = y.columns;\n    if (c1 !== r2) {\n      // eslint-disable-next-line no-console\n      console.warn(\n        `Multiplying ${r1} x ${c1} and ${r2} x ${c2} matrix: dimensions do not match.`,\n      );\n    }\n\n    // Put a matrix into the top left of a matrix of zeros.\n    // `rows` and `cols` are the dimensions of the output matrix.\n    function embed(mat, rows, cols) {\n      let r = mat.rows;\n      let c = mat.columns;\n      if (r === rows && c === cols) {\n        return mat;\n      } else {\n        let resultat = AbstractMatrix.zeros(rows, cols);\n        resultat = resultat.setSubMatrix(mat, 0, 0);\n        return resultat;\n      }\n    }\n\n    // Make sure both matrices are the same size.\n    // This is exclusively for simplicity:\n    // this algorithm can be implemented with matrices of different sizes.\n\n    let r = Math.max(r1, r2);\n    let c = Math.max(c1, c2);\n    x = embed(x, r, c);\n    y = embed(y, r, c);\n\n    // Our recursive multiplication function.\n    function blockMult(a, b, rows, cols) {\n      // For small matrices, resort to naive multiplication.\n      if (rows <= 512 || cols <= 512) {\n        return a.mmul(b); // a is equivalent to this\n      }\n\n      // Apply dynamic padding.\n      if (rows % 2 === 1 && cols % 2 === 1) {\n        a = embed(a, rows + 1, cols + 1);\n        b = embed(b, rows + 1, cols + 1);\n      } else if (rows % 2 === 1) {\n        a = embed(a, rows + 1, cols);\n        b = embed(b, rows + 1, cols);\n      } else if (cols % 2 === 1) {\n        a = embed(a, rows, cols + 1);\n        b = embed(b, rows, cols + 1);\n      }\n\n      let halfRows = parseInt(a.rows / 2, 10);\n      let halfCols = parseInt(a.columns / 2, 10);\n      // Subdivide input matrices.\n      let a11 = a.subMatrix(0, halfRows - 1, 0, halfCols - 1);\n      let b11 = b.subMatrix(0, halfRows - 1, 0, halfCols - 1);\n\n      let a12 = a.subMatrix(0, halfRows - 1, halfCols, a.columns - 1);\n      let b12 = b.subMatrix(0, halfRows - 1, halfCols, b.columns - 1);\n\n      let a21 = a.subMatrix(halfRows, a.rows - 1, 0, halfCols - 1);\n      let b21 = b.subMatrix(halfRows, b.rows - 1, 0, halfCols - 1);\n\n      let a22 = a.subMatrix(halfRows, a.rows - 1, halfCols, a.columns - 1);\n      let b22 = b.subMatrix(halfRows, b.rows - 1, halfCols, b.columns - 1);\n\n      // Compute intermediate values.\n      let m1 = blockMult(\n        AbstractMatrix.add(a11, a22),\n        AbstractMatrix.add(b11, b22),\n        halfRows,\n        halfCols,\n      );\n      let m2 = blockMult(AbstractMatrix.add(a21, a22), b11, halfRows, halfCols);\n      let m3 = blockMult(a11, AbstractMatrix.sub(b12, b22), halfRows, halfCols);\n      let m4 = blockMult(a22, AbstractMatrix.sub(b21, b11), halfRows, halfCols);\n      let m5 = blockMult(AbstractMatrix.add(a11, a12), b22, halfRows, halfCols);\n      let m6 = blockMult(\n        AbstractMatrix.sub(a21, a11),\n        AbstractMatrix.add(b11, b12),\n        halfRows,\n        halfCols,\n      );\n      let m7 = blockMult(\n        AbstractMatrix.sub(a12, a22),\n        AbstractMatrix.add(b21, b22),\n        halfRows,\n        halfCols,\n      );\n\n      // Combine intermediate values into the output.\n      let c11 = AbstractMatrix.add(m1, m4);\n      c11.sub(m5);\n      c11.add(m7);\n      let c12 = AbstractMatrix.add(m3, m5);\n      let c21 = AbstractMatrix.add(m2, m4);\n      let c22 = AbstractMatrix.sub(m1, m2);\n      c22.add(m3);\n      c22.add(m6);\n\n      // Crop output to the desired size (undo dynamic padding).\n      let resultat = AbstractMatrix.zeros(2 * c11.rows, 2 * c11.columns);\n      resultat = resultat.setSubMatrix(c11, 0, 0);\n      resultat = resultat.setSubMatrix(c12, c11.rows, 0);\n      resultat = resultat.setSubMatrix(c21, 0, c11.columns);\n      resultat = resultat.setSubMatrix(c22, c11.rows, c11.columns);\n      return resultat.subMatrix(0, rows - 1, 0, cols - 1);\n    }\n    return blockMult(x, y, r, c);\n  }\n\n  scaleRows(options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { min = 0, max = 1 } = options;\n    if (!Number.isFinite(min)) throw new TypeError('min must be a number');\n    if (!Number.isFinite(max)) throw new TypeError('max must be a number');\n    if (min >= max) throw new RangeError('min must be smaller than max');\n    let newMatrix = new Matrix(this.rows, this.columns);\n    for (let i = 0; i < this.rows; i++) {\n      const row = this.getRow(i);\n      rescale(row, { min, max, output: row });\n      newMatrix.setRow(i, row);\n    }\n    return newMatrix;\n  }\n\n  scaleColumns(options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { min = 0, max = 1 } = options;\n    if (!Number.isFinite(min)) throw new TypeError('min must be a number');\n    if (!Number.isFinite(max)) throw new TypeError('max must be a number');\n    if (min >= max) throw new RangeError('min must be smaller than max');\n    let newMatrix = new Matrix(this.rows, this.columns);\n    for (let i = 0; i < this.columns; i++) {\n      const column = this.getColumn(i);\n      rescale(column, {\n        min: min,\n        max: max,\n        output: column,\n      });\n      newMatrix.setColumn(i, column);\n    }\n    return newMatrix;\n  }\n\n  flipRows() {\n    const middle = Math.ceil(this.columns / 2);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < middle; j++) {\n        let first = this.get(i, j);\n        let last = this.get(i, this.columns - 1 - j);\n        this.set(i, j, last);\n        this.set(i, this.columns - 1 - j, first);\n      }\n    }\n    return this;\n  }\n\n  flipColumns() {\n    const middle = Math.ceil(this.rows / 2);\n    for (let j = 0; j < this.columns; j++) {\n      for (let i = 0; i < middle; i++) {\n        let first = this.get(i, j);\n        let last = this.get(this.rows - 1 - i, j);\n        this.set(i, j, last);\n        this.set(this.rows - 1 - i, j, first);\n      }\n    }\n    return this;\n  }\n\n  kroneckerProduct(other) {\n    other = Matrix.checkMatrix(other);\n\n    let m = this.rows;\n    let n = this.columns;\n    let p = other.rows;\n    let q = other.columns;\n\n    let result = new Matrix(m * p, n * q);\n    for (let i = 0; i < m; i++) {\n      for (let j = 0; j < n; j++) {\n        for (let k = 0; k < p; k++) {\n          for (let l = 0; l < q; l++) {\n            result.set(p * i + k, q * j + l, this.get(i, j) * other.get(k, l));\n          }\n        }\n      }\n    }\n    return result;\n  }\n\n  transpose() {\n    let result = new Matrix(this.columns, this.rows);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        result.set(j, i, this.get(i, j));\n      }\n    }\n    return result;\n  }\n\n  sortRows(compareFunction = compareNumbers) {\n    for (let i = 0; i < this.rows; i++) {\n      this.setRow(i, this.getRow(i).sort(compareFunction));\n    }\n    return this;\n  }\n\n  sortColumns(compareFunction = compareNumbers) {\n    for (let i = 0; i < this.columns; i++) {\n      this.setColumn(i, this.getColumn(i).sort(compareFunction));\n    }\n    return this;\n  }\n\n  subMatrix(startRow, endRow, startColumn, endColumn) {\n    checkRange(this, startRow, endRow, startColumn, endColumn);\n    let newMatrix = new Matrix(\n      endRow - startRow + 1,\n      endColumn - startColumn + 1,\n    );\n    for (let i = startRow; i <= endRow; i++) {\n      for (let j = startColumn; j <= endColumn; j++) {\n        newMatrix.set(i - startRow, j - startColumn, this.get(i, j));\n      }\n    }\n    return newMatrix;\n  }\n\n  subMatrixRow(indices, startColumn, endColumn) {\n    if (startColumn === undefined) startColumn = 0;\n    if (endColumn === undefined) endColumn = this.columns - 1;\n    if (\n      startColumn > endColumn ||\n      startColumn < 0 ||\n      startColumn >= this.columns ||\n      endColumn < 0 ||\n      endColumn >= this.columns\n    ) {\n      throw new RangeError('Argument out of range');\n    }\n\n    let newMatrix = new Matrix(indices.length, endColumn - startColumn + 1);\n    for (let i = 0; i < indices.length; i++) {\n      for (let j = startColumn; j <= endColumn; j++) {\n        if (indices[i] < 0 || indices[i] >= this.rows) {\n          throw new RangeError(`Row index out of range: ${indices[i]}`);\n        }\n        newMatrix.set(i, j - startColumn, this.get(indices[i], j));\n      }\n    }\n    return newMatrix;\n  }\n\n  subMatrixColumn(indices, startRow, endRow) {\n    if (startRow === undefined) startRow = 0;\n    if (endRow === undefined) endRow = this.rows - 1;\n    if (\n      startRow > endRow ||\n      startRow < 0 ||\n      startRow >= this.rows ||\n      endRow < 0 ||\n      endRow >= this.rows\n    ) {\n      throw new RangeError('Argument out of range');\n    }\n\n    let newMatrix = new Matrix(endRow - startRow + 1, indices.length);\n    for (let i = 0; i < indices.length; i++) {\n      for (let j = startRow; j <= endRow; j++) {\n        if (indices[i] < 0 || indices[i] >= this.columns) {\n          throw new RangeError(`Column index out of range: ${indices[i]}`);\n        }\n        newMatrix.set(j - startRow, i, this.get(j, indices[i]));\n      }\n    }\n    return newMatrix;\n  }\n\n  setSubMatrix(matrix, startRow, startColumn) {\n    matrix = Matrix.checkMatrix(matrix);\n    let endRow = startRow + matrix.rows - 1;\n    let endColumn = startColumn + matrix.columns - 1;\n    checkRange(this, startRow, endRow, startColumn, endColumn);\n    for (let i = 0; i < matrix.rows; i++) {\n      for (let j = 0; j < matrix.columns; j++) {\n        this.set(startRow + i, startColumn + j, matrix.get(i, j));\n      }\n    }\n    return this;\n  }\n\n  selection(rowIndices, columnIndices) {\n    let indices = checkIndices(this, rowIndices, columnIndices);\n    let newMatrix = new Matrix(rowIndices.length, columnIndices.length);\n    for (let i = 0; i < indices.row.length; i++) {\n      let rowIndex = indices.row[i];\n      for (let j = 0; j < indices.column.length; j++) {\n        let columnIndex = indices.column[j];\n        newMatrix.set(i, j, this.get(rowIndex, columnIndex));\n      }\n    }\n    return newMatrix;\n  }\n\n  trace() {\n    let min = Math.min(this.rows, this.columns);\n    let trace = 0;\n    for (let i = 0; i < min; i++) {\n      trace += this.get(i, i);\n    }\n    return trace;\n  }\n\n  clone() {\n    let newMatrix = new Matrix(this.rows, this.columns);\n    for (let row = 0; row < this.rows; row++) {\n      for (let column = 0; column < this.columns; column++) {\n        newMatrix.set(row, column, this.get(row, column));\n      }\n    }\n    return newMatrix;\n  }\n\n  sum(by) {\n    switch (by) {\n      case 'row':\n        return sumByRow(this);\n      case 'column':\n        return sumByColumn(this);\n      case undefined:\n        return sumAll(this);\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  product(by) {\n    switch (by) {\n      case 'row':\n        return productByRow(this);\n      case 'column':\n        return productByColumn(this);\n      case undefined:\n        return productAll(this);\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  mean(by) {\n    const sum = this.sum(by);\n    switch (by) {\n      case 'row': {\n        for (let i = 0; i < this.rows; i++) {\n          sum[i] /= this.columns;\n        }\n        return sum;\n      }\n      case 'column': {\n        for (let i = 0; i < this.columns; i++) {\n          sum[i] /= this.rows;\n        }\n        return sum;\n      }\n      case undefined:\n        return sum / this.size;\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  variance(by, options = {}) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { unbiased = true, mean = this.mean(by) } = options;\n    if (typeof unbiased !== 'boolean') {\n      throw new TypeError('unbiased must be a boolean');\n    }\n    switch (by) {\n      case 'row': {\n        if (!Array.isArray(mean)) {\n          throw new TypeError('mean must be an array');\n        }\n        return varianceByRow(this, unbiased, mean);\n      }\n      case 'column': {\n        if (!Array.isArray(mean)) {\n          throw new TypeError('mean must be an array');\n        }\n        return varianceByColumn(this, unbiased, mean);\n      }\n      case undefined: {\n        if (typeof mean !== 'number') {\n          throw new TypeError('mean must be a number');\n        }\n        return varianceAll(this, unbiased, mean);\n      }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  standardDeviation(by, options) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    const variance = this.variance(by, options);\n    if (by === undefined) {\n      return Math.sqrt(variance);\n    } else {\n      for (let i = 0; i < variance.length; i++) {\n        variance[i] = Math.sqrt(variance[i]);\n      }\n      return variance;\n    }\n  }\n\n  center(by, options = {}) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { center = this.mean(by) } = options;\n    switch (by) {\n      case 'row': {\n        if (!Array.isArray(center)) {\n          throw new TypeError('center must be an array');\n        }\n        centerByRow(this, center);\n        return this;\n      }\n      case 'column': {\n        if (!Array.isArray(center)) {\n          throw new TypeError('center must be an array');\n        }\n        centerByColumn(this, center);\n        return this;\n      }\n      case undefined: {\n        if (typeof center !== 'number') {\n          throw new TypeError('center must be a number');\n        }\n        centerAll(this, center);\n        return this;\n      }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  scale(by, options = {}) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    let scale = options.scale;\n    switch (by) {\n      case 'row': {\n        if (scale === undefined) {\n          scale = getScaleByRow(this);\n        } else if (!Array.isArray(scale)) {\n          throw new TypeError('scale must be an array');\n        }\n        scaleByRow(this, scale);\n        return this;\n      }\n      case 'column': {\n        if (scale === undefined) {\n          scale = getScaleByColumn(this);\n        } else if (!Array.isArray(scale)) {\n          throw new TypeError('scale must be an array');\n        }\n        scaleByColumn(this, scale);\n        return this;\n      }\n      case undefined: {\n        if (scale === undefined) {\n          scale = getScaleAll(this);\n        } else if (typeof scale !== 'number') {\n          throw new TypeError('scale must be a number');\n        }\n        scaleAll(this, scale);\n        return this;\n      }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  toString(options) {\n    return inspectMatrixWithOptions(this, options);\n  }\n}\n\nAbstractMatrix.prototype.klass = 'Matrix';\nif (typeof Symbol !== 'undefined') {\n  AbstractMatrix.prototype[\n    Symbol.for('nodejs.util.inspect.custom')\n  ] = inspectMatrix;\n}\n\nfunction compareNumbers(a, b) {\n  return a - b;\n}\n\n// Synonyms\nAbstractMatrix.random = AbstractMatrix.rand;\nAbstractMatrix.randomInt = AbstractMatrix.randInt;\nAbstractMatrix.diagonal = AbstractMatrix.diag;\nAbstractMatrix.prototype.diagonal = AbstractMatrix.prototype.diag;\nAbstractMatrix.identity = AbstractMatrix.eye;\nAbstractMatrix.prototype.negate = AbstractMatrix.prototype.neg;\nAbstractMatrix.prototype.tensorProduct =\n  AbstractMatrix.prototype.kroneckerProduct;\n\nexport default class Matrix extends AbstractMatrix {\n  constructor(nRows, nColumns) {\n    super();\n    if (Matrix.isMatrix(nRows)) {\n      return nRows.clone();\n    } else if (Number.isInteger(nRows) && nRows > 0) {\n      // Create an empty matrix\n      this.data = [];\n      if (Number.isInteger(nColumns) && nColumns > 0) {\n        for (let i = 0; i < nRows; i++) {\n          this.data.push(new Float64Array(nColumns));\n        }\n      } else {\n        throw new TypeError('nColumns must be a positive integer');\n      }\n    } else if (Array.isArray(nRows)) {\n      // Copy the values from the 2D array\n      const arrayData = nRows;\n      nRows = arrayData.length;\n      nColumns = arrayData[0].length;\n      if (typeof nColumns !== 'number' || nColumns === 0) {\n        throw new TypeError(\n          'Data must be a 2D array with at least one element',\n        );\n      }\n      this.data = [];\n      for (let i = 0; i < nRows; i++) {\n        if (arrayData[i].length !== nColumns) {\n          throw new RangeError('Inconsistent array dimensions');\n        }\n        this.data.push(Float64Array.from(arrayData[i]));\n      }\n    } else {\n      throw new TypeError(\n        'First argument must be a positive number or an array',\n      );\n    }\n    this.rows = nRows;\n    this.columns = nColumns;\n    return this;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.data[rowIndex][columnIndex] = value;\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.data[rowIndex][columnIndex];\n  }\n\n  removeRow(index) {\n    checkRowIndex(this, index);\n    if (this.rows === 1) {\n      throw new RangeError('A matrix cannot have less than one row');\n    }\n    this.data.splice(index, 1);\n    this.rows -= 1;\n    return this;\n  }\n\n  addRow(index, array) {\n    if (array === undefined) {\n      array = index;\n      index = this.rows;\n    }\n    checkRowIndex(this, index, true);\n    array = Float64Array.from(checkRowVector(this, array, true));\n    this.data.splice(index, 0, array);\n    this.rows += 1;\n    return this;\n  }\n\n  removeColumn(index) {\n    checkColumnIndex(this, index);\n    if (this.columns === 1) {\n      throw new RangeError('A matrix cannot have less than one column');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      const newRow = new Float64Array(this.columns - 1);\n      for (let j = 0; j < index; j++) {\n        newRow[j] = this.data[i][j];\n      }\n      for (let j = index + 1; j < this.columns; j++) {\n        newRow[j - 1] = this.data[i][j];\n      }\n      this.data[i] = newRow;\n    }\n    this.columns -= 1;\n    return this;\n  }\n\n  addColumn(index, array) {\n    if (typeof array === 'undefined') {\n      array = index;\n      index = this.columns;\n    }\n    checkColumnIndex(this, index, true);\n    array = checkColumnVector(this, array);\n    for (let i = 0; i < this.rows; i++) {\n      const newRow = new Float64Array(this.columns + 1);\n      let j = 0;\n      for (; j < index; j++) {\n        newRow[j] = this.data[i][j];\n      }\n      newRow[j++] = array[i];\n      for (; j < this.columns + 1; j++) {\n        newRow[j] = this.data[i][j - 1];\n      }\n      this.data[i] = newRow;\n    }\n    this.columns += 1;\n    return this;\n  }\n}\n\ninstallMathOperations(AbstractMatrix, Matrix);\n"],"mappings":";;;;AAAA,OAAOA,OAAO,MAAM,kBAAkB;AAEtC,SAASC,aAAa,EAAEC,wBAAwB,QAAQ,WAAW;AACnE,SAASC,qBAAqB,QAAQ,kBAAkB;AACxD,SACEC,QAAQ,EACRC,WAAW,EACXC,MAAM,EACNC,YAAY,EACZC,eAAe,EACfC,UAAU,EACVC,aAAa,EACbC,gBAAgB,EAChBC,WAAW,EACXC,WAAW,EACXC,cAAc,EACdC,SAAS,EACTC,UAAU,EACVC,aAAa,EACbC,QAAQ,EACRC,aAAa,EACbC,gBAAgB,EAChBC,WAAW,QACN,QAAQ;AACf,SACEC,cAAc,EACdC,aAAa,EACbC,gBAAgB,EAChBC,iBAAiB,EACjBC,UAAU,EACVC,YAAY,QACP,QAAQ;AAEf,OAAO,MAAMC,cAAc,CAAC;EAC1B,OAAOC,WAAWA,CAACC,OAAO,EAAEC,UAAU,EAAEC,OAAO,EAAE;IAC/C,IAAIC,MAAM,GAAGH,OAAO,GAAGC,UAAU;IACjC,IAAIE,MAAM,KAAKD,OAAO,CAACC,MAAM,EAAE;MAC7B,MAAM,IAAIC,UAAU,CAAC,6CAA6C,CAAC;IACrE;IACA,IAAIC,SAAS,GAAG,IAAIC,MAAM,CAACN,OAAO,EAAEC,UAAU,CAAC;IAC/C,KAAK,IAAIM,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAGP,OAAO,EAAEO,GAAG,EAAE,EAAE;MACtC,KAAK,IAAIC,MAAM,GAAG,CAAC,EAAEA,MAAM,GAAGP,UAAU,EAAEO,MAAM,EAAE,EAAE;QAClDH,SAAS,CAACI,GAAG,CAACF,GAAG,EAAEC,MAAM,EAAEN,OAAO,CAACK,GAAG,GAAGN,UAAU,GAAGO,MAAM,CAAC,CAAC;MAChE;IACF;IACA,OAAOH,SAAS;EAClB;EAEA,OAAOK,SAASA,CAACR,OAAO,EAAE;IACxB,IAAIS,MAAM,GAAG,IAAIL,MAAM,CAAC,CAAC,EAAEJ,OAAO,CAACC,MAAM,CAAC;IAC1C,KAAK,IAAIS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGV,OAAO,CAACC,MAAM,EAAES,CAAC,EAAE,EAAE;MACvCD,MAAM,CAACF,GAAG,CAAC,CAAC,EAAEG,CAAC,EAAEV,OAAO,CAACU,CAAC,CAAC,CAAC;IAC9B;IACA,OAAOD,MAAM;EACf;EAEA,OAAOE,YAAYA,CAACX,OAAO,EAAE;IAC3B,IAAIS,MAAM,GAAG,IAAIL,MAAM,CAACJ,OAAO,CAACC,MAAM,EAAE,CAAC,CAAC;IAC1C,KAAK,IAAIS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGV,OAAO,CAACC,MAAM,EAAES,CAAC,EAAE,EAAE;MACvCD,MAAM,CAACF,GAAG,CAACG,CAAC,EAAE,CAAC,EAAEV,OAAO,CAACU,CAAC,CAAC,CAAC;IAC9B;IACA,OAAOD,MAAM;EACf;EAEA,OAAOG,KAAKA,CAACC,IAAI,EAAEC,OAAO,EAAE;IAC1B,OAAO,IAAIV,MAAM,CAACS,IAAI,EAAEC,OAAO,CAAC;EAClC;EAEA,OAAOC,IAAIA,CAACF,IAAI,EAAEC,OAAO,EAAE;IACzB,OAAO,IAAIV,MAAM,CAACS,IAAI,EAAEC,OAAO,CAAC,CAACE,IAAI,CAAC,CAAC,CAAC;EAC1C;EAEA,OAAOC,IAAIA,CAACJ,IAAI,EAAEC,OAAO,EAAEI,OAAO,GAAG,CAAC,CAAC,EAAE;IACvC,IAAI,OAAOA,OAAO,KAAK,QAAQ,EAAE;MAC/B,MAAM,IAAIC,SAAS,CAAC,2BAA2B,CAAC;IAClD;IACA,MAAM;MAAEC,MAAM,GAAGC,IAAI,CAACD;IAAO,CAAC,GAAGF,OAAO;IACxC,IAAII,MAAM,GAAG,IAAIlB,MAAM,CAACS,IAAI,EAAEC,OAAO,CAAC;IACtC,KAAK,IAAIJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAC7B,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,OAAO,EAAES,CAAC,EAAE,EAAE;QAChCD,MAAM,CAACf,GAAG,CAACG,CAAC,EAAEa,CAAC,EAAEH,MAAM,CAAC,CAAC,CAAC;MAC5B;IACF;IACA,OAAOE,MAAM;EACf;EAEA,OAAOE,OAAOA,CAACX,IAAI,EAAEC,OAAO,EAAEI,OAAO,GAAG,CAAC,CAAC,EAAE;IAC1C,IAAI,OAAOA,OAAO,KAAK,QAAQ,EAAE;MAC/B,MAAM,IAAIC,SAAS,CAAC,2BAA2B,CAAC;IAClD;IACA,MAAM;MAAEM,GAAG,GAAG,CAAC;MAAEC,GAAG,GAAG,IAAI;MAAEN,MAAM,GAAGC,IAAI,CAACD;IAAO,CAAC,GAAGF,OAAO;IAC7D,IAAI,CAACS,MAAM,CAACC,SAAS,CAACH,GAAG,CAAC,EAAE,MAAM,IAAIN,SAAS,CAAC,wBAAwB,CAAC;IACzE,IAAI,CAACQ,MAAM,CAACC,SAAS,CAACF,GAAG,CAAC,EAAE,MAAM,IAAIP,SAAS,CAAC,wBAAwB,CAAC;IACzE,IAAIM,GAAG,IAAIC,GAAG,EAAE,MAAM,IAAIxB,UAAU,CAAC,8BAA8B,CAAC;IACpE,IAAI2B,QAAQ,GAAGH,GAAG,GAAGD,GAAG;IACxB,IAAIH,MAAM,GAAG,IAAIlB,MAAM,CAACS,IAAI,EAAEC,OAAO,CAAC;IACtC,KAAK,IAAIJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAC7B,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,OAAO,EAAES,CAAC,EAAE,EAAE;QAChC,IAAIO,KAAK,GAAGL,GAAG,GAAGJ,IAAI,CAACU,KAAK,CAACX,MAAM,CAAC,CAAC,GAAGS,QAAQ,CAAC;QACjDP,MAAM,CAACf,GAAG,CAACG,CAAC,EAAEa,CAAC,EAAEO,KAAK,CAAC;MACzB;IACF;IACA,OAAOR,MAAM;EACf;EAEA,OAAOU,GAAGA,CAACnB,IAAI,EAAEC,OAAO,EAAEgB,KAAK,EAAE;IAC/B,IAAIhB,OAAO,KAAKmB,SAAS,EAAEnB,OAAO,GAAGD,IAAI;IACzC,IAAIiB,KAAK,KAAKG,SAAS,EAAEH,KAAK,GAAG,CAAC;IAClC,IAAIL,GAAG,GAAGJ,IAAI,CAACI,GAAG,CAACZ,IAAI,EAAEC,OAAO,CAAC;IACjC,IAAIQ,MAAM,GAAG,IAAI,CAACV,KAAK,CAACC,IAAI,EAAEC,OAAO,CAAC;IACtC,KAAK,IAAIJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGe,GAAG,EAAEf,CAAC,EAAE,EAAE;MAC5BY,MAAM,CAACf,GAAG,CAACG,CAAC,EAAEA,CAAC,EAAEoB,KAAK,CAAC;IACzB;IACA,OAAOR,MAAM;EACf;EAEA,OAAOY,IAAIA,CAACC,IAAI,EAAEtB,IAAI,EAAEC,OAAO,EAAE;IAC/B,IAAIsB,CAAC,GAAGD,IAAI,CAAClC,MAAM;IACnB,IAAIY,IAAI,KAAKoB,SAAS,EAAEpB,IAAI,GAAGuB,CAAC;IAChC,IAAItB,OAAO,KAAKmB,SAAS,EAAEnB,OAAO,GAAGD,IAAI;IACzC,IAAIY,GAAG,GAAGJ,IAAI,CAACI,GAAG,CAACW,CAAC,EAAEvB,IAAI,EAAEC,OAAO,CAAC;IACpC,IAAIQ,MAAM,GAAG,IAAI,CAACV,KAAK,CAACC,IAAI,EAAEC,OAAO,CAAC;IACtC,KAAK,IAAIJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGe,GAAG,EAAEf,CAAC,EAAE,EAAE;MAC5BY,MAAM,CAACf,GAAG,CAACG,CAAC,EAAEA,CAAC,EAAEyB,IAAI,CAACzB,CAAC,CAAC,CAAC;IAC3B;IACA,OAAOY,MAAM;EACf;EAEA,OAAOG,GAAGA,CAACY,OAAO,EAAEC,OAAO,EAAE;IAC3BD,OAAO,GAAG,IAAI,CAACE,WAAW,CAACF,OAAO,CAAC;IACnCC,OAAO,GAAG,IAAI,CAACC,WAAW,CAACD,OAAO,CAAC;IACnC,IAAIzB,IAAI,GAAGwB,OAAO,CAACxB,IAAI;IACvB,IAAIC,OAAO,GAAGuB,OAAO,CAACvB,OAAO;IAC7B,IAAI0B,MAAM,GAAG,IAAIpC,MAAM,CAACS,IAAI,EAAEC,OAAO,CAAC;IACtC,KAAK,IAAIJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAC7B,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,OAAO,EAAES,CAAC,EAAE,EAAE;QAChCiB,MAAM,CAACjC,GAAG,CAACG,CAAC,EAAEa,CAAC,EAAEF,IAAI,CAACI,GAAG,CAACY,OAAO,CAACI,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,EAAEe,OAAO,CAACG,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,CAAC,CAAC;MAClE;IACF;IACA,OAAOiB,MAAM;EACf;EAEA,OAAOd,GAAGA,CAACW,OAAO,EAAEC,OAAO,EAAE;IAC3BD,OAAO,GAAG,IAAI,CAACE,WAAW,CAACF,OAAO,CAAC;IACnCC,OAAO,GAAG,IAAI,CAACC,WAAW,CAACD,OAAO,CAAC;IACnC,IAAIzB,IAAI,GAAGwB,OAAO,CAACxB,IAAI;IACvB,IAAIC,OAAO,GAAGuB,OAAO,CAACvB,OAAO;IAC7B,IAAI0B,MAAM,GAAG,IAAI,IAAI,CAAC3B,IAAI,EAAEC,OAAO,CAAC;IACpC,KAAK,IAAIJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAC7B,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,OAAO,EAAES,CAAC,EAAE,EAAE;QAChCiB,MAAM,CAACjC,GAAG,CAACG,CAAC,EAAEa,CAAC,EAAEF,IAAI,CAACK,GAAG,CAACW,OAAO,CAACI,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,EAAEe,OAAO,CAACG,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,CAAC,CAAC;MAClE;IACF;IACA,OAAOiB,MAAM;EACf;EAEA,OAAOD,WAAWA,CAACT,KAAK,EAAE;IACxB,OAAOlC,cAAc,CAAC8C,QAAQ,CAACZ,KAAK,CAAC,GAAGA,KAAK,GAAG,IAAI1B,MAAM,CAAC0B,KAAK,CAAC;EACnE;EAEA,OAAOY,QAAQA,CAACZ,KAAK,EAAE;IACrB,OAAOA,KAAK,IAAI,IAAI,IAAIA,KAAK,CAACa,KAAK,KAAK,QAAQ;EAClD;EAEA,IAAIC,IAAIA,CAAA,EAAG;IACT,OAAO,IAAI,CAAC/B,IAAI,GAAG,IAAI,CAACC,OAAO;EACjC;EAEA+B,KAAKA,CAACC,QAAQ,EAAE;IACd,IAAI,OAAOA,QAAQ,KAAK,UAAU,EAAE;MAClC,MAAM,IAAI3B,SAAS,CAAC,6BAA6B,CAAC;IACpD;IACA,KAAK,IAAIT,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,OAAO,EAAES,CAAC,EAAE,EAAE;QACrCuB,QAAQ,CAACC,IAAI,CAAC,IAAI,EAAErC,CAAC,EAAEa,CAAC,CAAC;MAC3B;IACF;IACA,OAAO,IAAI;EACb;EAEAyB,SAASA,CAAA,EAAG;IACV,IAAIC,KAAK,GAAG,EAAE;IACd,KAAK,IAAIvC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,OAAO,EAAES,CAAC,EAAE,EAAE;QACrC0B,KAAK,CAACC,IAAI,CAAC,IAAI,CAACT,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,CAAC;MAC5B;IACF;IACA,OAAO0B,KAAK;EACd;EAEAE,SAASA,CAAA,EAAG;IACV,IAAIC,IAAI,GAAG,EAAE;IACb,KAAK,IAAI1C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC0C,IAAI,CAACF,IAAI,CAAC,EAAE,CAAC;MACb,KAAK,IAAI3B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,OAAO,EAAES,CAAC,EAAE,EAAE;QACrC6B,IAAI,CAAC1C,CAAC,CAAC,CAACwC,IAAI,CAAC,IAAI,CAACT,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,CAAC;MAC9B;IACF;IACA,OAAO6B,IAAI;EACb;EAEAC,MAAMA,CAAA,EAAG;IACP,OAAO,IAAI,CAACF,SAAS,CAAC,CAAC;EACzB;EAEAG,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACzC,IAAI,KAAK,CAAC;EACxB;EAEA0C,cAAcA,CAAA,EAAG;IACf,OAAO,IAAI,CAACzC,OAAO,KAAK,CAAC;EAC3B;EAEA0C,QAAQA,CAAA,EAAG;IACT,OAAO,IAAI,CAAC3C,IAAI,KAAK,CAAC,IAAI,IAAI,CAACC,OAAO,KAAK,CAAC;EAC9C;EAEA2C,QAAQA,CAAA,EAAG;IACT,OAAO,IAAI,CAAC5C,IAAI,KAAK,IAAI,CAACC,OAAO;EACnC;EAEA4C,WAAWA,CAAA,EAAG;IACZ,IAAI,IAAI,CAACD,QAAQ,CAAC,CAAC,EAAE;MACnB,KAAK,IAAI/C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;QAClC,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIb,CAAC,EAAEa,CAAC,EAAE,EAAE;UAC3B,IAAI,IAAI,CAACkB,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,KAAK,IAAI,CAACkB,GAAG,CAAClB,CAAC,EAAEb,CAAC,CAAC,EAAE;YACrC,OAAO,KAAK;UACd;QACF;MACF;MACA,OAAO,IAAI;IACb;IACA,OAAO,KAAK;EACd;EAEAiD,aAAaA,CAAA,EAAG;IACd,IAAIjD,CAAC,GAAG,CAAC;IACT,IAAIa,CAAC,GAAG,CAAC;IACT,IAAIqC,cAAc,GAAG,CAAC,CAAC;IACvB,IAAID,aAAa,GAAG,IAAI;IACxB,IAAIE,OAAO,GAAG,KAAK;IACnB,OAAOnD,CAAC,GAAG,IAAI,CAACG,IAAI,IAAI8C,aAAa,EAAE;MACrCpC,CAAC,GAAG,CAAC;MACLsC,OAAO,GAAG,KAAK;MACf,OAAOtC,CAAC,GAAG,IAAI,CAACT,OAAO,IAAI+C,OAAO,KAAK,KAAK,EAAE;QAC5C,IAAI,IAAI,CAACpB,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,KAAK,CAAC,EAAE;UACxBA,CAAC,EAAE;QACL,CAAC,MAAM,IAAI,IAAI,CAACkB,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,KAAK,CAAC,IAAIA,CAAC,GAAGqC,cAAc,EAAE;UACrDC,OAAO,GAAG,IAAI;UACdD,cAAc,GAAGrC,CAAC;QACpB,CAAC,MAAM;UACLoC,aAAa,GAAG,KAAK;UACrBE,OAAO,GAAG,IAAI;QAChB;MACF;MACAnD,CAAC,EAAE;IACL;IACA,OAAOiD,aAAa;EACtB;EAEAG,oBAAoBA,CAAA,EAAG;IACrB,IAAIpD,CAAC,GAAG,CAAC;IACT,IAAIa,CAAC,GAAG,CAAC;IACT,IAAIqC,cAAc,GAAG,CAAC,CAAC;IACvB,IAAIE,oBAAoB,GAAG,IAAI;IAC/B,IAAID,OAAO,GAAG,KAAK;IACnB,OAAOnD,CAAC,GAAG,IAAI,CAACG,IAAI,IAAIiD,oBAAoB,EAAE;MAC5CvC,CAAC,GAAG,CAAC;MACLsC,OAAO,GAAG,KAAK;MACf,OAAOtC,CAAC,GAAG,IAAI,CAACT,OAAO,IAAI+C,OAAO,KAAK,KAAK,EAAE;QAC5C,IAAI,IAAI,CAACpB,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,KAAK,CAAC,EAAE;UACxBA,CAAC,EAAE;QACL,CAAC,MAAM,IAAI,IAAI,CAACkB,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,KAAK,CAAC,IAAIA,CAAC,GAAGqC,cAAc,EAAE;UACrDC,OAAO,GAAG,IAAI;UACdD,cAAc,GAAGrC,CAAC;QACpB,CAAC,MAAM;UACLuC,oBAAoB,GAAG,KAAK;UAC5BD,OAAO,GAAG,IAAI;QAChB;MACF;MACA,KAAK,IAAIE,CAAC,GAAGxC,CAAC,GAAG,CAAC,EAAEwC,CAAC,GAAG,IAAI,CAAClD,IAAI,EAAEkD,CAAC,EAAE,EAAE;QACtC,IAAI,IAAI,CAACtB,GAAG,CAAC/B,CAAC,EAAEqD,CAAC,CAAC,KAAK,CAAC,EAAE;UACxBD,oBAAoB,GAAG,KAAK;QAC9B;MACF;MACApD,CAAC,EAAE;IACL;IACA,OAAOoD,oBAAoB;EAC7B;EAEAE,WAAWA,CAAA,EAAG;IACZ,IAAIxB,MAAM,GAAG,IAAI,CAACyB,KAAK,CAAC,CAAC;IACzB,IAAIC,CAAC,GAAG,CAAC;IACT,IAAIH,CAAC,GAAG,CAAC;IACT,OAAOG,CAAC,GAAG1B,MAAM,CAAC3B,IAAI,IAAIkD,CAAC,GAAGvB,MAAM,CAAC1B,OAAO,EAAE;MAC5C,IAAIqD,IAAI,GAAGD,CAAC;MACZ,KAAK,IAAIxD,CAAC,GAAGwD,CAAC,EAAExD,CAAC,GAAG8B,MAAM,CAAC3B,IAAI,EAAEH,CAAC,EAAE,EAAE;QACpC,IAAI8B,MAAM,CAACC,GAAG,CAAC/B,CAAC,EAAEqD,CAAC,CAAC,GAAGvB,MAAM,CAACC,GAAG,CAAC0B,IAAI,EAAEJ,CAAC,CAAC,EAAE;UAC1CI,IAAI,GAAGzD,CAAC;QACV;MACF;MACA,IAAI8B,MAAM,CAACC,GAAG,CAAC0B,IAAI,EAAEJ,CAAC,CAAC,KAAK,CAAC,EAAE;QAC7BA,CAAC,EAAE;MACL,CAAC,MAAM;QACLvB,MAAM,CAAC4B,QAAQ,CAACF,CAAC,EAAEC,IAAI,CAAC;QACxB,IAAIE,GAAG,GAAG7B,MAAM,CAACC,GAAG,CAACyB,CAAC,EAAEH,CAAC,CAAC;QAC1B,KAAK,IAAIxC,CAAC,GAAGwC,CAAC,EAAExC,CAAC,GAAGiB,MAAM,CAAC1B,OAAO,EAAES,CAAC,EAAE,EAAE;UACvCiB,MAAM,CAACjC,GAAG,CAAC2D,CAAC,EAAE3C,CAAC,EAAEiB,MAAM,CAACC,GAAG,CAACyB,CAAC,EAAE3C,CAAC,CAAC,GAAG8C,GAAG,CAAC;QAC1C;QACA,KAAK,IAAI3D,CAAC,GAAGwD,CAAC,GAAG,CAAC,EAAExD,CAAC,GAAG8B,MAAM,CAAC3B,IAAI,EAAEH,CAAC,EAAE,EAAE;UACxC,IAAI4D,MAAM,GAAG9B,MAAM,CAACC,GAAG,CAAC/B,CAAC,EAAEqD,CAAC,CAAC,GAAGvB,MAAM,CAACC,GAAG,CAACyB,CAAC,EAAEH,CAAC,CAAC;UAChDvB,MAAM,CAACjC,GAAG,CAACG,CAAC,EAAEqD,CAAC,EAAE,CAAC,CAAC;UACnB,KAAK,IAAIxC,CAAC,GAAGwC,CAAC,GAAG,CAAC,EAAExC,CAAC,GAAGiB,MAAM,CAAC1B,OAAO,EAAES,CAAC,EAAE,EAAE;YAC3CiB,MAAM,CAACjC,GAAG,CAACG,CAAC,EAAEa,CAAC,EAAEiB,MAAM,CAACC,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,GAAGiB,MAAM,CAACC,GAAG,CAACyB,CAAC,EAAE3C,CAAC,CAAC,GAAG+C,MAAM,CAAC;UAChE;QACF;QACAJ,CAAC,EAAE;QACHH,CAAC,EAAE;MACL;IACF;IACA,OAAOvB,MAAM;EACf;EAEA+B,kBAAkBA,CAAA,EAAG;IACnB,IAAI/B,MAAM,GAAG,IAAI,CAACwB,WAAW,CAAC,CAAC;IAC/B,IAAIQ,CAAC,GAAGhC,MAAM,CAAC1B,OAAO;IACtB,IAAI2D,CAAC,GAAGjC,MAAM,CAAC3B,IAAI;IACnB,IAAIqD,CAAC,GAAGO,CAAC,GAAG,CAAC;IACb,OAAOP,CAAC,IAAI,CAAC,EAAE;MACb,IAAI1B,MAAM,CAACkC,MAAM,CAACR,CAAC,CAAC,KAAK,CAAC,EAAE;QAC1BA,CAAC,EAAE;MACL,CAAC,MAAM;QACL,IAAIS,CAAC,GAAG,CAAC;QACT,IAAIC,KAAK,GAAG,KAAK;QACjB,OAAOD,CAAC,GAAGF,CAAC,IAAIG,KAAK,KAAK,KAAK,EAAE;UAC/B,IAAIpC,MAAM,CAACC,GAAG,CAACyB,CAAC,EAAES,CAAC,CAAC,KAAK,CAAC,EAAE;YAC1BC,KAAK,GAAG,IAAI;UACd,CAAC,MAAM;YACLD,CAAC,EAAE;UACL;QACF;QACA,KAAK,IAAIjE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGwD,CAAC,EAAExD,CAAC,EAAE,EAAE;UAC1B,IAAI4D,MAAM,GAAG9B,MAAM,CAACC,GAAG,CAAC/B,CAAC,EAAEiE,CAAC,CAAC;UAC7B,KAAK,IAAIpD,CAAC,GAAGoD,CAAC,EAAEpD,CAAC,GAAGiD,CAAC,EAAEjD,CAAC,EAAE,EAAE;YAC1B,IAAI8C,GAAG,GAAG7B,MAAM,CAACC,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,GAAG+C,MAAM,GAAG9B,MAAM,CAACC,GAAG,CAACyB,CAAC,EAAE3C,CAAC,CAAC;YACtDiB,MAAM,CAACjC,GAAG,CAACG,CAAC,EAAEa,CAAC,EAAE8C,GAAG,CAAC;UACvB;QACF;QACAH,CAAC,EAAE;MACL;IACF;IACA,OAAO1B,MAAM;EACf;EAEAjC,GAAGA,CAAA,EAAG;IACJ,MAAM,IAAIsE,KAAK,CAAC,6BAA6B,CAAC;EAChD;EAEApC,GAAGA,CAAA,EAAG;IACJ,MAAM,IAAIoC,KAAK,CAAC,6BAA6B,CAAC;EAChD;EAEAC,MAAMA,CAAC5D,OAAO,GAAG,CAAC,CAAC,EAAE;IACnB,IAAI,OAAOA,OAAO,KAAK,QAAQ,EAAE;MAC/B,MAAM,IAAIC,SAAS,CAAC,2BAA2B,CAAC;IAClD;IACA,MAAM;MAAEN,IAAI,GAAG,CAAC;MAAEC,OAAO,GAAG;IAAE,CAAC,GAAGI,OAAO;IACzC,IAAI,CAACS,MAAM,CAACC,SAAS,CAACf,IAAI,CAAC,IAAIA,IAAI,IAAI,CAAC,EAAE;MACxC,MAAM,IAAIM,SAAS,CAAC,iCAAiC,CAAC;IACxD;IACA,IAAI,CAACQ,MAAM,CAACC,SAAS,CAACd,OAAO,CAAC,IAAIA,OAAO,IAAI,CAAC,EAAE;MAC9C,MAAM,IAAIK,SAAS,CAAC,oCAAoC,CAAC;IAC3D;IACA,IAAIG,MAAM,GAAG,IAAIlB,MAAM,CAAC,IAAI,CAACS,IAAI,GAAGA,IAAI,EAAE,IAAI,CAACC,OAAO,GAAGA,OAAO,CAAC;IACjE,KAAK,IAAIJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAC7B,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,OAAO,EAAES,CAAC,EAAE,EAAE;QAChCD,MAAM,CAACyD,YAAY,CAAC,IAAI,EAAE,IAAI,CAAClE,IAAI,GAAGH,CAAC,EAAE,IAAI,CAACI,OAAO,GAAGS,CAAC,CAAC;MAC5D;IACF;IACA,OAAOD,MAAM;EACf;EAEAN,IAAIA,CAACc,KAAK,EAAE;IACV,KAAK,IAAIpB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,OAAO,EAAES,CAAC,EAAE,EAAE;QACrC,IAAI,CAAChB,GAAG,CAACG,CAAC,EAAEa,CAAC,EAAEO,KAAK,CAAC;MACvB;IACF;IACA,OAAO,IAAI;EACb;EAEAkD,GAAGA,CAAA,EAAG;IACJ,OAAO,IAAI,CAACC,IAAI,CAAC,CAAC,CAAC,CAAC;EACtB;EAEAC,MAAMA,CAACC,KAAK,EAAE;IACZ5F,aAAa,CAAC,IAAI,EAAE4F,KAAK,CAAC;IAC1B,IAAI9E,GAAG,GAAG,EAAE;IACZ,KAAK,IAAIK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACI,OAAO,EAAEJ,CAAC,EAAE,EAAE;MACrCL,GAAG,CAAC6C,IAAI,CAAC,IAAI,CAACT,GAAG,CAAC0C,KAAK,EAAEzE,CAAC,CAAC,CAAC;IAC9B;IACA,OAAOL,GAAG;EACZ;EAEA+E,YAAYA,CAACD,KAAK,EAAE;IAClB,OAAO/E,MAAM,CAACI,SAAS,CAAC,IAAI,CAAC0E,MAAM,CAACC,KAAK,CAAC,CAAC;EAC7C;EAEAE,MAAMA,CAACF,KAAK,EAAElC,KAAK,EAAE;IACnB1D,aAAa,CAAC,IAAI,EAAE4F,KAAK,CAAC;IAC1BlC,KAAK,GAAG3D,cAAc,CAAC,IAAI,EAAE2D,KAAK,CAAC;IACnC,KAAK,IAAIvC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACI,OAAO,EAAEJ,CAAC,EAAE,EAAE;MACrC,IAAI,CAACH,GAAG,CAAC4E,KAAK,EAAEzE,CAAC,EAAEuC,KAAK,CAACvC,CAAC,CAAC,CAAC;IAC9B;IACA,OAAO,IAAI;EACb;EAEA0D,QAAQA,CAACkB,IAAI,EAAEC,IAAI,EAAE;IACnBhG,aAAa,CAAC,IAAI,EAAE+F,IAAI,CAAC;IACzB/F,aAAa,CAAC,IAAI,EAAEgG,IAAI,CAAC;IACzB,KAAK,IAAI7E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACI,OAAO,EAAEJ,CAAC,EAAE,EAAE;MACrC,IAAI8E,IAAI,GAAG,IAAI,CAAC/C,GAAG,CAAC6C,IAAI,EAAE5E,CAAC,CAAC;MAC5B,IAAI,CAACH,GAAG,CAAC+E,IAAI,EAAE5E,CAAC,EAAE,IAAI,CAAC+B,GAAG,CAAC8C,IAAI,EAAE7E,CAAC,CAAC,CAAC;MACpC,IAAI,CAACH,GAAG,CAACgF,IAAI,EAAE7E,CAAC,EAAE8E,IAAI,CAAC;IACzB;IACA,OAAO,IAAI;EACb;EAEAC,SAASA,CAACN,KAAK,EAAE;IACf3F,gBAAgB,CAAC,IAAI,EAAE2F,KAAK,CAAC;IAC7B,IAAI7E,MAAM,GAAG,EAAE;IACf,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClCJ,MAAM,CAAC4C,IAAI,CAAC,IAAI,CAACT,GAAG,CAAC/B,CAAC,EAAEyE,KAAK,CAAC,CAAC;IACjC;IACA,OAAO7E,MAAM;EACf;EAEAoF,eAAeA,CAACP,KAAK,EAAE;IACrB,OAAO/E,MAAM,CAACO,YAAY,CAAC,IAAI,CAAC8E,SAAS,CAACN,KAAK,CAAC,CAAC;EACnD;EAEAQ,SAASA,CAACR,KAAK,EAAElC,KAAK,EAAE;IACtBzD,gBAAgB,CAAC,IAAI,EAAE2F,KAAK,CAAC;IAC7BlC,KAAK,GAAGxD,iBAAiB,CAAC,IAAI,EAAEwD,KAAK,CAAC;IACtC,KAAK,IAAIvC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,IAAI,CAACH,GAAG,CAACG,CAAC,EAAEyE,KAAK,EAAElC,KAAK,CAACvC,CAAC,CAAC,CAAC;IAC9B;IACA,OAAO,IAAI;EACb;EAEAkF,WAAWA,CAACC,OAAO,EAAEC,OAAO,EAAE;IAC5BtG,gBAAgB,CAAC,IAAI,EAAEqG,OAAO,CAAC;IAC/BrG,gBAAgB,CAAC,IAAI,EAAEsG,OAAO,CAAC;IAC/B,KAAK,IAAIpF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,IAAI8E,IAAI,GAAG,IAAI,CAAC/C,GAAG,CAAC/B,CAAC,EAAEmF,OAAO,CAAC;MAC/B,IAAI,CAACtF,GAAG,CAACG,CAAC,EAAEmF,OAAO,EAAE,IAAI,CAACpD,GAAG,CAAC/B,CAAC,EAAEoF,OAAO,CAAC,CAAC;MAC1C,IAAI,CAACvF,GAAG,CAACG,CAAC,EAAEoF,OAAO,EAAEN,IAAI,CAAC;IAC5B;IACA,OAAO,IAAI;EACb;EAEAO,YAAYA,CAACtF,MAAM,EAAE;IACnBA,MAAM,GAAGnB,cAAc,CAAC,IAAI,EAAEmB,MAAM,CAAC;IACrC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,OAAO,EAAES,CAAC,EAAE,EAAE;QACrC,IAAI,CAAChB,GAAG,CAACG,CAAC,EAAEa,CAAC,EAAE,IAAI,CAACkB,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,GAAGd,MAAM,CAACc,CAAC,CAAC,CAAC;MAC5C;IACF;IACA,OAAO,IAAI;EACb;EAEAyE,YAAYA,CAACvF,MAAM,EAAE;IACnBA,MAAM,GAAGnB,cAAc,CAAC,IAAI,EAAEmB,MAAM,CAAC;IACrC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,OAAO,EAAES,CAAC,EAAE,EAAE;QACrC,IAAI,CAAChB,GAAG,CAACG,CAAC,EAAEa,CAAC,EAAE,IAAI,CAACkB,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,GAAGd,MAAM,CAACc,CAAC,CAAC,CAAC;MAC5C;IACF;IACA,OAAO,IAAI;EACb;EAEA0E,YAAYA,CAACxF,MAAM,EAAE;IACnBA,MAAM,GAAGnB,cAAc,CAAC,IAAI,EAAEmB,MAAM,CAAC;IACrC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,OAAO,EAAES,CAAC,EAAE,EAAE;QACrC,IAAI,CAAChB,GAAG,CAACG,CAAC,EAAEa,CAAC,EAAE,IAAI,CAACkB,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,GAAGd,MAAM,CAACc,CAAC,CAAC,CAAC;MAC5C;IACF;IACA,OAAO,IAAI;EACb;EAEA2E,YAAYA,CAACzF,MAAM,EAAE;IACnBA,MAAM,GAAGnB,cAAc,CAAC,IAAI,EAAEmB,MAAM,CAAC;IACrC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,OAAO,EAAES,CAAC,EAAE,EAAE;QACrC,IAAI,CAAChB,GAAG,CAACG,CAAC,EAAEa,CAAC,EAAE,IAAI,CAACkB,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,GAAGd,MAAM,CAACc,CAAC,CAAC,CAAC;MAC5C;IACF;IACA,OAAO,IAAI;EACb;EAEA4E,eAAeA,CAAC1F,MAAM,EAAE;IACtBA,MAAM,GAAGhB,iBAAiB,CAAC,IAAI,EAAEgB,MAAM,CAAC;IACxC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,OAAO,EAAES,CAAC,EAAE,EAAE;QACrC,IAAI,CAAChB,GAAG,CAACG,CAAC,EAAEa,CAAC,EAAE,IAAI,CAACkB,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,GAAGd,MAAM,CAACC,CAAC,CAAC,CAAC;MAC5C;IACF;IACA,OAAO,IAAI;EACb;EAEA0F,eAAeA,CAAC3F,MAAM,EAAE;IACtBA,MAAM,GAAGhB,iBAAiB,CAAC,IAAI,EAAEgB,MAAM,CAAC;IACxC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,OAAO,EAAES,CAAC,EAAE,EAAE;QACrC,IAAI,CAAChB,GAAG,CAACG,CAAC,EAAEa,CAAC,EAAE,IAAI,CAACkB,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,GAAGd,MAAM,CAACC,CAAC,CAAC,CAAC;MAC5C;IACF;IACA,OAAO,IAAI;EACb;EAEA2F,eAAeA,CAAC5F,MAAM,EAAE;IACtBA,MAAM,GAAGhB,iBAAiB,CAAC,IAAI,EAAEgB,MAAM,CAAC;IACxC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,OAAO,EAAES,CAAC,EAAE,EAAE;QACrC,IAAI,CAAChB,GAAG,CAACG,CAAC,EAAEa,CAAC,EAAE,IAAI,CAACkB,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,GAAGd,MAAM,CAACC,CAAC,CAAC,CAAC;MAC5C;IACF;IACA,OAAO,IAAI;EACb;EAEA4F,eAAeA,CAAC7F,MAAM,EAAE;IACtBA,MAAM,GAAGhB,iBAAiB,CAAC,IAAI,EAAEgB,MAAM,CAAC;IACxC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,OAAO,EAAES,CAAC,EAAE,EAAE;QACrC,IAAI,CAAChB,GAAG,CAACG,CAAC,EAAEa,CAAC,EAAE,IAAI,CAACkB,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,GAAGd,MAAM,CAACC,CAAC,CAAC,CAAC;MAC5C;IACF;IACA,OAAO,IAAI;EACb;EAEA6F,MAAMA,CAACpB,KAAK,EAAErD,KAAK,EAAE;IACnBvC,aAAa,CAAC,IAAI,EAAE4F,KAAK,CAAC;IAC1B,KAAK,IAAIzE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACI,OAAO,EAAEJ,CAAC,EAAE,EAAE;MACrC,IAAI,CAACH,GAAG,CAAC4E,KAAK,EAAEzE,CAAC,EAAE,IAAI,CAAC+B,GAAG,CAAC0C,KAAK,EAAEzE,CAAC,CAAC,GAAGoB,KAAK,CAAC;IAChD;IACA,OAAO,IAAI;EACb;EAEA0E,SAASA,CAACrB,KAAK,EAAErD,KAAK,EAAE;IACtBtC,gBAAgB,CAAC,IAAI,EAAE2F,KAAK,CAAC;IAC7B,KAAK,IAAIzE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,IAAI,CAACH,GAAG,CAACG,CAAC,EAAEyE,KAAK,EAAE,IAAI,CAAC1C,GAAG,CAAC/B,CAAC,EAAEyE,KAAK,CAAC,GAAGrD,KAAK,CAAC;IAChD;IACA,OAAO,IAAI;EACb;EAEAJ,GAAGA,CAAA,EAAG;IACJ,IAAI+E,CAAC,GAAG,IAAI,CAAChE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IACtB,KAAK,IAAI/B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,OAAO,EAAES,CAAC,EAAE,EAAE;QACrC,IAAI,IAAI,CAACkB,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,GAAGkF,CAAC,EAAE;UACtBA,CAAC,GAAG,IAAI,CAAChE,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC;QACpB;MACF;IACF;IACA,OAAOkF,CAAC;EACV;EAEAC,QAAQA,CAAA,EAAG;IACT,IAAID,CAAC,GAAG,IAAI,CAAChE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IACtB,IAAIkE,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAChB,KAAK,IAAIjG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,OAAO,EAAES,CAAC,EAAE,EAAE;QACrC,IAAI,IAAI,CAACkB,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,GAAGkF,CAAC,EAAE;UACtBA,CAAC,GAAG,IAAI,CAAChE,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC;UAClBoF,GAAG,CAAC,CAAC,CAAC,GAAGjG,CAAC;UACViG,GAAG,CAAC,CAAC,CAAC,GAAGpF,CAAC;QACZ;MACF;IACF;IACA,OAAOoF,GAAG;EACZ;EAEAlF,GAAGA,CAAA,EAAG;IACJ,IAAIgF,CAAC,GAAG,IAAI,CAAChE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IACtB,KAAK,IAAI/B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,OAAO,EAAES,CAAC,EAAE,EAAE;QACrC,IAAI,IAAI,CAACkB,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,GAAGkF,CAAC,EAAE;UACtBA,CAAC,GAAG,IAAI,CAAChE,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC;QACpB;MACF;IACF;IACA,OAAOkF,CAAC;EACV;EAEAG,QAAQA,CAAA,EAAG;IACT,IAAIH,CAAC,GAAG,IAAI,CAAChE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IACtB,IAAIkE,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAChB,KAAK,IAAIjG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,OAAO,EAAES,CAAC,EAAE,EAAE;QACrC,IAAI,IAAI,CAACkB,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,GAAGkF,CAAC,EAAE;UACtBA,CAAC,GAAG,IAAI,CAAChE,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC;UAClBoF,GAAG,CAAC,CAAC,CAAC,GAAGjG,CAAC;UACViG,GAAG,CAAC,CAAC,CAAC,GAAGpF,CAAC;QACZ;MACF;IACF;IACA,OAAOoF,GAAG;EACZ;EAEAjC,MAAMA,CAACrE,GAAG,EAAE;IACVd,aAAa,CAAC,IAAI,EAAEc,GAAG,CAAC;IACxB,IAAIoG,CAAC,GAAG,IAAI,CAAChE,GAAG,CAACpC,GAAG,EAAE,CAAC,CAAC;IACxB,KAAK,IAAIK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACI,OAAO,EAAEJ,CAAC,EAAE,EAAE;MACrC,IAAI,IAAI,CAAC+B,GAAG,CAACpC,GAAG,EAAEK,CAAC,CAAC,GAAG+F,CAAC,EAAE;QACxBA,CAAC,GAAG,IAAI,CAAChE,GAAG,CAACpC,GAAG,EAAEK,CAAC,CAAC;MACtB;IACF;IACA,OAAO+F,CAAC;EACV;EAEAI,WAAWA,CAACxG,GAAG,EAAE;IACfd,aAAa,CAAC,IAAI,EAAEc,GAAG,CAAC;IACxB,IAAIoG,CAAC,GAAG,IAAI,CAAChE,GAAG,CAACpC,GAAG,EAAE,CAAC,CAAC;IACxB,IAAIsG,GAAG,GAAG,CAACtG,GAAG,EAAE,CAAC,CAAC;IAClB,KAAK,IAAIK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACI,OAAO,EAAEJ,CAAC,EAAE,EAAE;MACrC,IAAI,IAAI,CAAC+B,GAAG,CAACpC,GAAG,EAAEK,CAAC,CAAC,GAAG+F,CAAC,EAAE;QACxBA,CAAC,GAAG,IAAI,CAAChE,GAAG,CAACpC,GAAG,EAAEK,CAAC,CAAC;QACpBiG,GAAG,CAAC,CAAC,CAAC,GAAGjG,CAAC;MACZ;IACF;IACA,OAAOiG,GAAG;EACZ;EAEAG,MAAMA,CAACzG,GAAG,EAAE;IACVd,aAAa,CAAC,IAAI,EAAEc,GAAG,CAAC;IACxB,IAAIoG,CAAC,GAAG,IAAI,CAAChE,GAAG,CAACpC,GAAG,EAAE,CAAC,CAAC;IACxB,KAAK,IAAIK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACI,OAAO,EAAEJ,CAAC,EAAE,EAAE;MACrC,IAAI,IAAI,CAAC+B,GAAG,CAACpC,GAAG,EAAEK,CAAC,CAAC,GAAG+F,CAAC,EAAE;QACxBA,CAAC,GAAG,IAAI,CAAChE,GAAG,CAACpC,GAAG,EAAEK,CAAC,CAAC;MACtB;IACF;IACA,OAAO+F,CAAC;EACV;EAEAM,WAAWA,CAAC1G,GAAG,EAAE;IACfd,aAAa,CAAC,IAAI,EAAEc,GAAG,CAAC;IACxB,IAAIoG,CAAC,GAAG,IAAI,CAAChE,GAAG,CAACpC,GAAG,EAAE,CAAC,CAAC;IACxB,IAAIsG,GAAG,GAAG,CAACtG,GAAG,EAAE,CAAC,CAAC;IAClB,KAAK,IAAIK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACI,OAAO,EAAEJ,CAAC,EAAE,EAAE;MACrC,IAAI,IAAI,CAAC+B,GAAG,CAACpC,GAAG,EAAEK,CAAC,CAAC,GAAG+F,CAAC,EAAE;QACxBA,CAAC,GAAG,IAAI,CAAChE,GAAG,CAACpC,GAAG,EAAEK,CAAC,CAAC;QACpBiG,GAAG,CAAC,CAAC,CAAC,GAAGjG,CAAC;MACZ;IACF;IACA,OAAOiG,GAAG;EACZ;EAEAK,SAASA,CAAC1G,MAAM,EAAE;IAChBd,gBAAgB,CAAC,IAAI,EAAEc,MAAM,CAAC;IAC9B,IAAImG,CAAC,GAAG,IAAI,CAAChE,GAAG,CAAC,CAAC,EAAEnC,MAAM,CAAC;IAC3B,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,IAAI,IAAI,CAAC+B,GAAG,CAAC/B,CAAC,EAAEJ,MAAM,CAAC,GAAGmG,CAAC,EAAE;QAC3BA,CAAC,GAAG,IAAI,CAAChE,GAAG,CAAC/B,CAAC,EAAEJ,MAAM,CAAC;MACzB;IACF;IACA,OAAOmG,CAAC;EACV;EAEAQ,cAAcA,CAAC3G,MAAM,EAAE;IACrBd,gBAAgB,CAAC,IAAI,EAAEc,MAAM,CAAC;IAC9B,IAAImG,CAAC,GAAG,IAAI,CAAChE,GAAG,CAAC,CAAC,EAAEnC,MAAM,CAAC;IAC3B,IAAIqG,GAAG,GAAG,CAAC,CAAC,EAAErG,MAAM,CAAC;IACrB,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,IAAI,IAAI,CAAC+B,GAAG,CAAC/B,CAAC,EAAEJ,MAAM,CAAC,GAAGmG,CAAC,EAAE;QAC3BA,CAAC,GAAG,IAAI,CAAChE,GAAG,CAAC/B,CAAC,EAAEJ,MAAM,CAAC;QACvBqG,GAAG,CAAC,CAAC,CAAC,GAAGjG,CAAC;MACZ;IACF;IACA,OAAOiG,GAAG;EACZ;EAEAO,SAASA,CAAC5G,MAAM,EAAE;IAChBd,gBAAgB,CAAC,IAAI,EAAEc,MAAM,CAAC;IAC9B,IAAImG,CAAC,GAAG,IAAI,CAAChE,GAAG,CAAC,CAAC,EAAEnC,MAAM,CAAC;IAC3B,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,IAAI,IAAI,CAAC+B,GAAG,CAAC/B,CAAC,EAAEJ,MAAM,CAAC,GAAGmG,CAAC,EAAE;QAC3BA,CAAC,GAAG,IAAI,CAAChE,GAAG,CAAC/B,CAAC,EAAEJ,MAAM,CAAC;MACzB;IACF;IACA,OAAOmG,CAAC;EACV;EAEAU,cAAcA,CAAC7G,MAAM,EAAE;IACrBd,gBAAgB,CAAC,IAAI,EAAEc,MAAM,CAAC;IAC9B,IAAImG,CAAC,GAAG,IAAI,CAAChE,GAAG,CAAC,CAAC,EAAEnC,MAAM,CAAC;IAC3B,IAAIqG,GAAG,GAAG,CAAC,CAAC,EAAErG,MAAM,CAAC;IACrB,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,IAAI,IAAI,CAAC+B,GAAG,CAAC/B,CAAC,EAAEJ,MAAM,CAAC,GAAGmG,CAAC,EAAE;QAC3BA,CAAC,GAAG,IAAI,CAAChE,GAAG,CAAC/B,CAAC,EAAEJ,MAAM,CAAC;QACvBqG,GAAG,CAAC,CAAC,CAAC,GAAGjG,CAAC;MACZ;IACF;IACA,OAAOiG,GAAG;EACZ;EAEAzE,IAAIA,CAAA,EAAG;IACL,IAAIT,GAAG,GAAGJ,IAAI,CAACI,GAAG,CAAC,IAAI,CAACZ,IAAI,EAAE,IAAI,CAACC,OAAO,CAAC;IAC3C,IAAIoB,IAAI,GAAG,EAAE;IACb,KAAK,IAAIxB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGe,GAAG,EAAEf,CAAC,EAAE,EAAE;MAC5BwB,IAAI,CAACgB,IAAI,CAAC,IAAI,CAACT,GAAG,CAAC/B,CAAC,EAAEA,CAAC,CAAC,CAAC;IAC3B;IACA,OAAOwB,IAAI;EACb;EAEAkF,IAAIA,CAACC,IAAI,GAAG,WAAW,EAAE;IACvB,IAAI7E,MAAM,GAAG,CAAC;IACd,IAAI6E,IAAI,KAAK,KAAK,EAAE;MAClB,OAAO,IAAI,CAAC3F,GAAG,CAAC,CAAC;IACnB,CAAC,MAAM,IAAI2F,IAAI,KAAK,WAAW,EAAE;MAC/B,KAAK,IAAI3G,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;QAClC,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,OAAO,EAAES,CAAC,EAAE,EAAE;UACrCiB,MAAM,GAAGA,MAAM,GAAG,IAAI,CAACC,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,GAAG,IAAI,CAACkB,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC;QACnD;MACF;MACA,OAAOF,IAAI,CAACiG,IAAI,CAAC9E,MAAM,CAAC;IAC1B,CAAC,MAAM;MACL,MAAM,IAAItC,UAAU,CAAE,sBAAqBmH,IAAK,EAAC,CAAC;IACpD;EACF;EAEAE,aAAaA,CAAA,EAAG;IACd,IAAIC,GAAG,GAAG,CAAC;IACX,KAAK,IAAI9G,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,OAAO,EAAES,CAAC,EAAE,EAAE;QACrCiG,GAAG,IAAI,IAAI,CAAC/E,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC;QACrB,IAAI,CAAChB,GAAG,CAACG,CAAC,EAAEa,CAAC,EAAEiG,GAAG,CAAC;MACrB;IACF;IACA,OAAO,IAAI;EACb;EAEAC,GAAGA,CAACC,OAAO,EAAE;IACX,IAAI9H,cAAc,CAAC8C,QAAQ,CAACgF,OAAO,CAAC,EAAEA,OAAO,GAAGA,OAAO,CAAC1E,SAAS,CAAC,CAAC;IACnE,IAAI2E,OAAO,GAAG,IAAI,CAAC3E,SAAS,CAAC,CAAC;IAC9B,IAAI2E,OAAO,CAAC1H,MAAM,KAAKyH,OAAO,CAACzH,MAAM,EAAE;MACrC,MAAM,IAAIC,UAAU,CAAC,mCAAmC,CAAC;IAC3D;IACA,IAAIuH,GAAG,GAAG,CAAC;IACX,KAAK,IAAI/G,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGiH,OAAO,CAAC1H,MAAM,EAAES,CAAC,EAAE,EAAE;MACvC+G,GAAG,IAAIE,OAAO,CAACjH,CAAC,CAAC,GAAGgH,OAAO,CAAChH,CAAC,CAAC;IAChC;IACA,OAAO+G,GAAG;EACZ;EAEAG,IAAIA,CAACC,KAAK,EAAE;IACVA,KAAK,GAAGzH,MAAM,CAACmC,WAAW,CAACsF,KAAK,CAAC;IAEjC,IAAIrD,CAAC,GAAG,IAAI,CAAC3D,IAAI;IACjB,IAAI4D,CAAC,GAAG,IAAI,CAAC3D,OAAO;IACpB,IAAI6D,CAAC,GAAGkD,KAAK,CAAC/G,OAAO;IAErB,IAAI0B,MAAM,GAAG,IAAIpC,MAAM,CAACoE,CAAC,EAAEG,CAAC,CAAC;IAE7B,IAAImD,KAAK,GAAG,IAAIC,YAAY,CAACtD,CAAC,CAAC;IAC/B,KAAK,IAAIlD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGoD,CAAC,EAAEpD,CAAC,EAAE,EAAE;MAC1B,KAAK,IAAIwC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGU,CAAC,EAAEV,CAAC,EAAE,EAAE;QAC1B+D,KAAK,CAAC/D,CAAC,CAAC,GAAG8D,KAAK,CAACpF,GAAG,CAACsB,CAAC,EAAExC,CAAC,CAAC;MAC5B;MAEA,KAAK,IAAIb,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG8D,CAAC,EAAE9D,CAAC,EAAE,EAAE;QAC1B,IAAIsH,CAAC,GAAG,CAAC;QACT,KAAK,IAAIjE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGU,CAAC,EAAEV,CAAC,EAAE,EAAE;UAC1BiE,CAAC,IAAI,IAAI,CAACvF,GAAG,CAAC/B,CAAC,EAAEqD,CAAC,CAAC,GAAG+D,KAAK,CAAC/D,CAAC,CAAC;QAChC;QAEAvB,MAAM,CAACjC,GAAG,CAACG,CAAC,EAAEa,CAAC,EAAEyG,CAAC,CAAC;MACrB;IACF;IACA,OAAOxF,MAAM;EACf;EAEAyF,WAAWA,CAACJ,KAAK,EAAE;IACjBA,KAAK,GAAGzH,MAAM,CAACmC,WAAW,CAACsF,KAAK,CAAC;IACjC,IAAIrF,MAAM,GAAG,IAAIpC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;IAC7B,MAAM8H,GAAG,GAAG,IAAI,CAACzF,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC1B,MAAM0F,GAAG,GAAGN,KAAK,CAACpF,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC3B,MAAM2F,GAAG,GAAG,IAAI,CAAC3F,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC1B,MAAM4F,GAAG,GAAGR,KAAK,CAACpF,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC3B,MAAM6F,GAAG,GAAG,IAAI,CAAC7F,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC1B,MAAM8F,GAAG,GAAGV,KAAK,CAACpF,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC3B,MAAM+F,GAAG,GAAG,IAAI,CAAC/F,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC1B,MAAMgG,GAAG,GAAGZ,KAAK,CAACpF,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;;IAE3B;IACA,MAAMiG,EAAE,GAAG,CAACR,GAAG,GAAGM,GAAG,KAAKL,GAAG,GAAGM,GAAG,CAAC;IACpC,MAAME,EAAE,GAAG,CAACL,GAAG,GAAGE,GAAG,IAAIL,GAAG;IAC5B,MAAMS,EAAE,GAAGV,GAAG,IAAIG,GAAG,GAAGI,GAAG,CAAC;IAC5B,MAAMI,EAAE,GAAGL,GAAG,IAAID,GAAG,GAAGJ,GAAG,CAAC;IAC5B,MAAMW,EAAE,GAAG,CAACZ,GAAG,GAAGE,GAAG,IAAIK,GAAG;IAC5B,MAAMM,EAAE,GAAG,CAACT,GAAG,GAAGJ,GAAG,KAAKC,GAAG,GAAGE,GAAG,CAAC;IACpC,MAAMW,EAAE,GAAG,CAACZ,GAAG,GAAGI,GAAG,KAAKD,GAAG,GAAGE,GAAG,CAAC;;IAEpC;IACA,MAAMQ,GAAG,GAAGP,EAAE,GAAGG,EAAE,GAAGC,EAAE,GAAGE,EAAE;IAC7B,MAAME,GAAG,GAAGN,EAAE,GAAGE,EAAE;IACnB,MAAMK,GAAG,GAAGR,EAAE,GAAGE,EAAE;IACnB,MAAMO,GAAG,GAAGV,EAAE,GAAGC,EAAE,GAAGC,EAAE,GAAGG,EAAE;IAE7BvG,MAAM,CAACjC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE0I,GAAG,CAAC;IACrBzG,MAAM,CAACjC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE2I,GAAG,CAAC;IACrB1G,MAAM,CAACjC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE4I,GAAG,CAAC;IACrB3G,MAAM,CAACjC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE6I,GAAG,CAAC;IACrB,OAAO5G,MAAM;EACf;EAEA6G,WAAWA,CAACxB,KAAK,EAAE;IACjBA,KAAK,GAAGzH,MAAM,CAACmC,WAAW,CAACsF,KAAK,CAAC;IACjC,IAAIrF,MAAM,GAAG,IAAIpC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;IAE7B,MAAMkJ,GAAG,GAAG,IAAI,CAAC7G,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC1B,MAAM8G,GAAG,GAAG,IAAI,CAAC9G,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC1B,MAAM+G,GAAG,GAAG,IAAI,CAAC/G,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC1B,MAAMgH,GAAG,GAAG,IAAI,CAAChH,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC1B,MAAMyF,GAAG,GAAG,IAAI,CAACzF,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC1B,MAAM2F,GAAG,GAAG,IAAI,CAAC3F,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC1B,MAAMiH,GAAG,GAAG,IAAI,CAACjH,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC1B,MAAM6F,GAAG,GAAG,IAAI,CAAC7F,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC1B,MAAM+F,GAAG,GAAG,IAAI,CAAC/F,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAE1B,MAAMkH,GAAG,GAAG9B,KAAK,CAACpF,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC3B,MAAMmH,GAAG,GAAG/B,KAAK,CAACpF,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC3B,MAAMoH,GAAG,GAAGhC,KAAK,CAACpF,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC3B,MAAMqH,GAAG,GAAGjC,KAAK,CAACpF,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC3B,MAAM0F,GAAG,GAAGN,KAAK,CAACpF,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC3B,MAAM4F,GAAG,GAAGR,KAAK,CAACpF,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC3B,MAAMsH,GAAG,GAAGlC,KAAK,CAACpF,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC3B,MAAM8F,GAAG,GAAGV,KAAK,CAACpF,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC3B,MAAMgG,GAAG,GAAGZ,KAAK,CAACpF,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAE3B,MAAMiG,EAAE,GAAG,CAACY,GAAG,GAAGC,GAAG,GAAGC,GAAG,GAAGC,GAAG,GAAGvB,GAAG,GAAGI,GAAG,GAAGE,GAAG,IAAIL,GAAG;IAC1D,MAAMQ,EAAE,GAAG,CAACW,GAAG,GAAGG,GAAG,KAAK,CAACG,GAAG,GAAGzB,GAAG,CAAC;IACrC,MAAMS,EAAE,GAAGV,GAAG,IAAI,CAACyB,GAAG,GAAGC,GAAG,GAAGE,GAAG,GAAG3B,GAAG,GAAGE,GAAG,GAAG0B,GAAG,GAAGtB,GAAG,CAAC;IAC3D,MAAMI,EAAE,GAAG,CAAC,CAACS,GAAG,GAAGG,GAAG,GAAGvB,GAAG,KAAKyB,GAAG,GAAGC,GAAG,GAAGzB,GAAG,CAAC;IACjD,MAAMW,EAAE,GAAG,CAACW,GAAG,GAAGvB,GAAG,KAAK,CAACyB,GAAG,GAAGC,GAAG,CAAC;IACrC,MAAMb,EAAE,GAAGO,GAAG,GAAGK,GAAG;IACpB,MAAMX,EAAE,GAAG,CAAC,CAACM,GAAG,GAAGI,GAAG,GAAGpB,GAAG,KAAKqB,GAAG,GAAGE,GAAG,GAAGxB,GAAG,CAAC;IACjD,MAAM2B,EAAE,GAAG,CAAC,CAACV,GAAG,GAAGI,GAAG,KAAKG,GAAG,GAAGxB,GAAG,CAAC;IACrC,MAAM4B,EAAE,GAAG,CAACP,GAAG,GAAGpB,GAAG,KAAK,CAACqB,GAAG,GAAGE,GAAG,CAAC;IACrC,MAAMK,GAAG,GAAG,CAACZ,GAAG,GAAGC,GAAG,GAAGC,GAAG,GAAGtB,GAAG,GAAGE,GAAG,GAAGsB,GAAG,GAAGpB,GAAG,IAAID,GAAG;IAC3D,MAAM8B,GAAG,GAAG7B,GAAG,IAAI,CAACqB,GAAG,GAAGE,GAAG,GAAGC,GAAG,GAAG3B,GAAG,GAAGE,GAAG,GAAG0B,GAAG,GAAGxB,GAAG,CAAC;IAC5D,MAAM6B,GAAG,GAAG,CAAC,CAACZ,GAAG,GAAGlB,GAAG,GAAGE,GAAG,KAAKL,GAAG,GAAG4B,GAAG,GAAGxB,GAAG,CAAC;IAClD,MAAM8B,GAAG,GAAG,CAACb,GAAG,GAAGhB,GAAG,KAAKL,GAAG,GAAGI,GAAG,CAAC;IACrC,MAAM+B,GAAG,GAAGd,GAAG,GAAGO,GAAG;IACrB,MAAMQ,GAAG,GAAG,CAACjC,GAAG,GAAGE,GAAG,KAAK,CAACuB,GAAG,GAAGxB,GAAG,CAAC;IACtC,MAAMiC,GAAG,GAAG,CAAC,CAAChB,GAAG,GAAGtB,GAAG,GAAGE,GAAG,KAAKC,GAAG,GAAG0B,GAAG,GAAGtB,GAAG,CAAC;IAClD,MAAMgC,GAAG,GAAG,CAACjB,GAAG,GAAGpB,GAAG,KAAKC,GAAG,GAAGI,GAAG,CAAC;IACrC,MAAMiC,GAAG,GAAG,CAACxC,GAAG,GAAGE,GAAG,KAAK,CAAC2B,GAAG,GAAGtB,GAAG,CAAC;IACtC,MAAMkC,GAAG,GAAGpB,GAAG,GAAGO,GAAG;IACrB,MAAMc,GAAG,GAAGxC,GAAG,GAAGG,GAAG;IACrB,MAAMsC,GAAG,GAAGpB,GAAG,GAAGI,GAAG;IACrB,MAAMiB,GAAG,GAAGpB,GAAG,GAAGE,GAAG;IACrB,MAAMmB,GAAG,GAAGvC,GAAG,GAAGC,GAAG;IAErB,MAAMQ,GAAG,GAAGF,EAAE,GAAGuB,GAAG,GAAGK,GAAG;IAC1B,MAAMzB,GAAG,GAAGR,EAAE,GAAGG,EAAE,GAAGC,EAAE,GAAGC,EAAE,GAAGqB,GAAG,GAAGE,GAAG,GAAGC,GAAG;IAC/C,MAAMS,GAAG,GAAGjC,EAAE,GAAGC,EAAE,GAAGiB,EAAE,GAAGC,GAAG,GAAGI,GAAG,GAAGE,GAAG,GAAGE,GAAG;IAChD,MAAMvB,GAAG,GAAGR,EAAE,GAAGC,EAAE,GAAGC,EAAE,GAAGE,EAAE,GAAGuB,GAAG,GAAGE,GAAG,GAAGC,GAAG;IAC/C,MAAMrB,GAAG,GAAGT,EAAE,GAAGE,EAAE,GAAGC,EAAE,GAAGC,EAAE,GAAG6B,GAAG;IACnC,MAAMK,GAAG,GAAGX,GAAG,GAAGE,GAAG,GAAGC,GAAG,GAAGC,GAAG,GAAGG,GAAG;IACvC,MAAMK,GAAG,GAAGnC,EAAE,GAAGC,EAAE,GAAGgB,EAAE,GAAGG,GAAG,GAAGC,GAAG,GAAGC,GAAG,GAAGC,GAAG;IAChD,MAAMa,GAAG,GAAGf,GAAG,GAAGC,GAAG,GAAGC,GAAG,GAAGC,GAAG,GAAGO,GAAG;IACvC,MAAMM,GAAG,GAAGrC,EAAE,GAAGC,EAAE,GAAGgB,EAAE,GAAGC,EAAE,GAAGc,GAAG;IAEnCvI,MAAM,CAACjC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE0I,GAAG,CAAC;IACrBzG,MAAM,CAACjC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE2I,GAAG,CAAC;IACrB1G,MAAM,CAACjC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAEyK,GAAG,CAAC;IACrBxI,MAAM,CAACjC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE4I,GAAG,CAAC;IACrB3G,MAAM,CAACjC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE6I,GAAG,CAAC;IACrB5G,MAAM,CAACjC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE0K,GAAG,CAAC;IACrBzI,MAAM,CAACjC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE2K,GAAG,CAAC;IACrB1I,MAAM,CAACjC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE4K,GAAG,CAAC;IACrB3I,MAAM,CAACjC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE6K,GAAG,CAAC;IACrB,OAAO5I,MAAM;EACf;EAEA6I,YAAYA,CAACC,CAAC,EAAE;IACdA,CAAC,GAAGlL,MAAM,CAACmC,WAAW,CAAC+I,CAAC,CAAC;IACzB,IAAIC,CAAC,GAAG,IAAI,CAACtH,KAAK,CAAC,CAAC;IACpB,IAAIuH,EAAE,GAAGD,CAAC,CAAC1K,IAAI;IACf,IAAI4K,EAAE,GAAGF,CAAC,CAACzK,OAAO;IAClB,IAAI4K,EAAE,GAAGJ,CAAC,CAACzK,IAAI;IACf,IAAI8K,EAAE,GAAGL,CAAC,CAACxK,OAAO;IAClB,IAAI2K,EAAE,KAAKC,EAAE,EAAE;MACb;MACAE,OAAO,CAACC,IAAI,CACT,eAAcL,EAAG,MAAKC,EAAG,QAAOC,EAAG,MAAKC,EAAG,mCAC9C,CAAC;IACH;;IAEA;IACA;IACA,SAASG,KAAKA,CAACC,GAAG,EAAElL,IAAI,EAAEmL,IAAI,EAAE;MAC9B,IAAIC,CAAC,GAAGF,GAAG,CAAClL,IAAI;MAChB,IAAIqL,CAAC,GAAGH,GAAG,CAACjL,OAAO;MACnB,IAAImL,CAAC,KAAKpL,IAAI,IAAIqL,CAAC,KAAKF,IAAI,EAAE;QAC5B,OAAOD,GAAG;MACZ,CAAC,MAAM;QACL,IAAII,QAAQ,GAAGvM,cAAc,CAACgB,KAAK,CAACC,IAAI,EAAEmL,IAAI,CAAC;QAC/CG,QAAQ,GAAGA,QAAQ,CAACpH,YAAY,CAACgH,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;QAC3C,OAAOI,QAAQ;MACjB;IACF;;IAEA;IACA;IACA;;IAEA,IAAIF,CAAC,GAAG5K,IAAI,CAACK,GAAG,CAAC8J,EAAE,EAAEE,EAAE,CAAC;IACxB,IAAIQ,CAAC,GAAG7K,IAAI,CAACK,GAAG,CAAC+J,EAAE,EAAEE,EAAE,CAAC;IACxBJ,CAAC,GAAGO,KAAK,CAACP,CAAC,EAAEU,CAAC,EAAEC,CAAC,CAAC;IAClBZ,CAAC,GAAGQ,KAAK,CAACR,CAAC,EAAEW,CAAC,EAAEC,CAAC,CAAC;;IAElB;IACA,SAASE,SAASA,CAACC,CAAC,EAAEC,CAAC,EAAEzL,IAAI,EAAEmL,IAAI,EAAE;MACnC;MACA,IAAInL,IAAI,IAAI,GAAG,IAAImL,IAAI,IAAI,GAAG,EAAE;QAC9B,OAAOK,CAAC,CAACzE,IAAI,CAAC0E,CAAC,CAAC,CAAC,CAAC;MACpB;;MAEA;MACA,IAAIzL,IAAI,GAAG,CAAC,KAAK,CAAC,IAAImL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;QACpCK,CAAC,GAAGP,KAAK,CAACO,CAAC,EAAExL,IAAI,GAAG,CAAC,EAAEmL,IAAI,GAAG,CAAC,CAAC;QAChCM,CAAC,GAAGR,KAAK,CAACQ,CAAC,EAAEzL,IAAI,GAAG,CAAC,EAAEmL,IAAI,GAAG,CAAC,CAAC;MAClC,CAAC,MAAM,IAAInL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;QACzBwL,CAAC,GAAGP,KAAK,CAACO,CAAC,EAAExL,IAAI,GAAG,CAAC,EAAEmL,IAAI,CAAC;QAC5BM,CAAC,GAAGR,KAAK,CAACQ,CAAC,EAAEzL,IAAI,GAAG,CAAC,EAAEmL,IAAI,CAAC;MAC9B,CAAC,MAAM,IAAIA,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;QACzBK,CAAC,GAAGP,KAAK,CAACO,CAAC,EAAExL,IAAI,EAAEmL,IAAI,GAAG,CAAC,CAAC;QAC5BM,CAAC,GAAGR,KAAK,CAACQ,CAAC,EAAEzL,IAAI,EAAEmL,IAAI,GAAG,CAAC,CAAC;MAC9B;MAEA,IAAIO,QAAQ,GAAGC,QAAQ,CAACH,CAAC,CAACxL,IAAI,GAAG,CAAC,EAAE,EAAE,CAAC;MACvC,IAAI4L,QAAQ,GAAGD,QAAQ,CAACH,CAAC,CAACvL,OAAO,GAAG,CAAC,EAAE,EAAE,CAAC;MAC1C;MACA,IAAIoH,GAAG,GAAGmE,CAAC,CAACK,SAAS,CAAC,CAAC,EAAEH,QAAQ,GAAG,CAAC,EAAE,CAAC,EAAEE,QAAQ,GAAG,CAAC,CAAC;MACvD,IAAItE,GAAG,GAAGmE,CAAC,CAACI,SAAS,CAAC,CAAC,EAAEH,QAAQ,GAAG,CAAC,EAAE,CAAC,EAAEE,QAAQ,GAAG,CAAC,CAAC;MAEvD,IAAIrE,GAAG,GAAGiE,CAAC,CAACK,SAAS,CAAC,CAAC,EAAEH,QAAQ,GAAG,CAAC,EAAEE,QAAQ,EAAEJ,CAAC,CAACvL,OAAO,GAAG,CAAC,CAAC;MAC/D,IAAIuH,GAAG,GAAGiE,CAAC,CAACI,SAAS,CAAC,CAAC,EAAEH,QAAQ,GAAG,CAAC,EAAEE,QAAQ,EAAEH,CAAC,CAACxL,OAAO,GAAG,CAAC,CAAC;MAE/D,IAAIwH,GAAG,GAAG+D,CAAC,CAACK,SAAS,CAACH,QAAQ,EAAEF,CAAC,CAACxL,IAAI,GAAG,CAAC,EAAE,CAAC,EAAE4L,QAAQ,GAAG,CAAC,CAAC;MAC5D,IAAIlE,GAAG,GAAG+D,CAAC,CAACI,SAAS,CAACH,QAAQ,EAAED,CAAC,CAACzL,IAAI,GAAG,CAAC,EAAE,CAAC,EAAE4L,QAAQ,GAAG,CAAC,CAAC;MAE5D,IAAIjE,GAAG,GAAG6D,CAAC,CAACK,SAAS,CAACH,QAAQ,EAAEF,CAAC,CAACxL,IAAI,GAAG,CAAC,EAAE4L,QAAQ,EAAEJ,CAAC,CAACvL,OAAO,GAAG,CAAC,CAAC;MACpE,IAAI2H,GAAG,GAAG6D,CAAC,CAACI,SAAS,CAACH,QAAQ,EAAED,CAAC,CAACzL,IAAI,GAAG,CAAC,EAAE4L,QAAQ,EAAEH,CAAC,CAACxL,OAAO,GAAG,CAAC,CAAC;;MAEpE;MACA,IAAI4H,EAAE,GAAG0D,SAAS,CAChBxM,cAAc,CAAC+M,GAAG,CAACzE,GAAG,EAAEM,GAAG,CAAC,EAC5B5I,cAAc,CAAC+M,GAAG,CAACxE,GAAG,EAAEM,GAAG,CAAC,EAC5B8D,QAAQ,EACRE,QACF,CAAC;MACD,IAAI9D,EAAE,GAAGyD,SAAS,CAACxM,cAAc,CAAC+M,GAAG,CAACrE,GAAG,EAAEE,GAAG,CAAC,EAAEL,GAAG,EAAEoE,QAAQ,EAAEE,QAAQ,CAAC;MACzE,IAAI7D,EAAE,GAAGwD,SAAS,CAAClE,GAAG,EAAEtI,cAAc,CAACgN,GAAG,CAACvE,GAAG,EAAEI,GAAG,CAAC,EAAE8D,QAAQ,EAAEE,QAAQ,CAAC;MACzE,IAAI5D,EAAE,GAAGuD,SAAS,CAAC5D,GAAG,EAAE5I,cAAc,CAACgN,GAAG,CAACrE,GAAG,EAAEJ,GAAG,CAAC,EAAEoE,QAAQ,EAAEE,QAAQ,CAAC;MACzE,IAAI3D,EAAE,GAAGsD,SAAS,CAACxM,cAAc,CAAC+M,GAAG,CAACzE,GAAG,EAAEE,GAAG,CAAC,EAAEK,GAAG,EAAE8D,QAAQ,EAAEE,QAAQ,CAAC;MACzE,IAAI1D,EAAE,GAAGqD,SAAS,CAChBxM,cAAc,CAACgN,GAAG,CAACtE,GAAG,EAAEJ,GAAG,CAAC,EAC5BtI,cAAc,CAAC+M,GAAG,CAACxE,GAAG,EAAEE,GAAG,CAAC,EAC5BkE,QAAQ,EACRE,QACF,CAAC;MACD,IAAIzD,EAAE,GAAGoD,SAAS,CAChBxM,cAAc,CAACgN,GAAG,CAACxE,GAAG,EAAEI,GAAG,CAAC,EAC5B5I,cAAc,CAAC+M,GAAG,CAACpE,GAAG,EAAEE,GAAG,CAAC,EAC5B8D,QAAQ,EACRE,QACF,CAAC;;MAED;MACA,IAAIrD,GAAG,GAAGxJ,cAAc,CAAC+M,GAAG,CAACjE,EAAE,EAAEG,EAAE,CAAC;MACpCO,GAAG,CAACwD,GAAG,CAAC9D,EAAE,CAAC;MACXM,GAAG,CAACuD,GAAG,CAAC3D,EAAE,CAAC;MACX,IAAIiC,GAAG,GAAGrL,cAAc,CAAC+M,GAAG,CAAC/D,EAAE,EAAEE,EAAE,CAAC;MACpC,IAAIqC,GAAG,GAAGvL,cAAc,CAAC+M,GAAG,CAAChE,EAAE,EAAEE,EAAE,CAAC;MACpC,IAAIuC,GAAG,GAAGxL,cAAc,CAACgN,GAAG,CAAClE,EAAE,EAAEC,EAAE,CAAC;MACpCyC,GAAG,CAACuB,GAAG,CAAC/D,EAAE,CAAC;MACXwC,GAAG,CAACuB,GAAG,CAAC5D,EAAE,CAAC;;MAEX;MACA,IAAIoD,QAAQ,GAAGvM,cAAc,CAACgB,KAAK,CAAC,CAAC,GAAGwI,GAAG,CAACvI,IAAI,EAAE,CAAC,GAAGuI,GAAG,CAACtI,OAAO,CAAC;MAClEqL,QAAQ,GAAGA,QAAQ,CAACpH,YAAY,CAACqE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;MAC3C+C,QAAQ,GAAGA,QAAQ,CAACpH,YAAY,CAACkG,GAAG,EAAE7B,GAAG,CAACvI,IAAI,EAAE,CAAC,CAAC;MAClDsL,QAAQ,GAAGA,QAAQ,CAACpH,YAAY,CAACoG,GAAG,EAAE,CAAC,EAAE/B,GAAG,CAACtI,OAAO,CAAC;MACrDqL,QAAQ,GAAGA,QAAQ,CAACpH,YAAY,CAACqG,GAAG,EAAEhC,GAAG,CAACvI,IAAI,EAAEuI,GAAG,CAACtI,OAAO,CAAC;MAC5D,OAAOqL,QAAQ,CAACO,SAAS,CAAC,CAAC,EAAE7L,IAAI,GAAG,CAAC,EAAE,CAAC,EAAEmL,IAAI,GAAG,CAAC,CAAC;IACrD;IACA,OAAOI,SAAS,CAACb,CAAC,EAAED,CAAC,EAAEW,CAAC,EAAEC,CAAC,CAAC;EAC9B;EAEAW,SAASA,CAAC3L,OAAO,GAAG,CAAC,CAAC,EAAE;IACtB,IAAI,OAAOA,OAAO,KAAK,QAAQ,EAAE;MAC/B,MAAM,IAAIC,SAAS,CAAC,2BAA2B,CAAC;IAClD;IACA,MAAM;MAAEM,GAAG,GAAG,CAAC;MAAEC,GAAG,GAAG;IAAE,CAAC,GAAGR,OAAO;IACpC,IAAI,CAACS,MAAM,CAACmL,QAAQ,CAACrL,GAAG,CAAC,EAAE,MAAM,IAAIN,SAAS,CAAC,sBAAsB,CAAC;IACtE,IAAI,CAACQ,MAAM,CAACmL,QAAQ,CAACpL,GAAG,CAAC,EAAE,MAAM,IAAIP,SAAS,CAAC,sBAAsB,CAAC;IACtE,IAAIM,GAAG,IAAIC,GAAG,EAAE,MAAM,IAAIxB,UAAU,CAAC,8BAA8B,CAAC;IACpE,IAAIC,SAAS,GAAG,IAAIC,MAAM,CAAC,IAAI,CAACS,IAAI,EAAE,IAAI,CAACC,OAAO,CAAC;IACnD,KAAK,IAAIJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,MAAML,GAAG,GAAG,IAAI,CAAC6E,MAAM,CAACxE,CAAC,CAAC;MAC1B1C,OAAO,CAACqC,GAAG,EAAE;QAAEoB,GAAG;QAAEC,GAAG;QAAEqL,MAAM,EAAE1M;MAAI,CAAC,CAAC;MACvCF,SAAS,CAACkF,MAAM,CAAC3E,CAAC,EAAEL,GAAG,CAAC;IAC1B;IACA,OAAOF,SAAS;EAClB;EAEA6M,YAAYA,CAAC9L,OAAO,GAAG,CAAC,CAAC,EAAE;IACzB,IAAI,OAAOA,OAAO,KAAK,QAAQ,EAAE;MAC/B,MAAM,IAAIC,SAAS,CAAC,2BAA2B,CAAC;IAClD;IACA,MAAM;MAAEM,GAAG,GAAG,CAAC;MAAEC,GAAG,GAAG;IAAE,CAAC,GAAGR,OAAO;IACpC,IAAI,CAACS,MAAM,CAACmL,QAAQ,CAACrL,GAAG,CAAC,EAAE,MAAM,IAAIN,SAAS,CAAC,sBAAsB,CAAC;IACtE,IAAI,CAACQ,MAAM,CAACmL,QAAQ,CAACpL,GAAG,CAAC,EAAE,MAAM,IAAIP,SAAS,CAAC,sBAAsB,CAAC;IACtE,IAAIM,GAAG,IAAIC,GAAG,EAAE,MAAM,IAAIxB,UAAU,CAAC,8BAA8B,CAAC;IACpE,IAAIC,SAAS,GAAG,IAAIC,MAAM,CAAC,IAAI,CAACS,IAAI,EAAE,IAAI,CAACC,OAAO,CAAC;IACnD,KAAK,IAAIJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACI,OAAO,EAAEJ,CAAC,EAAE,EAAE;MACrC,MAAMJ,MAAM,GAAG,IAAI,CAACmF,SAAS,CAAC/E,CAAC,CAAC;MAChC1C,OAAO,CAACsC,MAAM,EAAE;QACdmB,GAAG,EAAEA,GAAG;QACRC,GAAG,EAAEA,GAAG;QACRqL,MAAM,EAAEzM;MACV,CAAC,CAAC;MACFH,SAAS,CAACwF,SAAS,CAACjF,CAAC,EAAEJ,MAAM,CAAC;IAChC;IACA,OAAOH,SAAS;EAClB;EAEA8M,QAAQA,CAAA,EAAG;IACT,MAAMC,MAAM,GAAG7L,IAAI,CAAC8L,IAAI,CAAC,IAAI,CAACrM,OAAO,GAAG,CAAC,CAAC;IAC1C,KAAK,IAAIJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2L,MAAM,EAAE3L,CAAC,EAAE,EAAE;QAC/B,IAAI6L,KAAK,GAAG,IAAI,CAAC3K,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC;QAC1B,IAAI8L,IAAI,GAAG,IAAI,CAAC5K,GAAG,CAAC/B,CAAC,EAAE,IAAI,CAACI,OAAO,GAAG,CAAC,GAAGS,CAAC,CAAC;QAC5C,IAAI,CAAChB,GAAG,CAACG,CAAC,EAAEa,CAAC,EAAE8L,IAAI,CAAC;QACpB,IAAI,CAAC9M,GAAG,CAACG,CAAC,EAAE,IAAI,CAACI,OAAO,GAAG,CAAC,GAAGS,CAAC,EAAE6L,KAAK,CAAC;MAC1C;IACF;IACA,OAAO,IAAI;EACb;EAEAE,WAAWA,CAAA,EAAG;IACZ,MAAMJ,MAAM,GAAG7L,IAAI,CAAC8L,IAAI,CAAC,IAAI,CAACtM,IAAI,GAAG,CAAC,CAAC;IACvC,KAAK,IAAIU,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,OAAO,EAAES,CAAC,EAAE,EAAE;MACrC,KAAK,IAAIb,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGwM,MAAM,EAAExM,CAAC,EAAE,EAAE;QAC/B,IAAI0M,KAAK,GAAG,IAAI,CAAC3K,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC;QAC1B,IAAI8L,IAAI,GAAG,IAAI,CAAC5K,GAAG,CAAC,IAAI,CAAC5B,IAAI,GAAG,CAAC,GAAGH,CAAC,EAAEa,CAAC,CAAC;QACzC,IAAI,CAAChB,GAAG,CAACG,CAAC,EAAEa,CAAC,EAAE8L,IAAI,CAAC;QACpB,IAAI,CAAC9M,GAAG,CAAC,IAAI,CAACM,IAAI,GAAG,CAAC,GAAGH,CAAC,EAAEa,CAAC,EAAE6L,KAAK,CAAC;MACvC;IACF;IACA,OAAO,IAAI;EACb;EAEAG,gBAAgBA,CAAC1F,KAAK,EAAE;IACtBA,KAAK,GAAGzH,MAAM,CAACmC,WAAW,CAACsF,KAAK,CAAC;IAEjC,IAAIrD,CAAC,GAAG,IAAI,CAAC3D,IAAI;IACjB,IAAI4D,CAAC,GAAG,IAAI,CAAC3D,OAAO;IACpB,IAAI6D,CAAC,GAAGkD,KAAK,CAAChH,IAAI;IAClB,IAAI2M,CAAC,GAAG3F,KAAK,CAAC/G,OAAO;IAErB,IAAI0B,MAAM,GAAG,IAAIpC,MAAM,CAACoE,CAAC,GAAGG,CAAC,EAAEF,CAAC,GAAG+I,CAAC,CAAC;IACrC,KAAK,IAAI9M,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG8D,CAAC,EAAE9D,CAAC,EAAE,EAAE;MAC1B,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGkD,CAAC,EAAElD,CAAC,EAAE,EAAE;QAC1B,KAAK,IAAIwC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGY,CAAC,EAAEZ,CAAC,EAAE,EAAE;UAC1B,KAAK,IAAI3B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGoL,CAAC,EAAEpL,CAAC,EAAE,EAAE;YAC1BI,MAAM,CAACjC,GAAG,CAACoE,CAAC,GAAGjE,CAAC,GAAGqD,CAAC,EAAEyJ,CAAC,GAAGjM,CAAC,GAAGa,CAAC,EAAE,IAAI,CAACK,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,GAAGsG,KAAK,CAACpF,GAAG,CAACsB,CAAC,EAAE3B,CAAC,CAAC,CAAC;UACpE;QACF;MACF;IACF;IACA,OAAOI,MAAM;EACf;EAEAiL,SAASA,CAAA,EAAG;IACV,IAAIjL,MAAM,GAAG,IAAIpC,MAAM,CAAC,IAAI,CAACU,OAAO,EAAE,IAAI,CAACD,IAAI,CAAC;IAChD,KAAK,IAAIH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,OAAO,EAAES,CAAC,EAAE,EAAE;QACrCiB,MAAM,CAACjC,GAAG,CAACgB,CAAC,EAAEb,CAAC,EAAE,IAAI,CAAC+B,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,CAAC;MAClC;IACF;IACA,OAAOiB,MAAM;EACf;EAEAkL,QAAQA,CAACC,eAAe,GAAGC,cAAc,EAAE;IACzC,KAAK,IAAIlN,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,IAAI,CAAC2E,MAAM,CAAC3E,CAAC,EAAE,IAAI,CAACwE,MAAM,CAACxE,CAAC,CAAC,CAACmN,IAAI,CAACF,eAAe,CAAC,CAAC;IACtD;IACA,OAAO,IAAI;EACb;EAEAG,WAAWA,CAACH,eAAe,GAAGC,cAAc,EAAE;IAC5C,KAAK,IAAIlN,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACI,OAAO,EAAEJ,CAAC,EAAE,EAAE;MACrC,IAAI,CAACiF,SAAS,CAACjF,CAAC,EAAE,IAAI,CAAC+E,SAAS,CAAC/E,CAAC,CAAC,CAACmN,IAAI,CAACF,eAAe,CAAC,CAAC;IAC5D;IACA,OAAO,IAAI;EACb;EAEAjB,SAASA,CAACqB,QAAQ,EAAEC,MAAM,EAAEC,WAAW,EAAEC,SAAS,EAAE;IAClDxO,UAAU,CAAC,IAAI,EAAEqO,QAAQ,EAAEC,MAAM,EAAEC,WAAW,EAAEC,SAAS,CAAC;IAC1D,IAAI/N,SAAS,GAAG,IAAIC,MAAM,CACxB4N,MAAM,GAAGD,QAAQ,GAAG,CAAC,EACrBG,SAAS,GAAGD,WAAW,GAAG,CAC5B,CAAC;IACD,KAAK,IAAIvN,CAAC,GAAGqN,QAAQ,EAAErN,CAAC,IAAIsN,MAAM,EAAEtN,CAAC,EAAE,EAAE;MACvC,KAAK,IAAIa,CAAC,GAAG0M,WAAW,EAAE1M,CAAC,IAAI2M,SAAS,EAAE3M,CAAC,EAAE,EAAE;QAC7CpB,SAAS,CAACI,GAAG,CAACG,CAAC,GAAGqN,QAAQ,EAAExM,CAAC,GAAG0M,WAAW,EAAE,IAAI,CAACxL,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,CAAC;MAC9D;IACF;IACA,OAAOpB,SAAS;EAClB;EAEAgO,YAAYA,CAACC,OAAO,EAAEH,WAAW,EAAEC,SAAS,EAAE;IAC5C,IAAID,WAAW,KAAKhM,SAAS,EAAEgM,WAAW,GAAG,CAAC;IAC9C,IAAIC,SAAS,KAAKjM,SAAS,EAAEiM,SAAS,GAAG,IAAI,CAACpN,OAAO,GAAG,CAAC;IACzD,IACEmN,WAAW,GAAGC,SAAS,IACvBD,WAAW,GAAG,CAAC,IACfA,WAAW,IAAI,IAAI,CAACnN,OAAO,IAC3BoN,SAAS,GAAG,CAAC,IACbA,SAAS,IAAI,IAAI,CAACpN,OAAO,EACzB;MACA,MAAM,IAAIZ,UAAU,CAAC,uBAAuB,CAAC;IAC/C;IAEA,IAAIC,SAAS,GAAG,IAAIC,MAAM,CAACgO,OAAO,CAACnO,MAAM,EAAEiO,SAAS,GAAGD,WAAW,GAAG,CAAC,CAAC;IACvE,KAAK,IAAIvN,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0N,OAAO,CAACnO,MAAM,EAAES,CAAC,EAAE,EAAE;MACvC,KAAK,IAAIa,CAAC,GAAG0M,WAAW,EAAE1M,CAAC,IAAI2M,SAAS,EAAE3M,CAAC,EAAE,EAAE;QAC7C,IAAI6M,OAAO,CAAC1N,CAAC,CAAC,GAAG,CAAC,IAAI0N,OAAO,CAAC1N,CAAC,CAAC,IAAI,IAAI,CAACG,IAAI,EAAE;UAC7C,MAAM,IAAIX,UAAU,CAAE,2BAA0BkO,OAAO,CAAC1N,CAAC,CAAE,EAAC,CAAC;QAC/D;QACAP,SAAS,CAACI,GAAG,CAACG,CAAC,EAAEa,CAAC,GAAG0M,WAAW,EAAE,IAAI,CAACxL,GAAG,CAAC2L,OAAO,CAAC1N,CAAC,CAAC,EAAEa,CAAC,CAAC,CAAC;MAC5D;IACF;IACA,OAAOpB,SAAS;EAClB;EAEAkO,eAAeA,CAACD,OAAO,EAAEL,QAAQ,EAAEC,MAAM,EAAE;IACzC,IAAID,QAAQ,KAAK9L,SAAS,EAAE8L,QAAQ,GAAG,CAAC;IACxC,IAAIC,MAAM,KAAK/L,SAAS,EAAE+L,MAAM,GAAG,IAAI,CAACnN,IAAI,GAAG,CAAC;IAChD,IACEkN,QAAQ,GAAGC,MAAM,IACjBD,QAAQ,GAAG,CAAC,IACZA,QAAQ,IAAI,IAAI,CAAClN,IAAI,IACrBmN,MAAM,GAAG,CAAC,IACVA,MAAM,IAAI,IAAI,CAACnN,IAAI,EACnB;MACA,MAAM,IAAIX,UAAU,CAAC,uBAAuB,CAAC;IAC/C;IAEA,IAAIC,SAAS,GAAG,IAAIC,MAAM,CAAC4N,MAAM,GAAGD,QAAQ,GAAG,CAAC,EAAEK,OAAO,CAACnO,MAAM,CAAC;IACjE,KAAK,IAAIS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0N,OAAO,CAACnO,MAAM,EAAES,CAAC,EAAE,EAAE;MACvC,KAAK,IAAIa,CAAC,GAAGwM,QAAQ,EAAExM,CAAC,IAAIyM,MAAM,EAAEzM,CAAC,EAAE,EAAE;QACvC,IAAI6M,OAAO,CAAC1N,CAAC,CAAC,GAAG,CAAC,IAAI0N,OAAO,CAAC1N,CAAC,CAAC,IAAI,IAAI,CAACI,OAAO,EAAE;UAChD,MAAM,IAAIZ,UAAU,CAAE,8BAA6BkO,OAAO,CAAC1N,CAAC,CAAE,EAAC,CAAC;QAClE;QACAP,SAAS,CAACI,GAAG,CAACgB,CAAC,GAAGwM,QAAQ,EAAErN,CAAC,EAAE,IAAI,CAAC+B,GAAG,CAAClB,CAAC,EAAE6M,OAAO,CAAC1N,CAAC,CAAC,CAAC,CAAC;MACzD;IACF;IACA,OAAOP,SAAS;EAClB;EAEA4E,YAAYA,CAACzD,MAAM,EAAEyM,QAAQ,EAAEE,WAAW,EAAE;IAC1C3M,MAAM,GAAGlB,MAAM,CAACmC,WAAW,CAACjB,MAAM,CAAC;IACnC,IAAI0M,MAAM,GAAGD,QAAQ,GAAGzM,MAAM,CAACT,IAAI,GAAG,CAAC;IACvC,IAAIqN,SAAS,GAAGD,WAAW,GAAG3M,MAAM,CAACR,OAAO,GAAG,CAAC;IAChDpB,UAAU,CAAC,IAAI,EAAEqO,QAAQ,EAAEC,MAAM,EAAEC,WAAW,EAAEC,SAAS,CAAC;IAC1D,KAAK,IAAIxN,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGY,MAAM,CAACT,IAAI,EAAEH,CAAC,EAAE,EAAE;MACpC,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,MAAM,CAACR,OAAO,EAAES,CAAC,EAAE,EAAE;QACvC,IAAI,CAAChB,GAAG,CAACwN,QAAQ,GAAGrN,CAAC,EAAEuN,WAAW,GAAG1M,CAAC,EAAED,MAAM,CAACmB,GAAG,CAAC/B,CAAC,EAAEa,CAAC,CAAC,CAAC;MAC3D;IACF;IACA,OAAO,IAAI;EACb;EAEA+M,SAASA,CAACC,UAAU,EAAEC,aAAa,EAAE;IACnC,IAAIJ,OAAO,GAAGzO,YAAY,CAAC,IAAI,EAAE4O,UAAU,EAAEC,aAAa,CAAC;IAC3D,IAAIrO,SAAS,GAAG,IAAIC,MAAM,CAACmO,UAAU,CAACtO,MAAM,EAAEuO,aAAa,CAACvO,MAAM,CAAC;IACnE,KAAK,IAAIS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0N,OAAO,CAAC/N,GAAG,CAACJ,MAAM,EAAES,CAAC,EAAE,EAAE;MAC3C,IAAI+N,QAAQ,GAAGL,OAAO,CAAC/N,GAAG,CAACK,CAAC,CAAC;MAC7B,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6M,OAAO,CAAC9N,MAAM,CAACL,MAAM,EAAEsB,CAAC,EAAE,EAAE;QAC9C,IAAImN,WAAW,GAAGN,OAAO,CAAC9N,MAAM,CAACiB,CAAC,CAAC;QACnCpB,SAAS,CAACI,GAAG,CAACG,CAAC,EAAEa,CAAC,EAAE,IAAI,CAACkB,GAAG,CAACgM,QAAQ,EAAEC,WAAW,CAAC,CAAC;MACtD;IACF;IACA,OAAOvO,SAAS;EAClB;EAEAwO,KAAKA,CAAA,EAAG;IACN,IAAIlN,GAAG,GAAGJ,IAAI,CAACI,GAAG,CAAC,IAAI,CAACZ,IAAI,EAAE,IAAI,CAACC,OAAO,CAAC;IAC3C,IAAI6N,KAAK,GAAG,CAAC;IACb,KAAK,IAAIjO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGe,GAAG,EAAEf,CAAC,EAAE,EAAE;MAC5BiO,KAAK,IAAI,IAAI,CAAClM,GAAG,CAAC/B,CAAC,EAAEA,CAAC,CAAC;IACzB;IACA,OAAOiO,KAAK;EACd;EAEA1K,KAAKA,CAAA,EAAG;IACN,IAAI9D,SAAS,GAAG,IAAIC,MAAM,CAAC,IAAI,CAACS,IAAI,EAAE,IAAI,CAACC,OAAO,CAAC;IACnD,KAAK,IAAIT,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAG,IAAI,CAACQ,IAAI,EAAER,GAAG,EAAE,EAAE;MACxC,KAAK,IAAIC,MAAM,GAAG,CAAC,EAAEA,MAAM,GAAG,IAAI,CAACQ,OAAO,EAAER,MAAM,EAAE,EAAE;QACpDH,SAAS,CAACI,GAAG,CAACF,GAAG,EAAEC,MAAM,EAAE,IAAI,CAACmC,GAAG,CAACpC,GAAG,EAAEC,MAAM,CAAC,CAAC;MACnD;IACF;IACA,OAAOH,SAAS;EAClB;EAEAqH,GAAGA,CAACoH,EAAE,EAAE;IACN,QAAQA,EAAE;MACR,KAAK,KAAK;QACR,OAAOxQ,QAAQ,CAAC,IAAI,CAAC;MACvB,KAAK,QAAQ;QACX,OAAOC,WAAW,CAAC,IAAI,CAAC;MAC1B,KAAK4D,SAAS;QACZ,OAAO3D,MAAM,CAAC,IAAI,CAAC;MACrB;QACE,MAAM,IAAIuG,KAAK,CAAE,mBAAkB+J,EAAG,EAAC,CAAC;IAC5C;EACF;EAEAC,OAAOA,CAACD,EAAE,EAAE;IACV,QAAQA,EAAE;MACR,KAAK,KAAK;QACR,OAAOrQ,YAAY,CAAC,IAAI,CAAC;MAC3B,KAAK,QAAQ;QACX,OAAOC,eAAe,CAAC,IAAI,CAAC;MAC9B,KAAKyD,SAAS;QACZ,OAAOxD,UAAU,CAAC,IAAI,CAAC;MACzB;QACE,MAAM,IAAIoG,KAAK,CAAE,mBAAkB+J,EAAG,EAAC,CAAC;IAC5C;EACF;EAEAE,IAAIA,CAACF,EAAE,EAAE;IACP,MAAMpH,GAAG,GAAG,IAAI,CAACA,GAAG,CAACoH,EAAE,CAAC;IACxB,QAAQA,EAAE;MACR,KAAK,KAAK;QAAE;UACV,KAAK,IAAIlO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;YAClC8G,GAAG,CAAC9G,CAAC,CAAC,IAAI,IAAI,CAACI,OAAO;UACxB;UACA,OAAO0G,GAAG;QACZ;MACA,KAAK,QAAQ;QAAE;UACb,KAAK,IAAI9G,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACI,OAAO,EAAEJ,CAAC,EAAE,EAAE;YACrC8G,GAAG,CAAC9G,CAAC,CAAC,IAAI,IAAI,CAACG,IAAI;UACrB;UACA,OAAO2G,GAAG;QACZ;MACA,KAAKvF,SAAS;QACZ,OAAOuF,GAAG,GAAG,IAAI,CAAC5E,IAAI;MACxB;QACE,MAAM,IAAIiC,KAAK,CAAE,mBAAkB+J,EAAG,EAAC,CAAC;IAC5C;EACF;EAEAG,QAAQA,CAACH,EAAE,EAAE1N,OAAO,GAAG,CAAC,CAAC,EAAE;IACzB,IAAI,OAAO0N,EAAE,KAAK,QAAQ,EAAE;MAC1B1N,OAAO,GAAG0N,EAAE;MACZA,EAAE,GAAG3M,SAAS;IAChB;IACA,IAAI,OAAOf,OAAO,KAAK,QAAQ,EAAE;MAC/B,MAAM,IAAIC,SAAS,CAAC,2BAA2B,CAAC;IAClD;IACA,MAAM;MAAE6N,QAAQ,GAAG,IAAI;MAAEF,IAAI,GAAG,IAAI,CAACA,IAAI,CAACF,EAAE;IAAE,CAAC,GAAG1N,OAAO;IACzD,IAAI,OAAO8N,QAAQ,KAAK,SAAS,EAAE;MACjC,MAAM,IAAI7N,SAAS,CAAC,4BAA4B,CAAC;IACnD;IACA,QAAQyN,EAAE;MACR,KAAK,KAAK;QAAE;UACV,IAAI,CAACK,KAAK,CAACC,OAAO,CAACJ,IAAI,CAAC,EAAE;YACxB,MAAM,IAAI3N,SAAS,CAAC,uBAAuB,CAAC;UAC9C;UACA,OAAOzC,aAAa,CAAC,IAAI,EAAEsQ,QAAQ,EAAEF,IAAI,CAAC;QAC5C;MACA,KAAK,QAAQ;QAAE;UACb,IAAI,CAACG,KAAK,CAACC,OAAO,CAACJ,IAAI,CAAC,EAAE;YACxB,MAAM,IAAI3N,SAAS,CAAC,uBAAuB,CAAC;UAC9C;UACA,OAAOxC,gBAAgB,CAAC,IAAI,EAAEqQ,QAAQ,EAAEF,IAAI,CAAC;QAC/C;MACA,KAAK7M,SAAS;QAAE;UACd,IAAI,OAAO6M,IAAI,KAAK,QAAQ,EAAE;YAC5B,MAAM,IAAI3N,SAAS,CAAC,uBAAuB,CAAC;UAC9C;UACA,OAAOvC,WAAW,CAAC,IAAI,EAAEoQ,QAAQ,EAAEF,IAAI,CAAC;QAC1C;MACA;QACE,MAAM,IAAIjK,KAAK,CAAE,mBAAkB+J,EAAG,EAAC,CAAC;IAC5C;EACF;EAEAO,iBAAiBA,CAACP,EAAE,EAAE1N,OAAO,EAAE;IAC7B,IAAI,OAAO0N,EAAE,KAAK,QAAQ,EAAE;MAC1B1N,OAAO,GAAG0N,EAAE;MACZA,EAAE,GAAG3M,SAAS;IAChB;IACA,MAAM8M,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAACH,EAAE,EAAE1N,OAAO,CAAC;IAC3C,IAAI0N,EAAE,KAAK3M,SAAS,EAAE;MACpB,OAAOZ,IAAI,CAACiG,IAAI,CAACyH,QAAQ,CAAC;IAC5B,CAAC,MAAM;MACL,KAAK,IAAIrO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqO,QAAQ,CAAC9O,MAAM,EAAES,CAAC,EAAE,EAAE;QACxCqO,QAAQ,CAACrO,CAAC,CAAC,GAAGW,IAAI,CAACiG,IAAI,CAACyH,QAAQ,CAACrO,CAAC,CAAC,CAAC;MACtC;MACA,OAAOqO,QAAQ;IACjB;EACF;EAEAK,MAAMA,CAACR,EAAE,EAAE1N,OAAO,GAAG,CAAC,CAAC,EAAE;IACvB,IAAI,OAAO0N,EAAE,KAAK,QAAQ,EAAE;MAC1B1N,OAAO,GAAG0N,EAAE;MACZA,EAAE,GAAG3M,SAAS;IAChB;IACA,IAAI,OAAOf,OAAO,KAAK,QAAQ,EAAE;MAC/B,MAAM,IAAIC,SAAS,CAAC,2BAA2B,CAAC;IAClD;IACA,MAAM;MAAEiO,MAAM,GAAG,IAAI,CAACN,IAAI,CAACF,EAAE;IAAE,CAAC,GAAG1N,OAAO;IAC1C,QAAQ0N,EAAE;MACR,KAAK,KAAK;QAAE;UACV,IAAI,CAACK,KAAK,CAACC,OAAO,CAACE,MAAM,CAAC,EAAE;YAC1B,MAAM,IAAIjO,SAAS,CAAC,yBAAyB,CAAC;UAChD;UACAtC,WAAW,CAAC,IAAI,EAAEuQ,MAAM,CAAC;UACzB,OAAO,IAAI;QACb;MACA,KAAK,QAAQ;QAAE;UACb,IAAI,CAACH,KAAK,CAACC,OAAO,CAACE,MAAM,CAAC,EAAE;YAC1B,MAAM,IAAIjO,SAAS,CAAC,yBAAyB,CAAC;UAChD;UACArC,cAAc,CAAC,IAAI,EAAEsQ,MAAM,CAAC;UAC5B,OAAO,IAAI;QACb;MACA,KAAKnN,SAAS;QAAE;UACd,IAAI,OAAOmN,MAAM,KAAK,QAAQ,EAAE;YAC9B,MAAM,IAAIjO,SAAS,CAAC,yBAAyB,CAAC;UAChD;UACApC,SAAS,CAAC,IAAI,EAAEqQ,MAAM,CAAC;UACvB,OAAO,IAAI;QACb;MACA;QACE,MAAM,IAAIvK,KAAK,CAAE,mBAAkB+J,EAAG,EAAC,CAAC;IAC5C;EACF;EAEAS,KAAKA,CAACT,EAAE,EAAE1N,OAAO,GAAG,CAAC,CAAC,EAAE;IACtB,IAAI,OAAO0N,EAAE,KAAK,QAAQ,EAAE;MAC1B1N,OAAO,GAAG0N,EAAE;MACZA,EAAE,GAAG3M,SAAS;IAChB;IACA,IAAI,OAAOf,OAAO,KAAK,QAAQ,EAAE;MAC/B,MAAM,IAAIC,SAAS,CAAC,2BAA2B,CAAC;IAClD;IACA,IAAIkO,KAAK,GAAGnO,OAAO,CAACmO,KAAK;IACzB,QAAQT,EAAE;MACR,KAAK,KAAK;QAAE;UACV,IAAIS,KAAK,KAAKpN,SAAS,EAAE;YACvBoN,KAAK,GAAGlQ,aAAa,CAAC,IAAI,CAAC;UAC7B,CAAC,MAAM,IAAI,CAAC8P,KAAK,CAACC,OAAO,CAACG,KAAK,CAAC,EAAE;YAChC,MAAM,IAAIlO,SAAS,CAAC,wBAAwB,CAAC;UAC/C;UACAnC,UAAU,CAAC,IAAI,EAAEqQ,KAAK,CAAC;UACvB,OAAO,IAAI;QACb;MACA,KAAK,QAAQ;QAAE;UACb,IAAIA,KAAK,KAAKpN,SAAS,EAAE;YACvBoN,KAAK,GAAGjQ,gBAAgB,CAAC,IAAI,CAAC;UAChC,CAAC,MAAM,IAAI,CAAC6P,KAAK,CAACC,OAAO,CAACG,KAAK,CAAC,EAAE;YAChC,MAAM,IAAIlO,SAAS,CAAC,wBAAwB,CAAC;UAC/C;UACAlC,aAAa,CAAC,IAAI,EAAEoQ,KAAK,CAAC;UAC1B,OAAO,IAAI;QACb;MACA,KAAKpN,SAAS;QAAE;UACd,IAAIoN,KAAK,KAAKpN,SAAS,EAAE;YACvBoN,KAAK,GAAGhQ,WAAW,CAAC,IAAI,CAAC;UAC3B,CAAC,MAAM,IAAI,OAAOgQ,KAAK,KAAK,QAAQ,EAAE;YACpC,MAAM,IAAIlO,SAAS,CAAC,wBAAwB,CAAC;UAC/C;UACAjC,QAAQ,CAAC,IAAI,EAAEmQ,KAAK,CAAC;UACrB,OAAO,IAAI;QACb;MACA;QACE,MAAM,IAAIxK,KAAK,CAAE,mBAAkB+J,EAAG,EAAC,CAAC;IAC5C;EACF;EAEAU,QAAQA,CAACpO,OAAO,EAAE;IAChB,OAAOhD,wBAAwB,CAAC,IAAI,EAAEgD,OAAO,CAAC;EAChD;AACF;AAEAtB,cAAc,CAAC2P,SAAS,CAAC5M,KAAK,GAAG,QAAQ;AACzC,IAAI,OAAO6M,MAAM,KAAK,WAAW,EAAE;EACjC5P,cAAc,CAAC2P,SAAS,CACtBC,MAAM,CAACC,GAAG,CAAC,4BAA4B,CAAC,CACzC,GAAGxR,aAAa;AACnB;AAEA,SAAS2P,cAAcA,CAACvB,CAAC,EAAEC,CAAC,EAAE;EAC5B,OAAOD,CAAC,GAAGC,CAAC;AACd;;AAEA;AACA1M,cAAc,CAACwB,MAAM,GAAGxB,cAAc,CAACqB,IAAI;AAC3CrB,cAAc,CAAC8P,SAAS,GAAG9P,cAAc,CAAC4B,OAAO;AACjD5B,cAAc,CAAC+P,QAAQ,GAAG/P,cAAc,CAACsC,IAAI;AAC7CtC,cAAc,CAAC2P,SAAS,CAACI,QAAQ,GAAG/P,cAAc,CAAC2P,SAAS,CAACrN,IAAI;AACjEtC,cAAc,CAACgQ,QAAQ,GAAGhQ,cAAc,CAACoC,GAAG;AAC5CpC,cAAc,CAAC2P,SAAS,CAACM,MAAM,GAAGjQ,cAAc,CAAC2P,SAAS,CAACvK,GAAG;AAC9DpF,cAAc,CAAC2P,SAAS,CAACO,aAAa,GACpClQ,cAAc,CAAC2P,SAAS,CAAChC,gBAAgB;AAE3C,eAAe,MAAMnN,MAAM,SAASR,cAAc,CAAC;EACjDmQ,WAAWA,CAACC,KAAK,EAAEC,QAAQ,EAAE;IAC3B,KAAK,CAAC,CAAC;IACP,IAAI7P,MAAM,CAACsC,QAAQ,CAACsN,KAAK,CAAC,EAAE;MAC1B,OAAOA,KAAK,CAAC/L,KAAK,CAAC,CAAC;IACtB,CAAC,MAAM,IAAItC,MAAM,CAACC,SAAS,CAACoO,KAAK,CAAC,IAAIA,KAAK,GAAG,CAAC,EAAE;MAC/C;MACA,IAAI,CAAC7N,IAAI,GAAG,EAAE;MACd,IAAIR,MAAM,CAACC,SAAS,CAACqO,QAAQ,CAAC,IAAIA,QAAQ,GAAG,CAAC,EAAE;QAC9C,KAAK,IAAIvP,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGsP,KAAK,EAAEtP,CAAC,EAAE,EAAE;UAC9B,IAAI,CAACyB,IAAI,CAACe,IAAI,CAAC,IAAI6E,YAAY,CAACkI,QAAQ,CAAC,CAAC;QAC5C;MACF,CAAC,MAAM;QACL,MAAM,IAAI9O,SAAS,CAAC,qCAAqC,CAAC;MAC5D;IACF,CAAC,MAAM,IAAI8N,KAAK,CAACC,OAAO,CAACc,KAAK,CAAC,EAAE;MAC/B;MACA,MAAME,SAAS,GAAGF,KAAK;MACvBA,KAAK,GAAGE,SAAS,CAACjQ,MAAM;MACxBgQ,QAAQ,GAAGC,SAAS,CAAC,CAAC,CAAC,CAACjQ,MAAM;MAC9B,IAAI,OAAOgQ,QAAQ,KAAK,QAAQ,IAAIA,QAAQ,KAAK,CAAC,EAAE;QAClD,MAAM,IAAI9O,SAAS,CACjB,mDACF,CAAC;MACH;MACA,IAAI,CAACgB,IAAI,GAAG,EAAE;MACd,KAAK,IAAIzB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGsP,KAAK,EAAEtP,CAAC,EAAE,EAAE;QAC9B,IAAIwP,SAAS,CAACxP,CAAC,CAAC,CAACT,MAAM,KAAKgQ,QAAQ,EAAE;UACpC,MAAM,IAAI/P,UAAU,CAAC,+BAA+B,CAAC;QACvD;QACA,IAAI,CAACiC,IAAI,CAACe,IAAI,CAAC6E,YAAY,CAACoI,IAAI,CAACD,SAAS,CAACxP,CAAC,CAAC,CAAC,CAAC;MACjD;IACF,CAAC,MAAM;MACL,MAAM,IAAIS,SAAS,CACjB,sDACF,CAAC;IACH;IACA,IAAI,CAACN,IAAI,GAAGmP,KAAK;IACjB,IAAI,CAAClP,OAAO,GAAGmP,QAAQ;IACvB,OAAO,IAAI;EACb;EAEA1P,GAAGA,CAACkO,QAAQ,EAAEC,WAAW,EAAE5M,KAAK,EAAE;IAChC,IAAI,CAACK,IAAI,CAACsM,QAAQ,CAAC,CAACC,WAAW,CAAC,GAAG5M,KAAK;IACxC,OAAO,IAAI;EACb;EAEAW,GAAGA,CAACgM,QAAQ,EAAEC,WAAW,EAAE;IACzB,OAAO,IAAI,CAACvM,IAAI,CAACsM,QAAQ,CAAC,CAACC,WAAW,CAAC;EACzC;EAEA0B,SAASA,CAACjL,KAAK,EAAE;IACf5F,aAAa,CAAC,IAAI,EAAE4F,KAAK,CAAC;IAC1B,IAAI,IAAI,CAACtE,IAAI,KAAK,CAAC,EAAE;MACnB,MAAM,IAAIX,UAAU,CAAC,wCAAwC,CAAC;IAChE;IACA,IAAI,CAACiC,IAAI,CAACkO,MAAM,CAAClL,KAAK,EAAE,CAAC,CAAC;IAC1B,IAAI,CAACtE,IAAI,IAAI,CAAC;IACd,OAAO,IAAI;EACb;EAEAyP,MAAMA,CAACnL,KAAK,EAAElC,KAAK,EAAE;IACnB,IAAIA,KAAK,KAAKhB,SAAS,EAAE;MACvBgB,KAAK,GAAGkC,KAAK;MACbA,KAAK,GAAG,IAAI,CAACtE,IAAI;IACnB;IACAtB,aAAa,CAAC,IAAI,EAAE4F,KAAK,EAAE,IAAI,CAAC;IAChClC,KAAK,GAAG8E,YAAY,CAACoI,IAAI,CAAC7Q,cAAc,CAAC,IAAI,EAAE2D,KAAK,EAAE,IAAI,CAAC,CAAC;IAC5D,IAAI,CAACd,IAAI,CAACkO,MAAM,CAAClL,KAAK,EAAE,CAAC,EAAElC,KAAK,CAAC;IACjC,IAAI,CAACpC,IAAI,IAAI,CAAC;IACd,OAAO,IAAI;EACb;EAEA0P,YAAYA,CAACpL,KAAK,EAAE;IAClB3F,gBAAgB,CAAC,IAAI,EAAE2F,KAAK,CAAC;IAC7B,IAAI,IAAI,CAACrE,OAAO,KAAK,CAAC,EAAE;MACtB,MAAM,IAAIZ,UAAU,CAAC,2CAA2C,CAAC;IACnE;IACA,KAAK,IAAIQ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,MAAM8P,MAAM,GAAG,IAAIzI,YAAY,CAAC,IAAI,CAACjH,OAAO,GAAG,CAAC,CAAC;MACjD,KAAK,IAAIS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4D,KAAK,EAAE5D,CAAC,EAAE,EAAE;QAC9BiP,MAAM,CAACjP,CAAC,CAAC,GAAG,IAAI,CAACY,IAAI,CAACzB,CAAC,CAAC,CAACa,CAAC,CAAC;MAC7B;MACA,KAAK,IAAIA,CAAC,GAAG4D,KAAK,GAAG,CAAC,EAAE5D,CAAC,GAAG,IAAI,CAACT,OAAO,EAAES,CAAC,EAAE,EAAE;QAC7CiP,MAAM,CAACjP,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAACY,IAAI,CAACzB,CAAC,CAAC,CAACa,CAAC,CAAC;MACjC;MACA,IAAI,CAACY,IAAI,CAACzB,CAAC,CAAC,GAAG8P,MAAM;IACvB;IACA,IAAI,CAAC1P,OAAO,IAAI,CAAC;IACjB,OAAO,IAAI;EACb;EAEA2P,SAASA,CAACtL,KAAK,EAAElC,KAAK,EAAE;IACtB,IAAI,OAAOA,KAAK,KAAK,WAAW,EAAE;MAChCA,KAAK,GAAGkC,KAAK;MACbA,KAAK,GAAG,IAAI,CAACrE,OAAO;IACtB;IACAtB,gBAAgB,CAAC,IAAI,EAAE2F,KAAK,EAAE,IAAI,CAAC;IACnClC,KAAK,GAAGxD,iBAAiB,CAAC,IAAI,EAAEwD,KAAK,CAAC;IACtC,KAAK,IAAIvC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEH,CAAC,EAAE,EAAE;MAClC,MAAM8P,MAAM,GAAG,IAAIzI,YAAY,CAAC,IAAI,CAACjH,OAAO,GAAG,CAAC,CAAC;MACjD,IAAIS,CAAC,GAAG,CAAC;MACT,OAAOA,CAAC,GAAG4D,KAAK,EAAE5D,CAAC,EAAE,EAAE;QACrBiP,MAAM,CAACjP,CAAC,CAAC,GAAG,IAAI,CAACY,IAAI,CAACzB,CAAC,CAAC,CAACa,CAAC,CAAC;MAC7B;MACAiP,MAAM,CAACjP,CAAC,EAAE,CAAC,GAAG0B,KAAK,CAACvC,CAAC,CAAC;MACtB,OAAOa,CAAC,GAAG,IAAI,CAACT,OAAO,GAAG,CAAC,EAAES,CAAC,EAAE,EAAE;QAChCiP,MAAM,CAACjP,CAAC,CAAC,GAAG,IAAI,CAACY,IAAI,CAACzB,CAAC,CAAC,CAACa,CAAC,GAAG,CAAC,CAAC;MACjC;MACA,IAAI,CAACY,IAAI,CAACzB,CAAC,CAAC,GAAG8P,MAAM;IACvB;IACA,IAAI,CAAC1P,OAAO,IAAI,CAAC;IACjB,OAAO,IAAI;EACb;AACF;AAEA3C,qBAAqB,CAACyB,cAAc,EAAEQ,MAAM,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}