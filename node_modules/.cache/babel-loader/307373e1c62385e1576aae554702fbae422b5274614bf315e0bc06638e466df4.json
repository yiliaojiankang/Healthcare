{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nvar _dec, _class;\nimport { injectable } from 'inversify';\nimport 'reflect-metadata';\n/**\n * Model 更新\n */\nvar UpdateModelPlugin = (_dec = injectable(), _dec(_class = /*#__PURE__*/function () {\n  function UpdateModelPlugin() {\n    _classCallCheck(this, UpdateModelPlugin);\n  }\n  _createClass(UpdateModelPlugin, [{\n    key: \"apply\",\n    value: function apply(layer) {\n      layer.hooks.beforeRender.tap('UpdateModelPlugin', function () {\n        // 处理文本更新\n        if (layer.layerModel) {\n          layer.layerModel.needUpdate().then(function (flag) {\n            if (flag) {\n              layer.renderLayers();\n            }\n          });\n        }\n      });\n      layer.hooks.afterRender.tap('UpdateModelPlugin', function () {\n        layer.layerModelNeedUpdate = false;\n      });\n    }\n  }]);\n  return UpdateModelPlugin;\n}()) || _class);\nexport { UpdateModelPlugin as default };","map":{"version":3,"names":["_classCallCheck","_createClass","_dec","_class","injectable","UpdateModelPlugin","key","value","apply","layer","hooks","beforeRender","tap","layerModel","needUpdate","then","flag","renderLayers","afterRender","layerModelNeedUpdate","default"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-layers/es/plugins/UpdateModelPlugin.js"],"sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nvar _dec, _class;\nimport { injectable } from 'inversify';\nimport 'reflect-metadata';\n/**\n * Model 更新\n */\nvar UpdateModelPlugin = (_dec = injectable(), _dec(_class = /*#__PURE__*/function () {\n  function UpdateModelPlugin() {\n    _classCallCheck(this, UpdateModelPlugin);\n  }\n  _createClass(UpdateModelPlugin, [{\n    key: \"apply\",\n    value: function apply(layer) {\n      layer.hooks.beforeRender.tap('UpdateModelPlugin', function () {\n        // 处理文本更新\n        if (layer.layerModel) {\n          layer.layerModel.needUpdate().then(function (flag) {\n            if (flag) {\n              layer.renderLayers();\n            }\n          });\n        }\n      });\n      layer.hooks.afterRender.tap('UpdateModelPlugin', function () {\n        layer.layerModelNeedUpdate = false;\n      });\n    }\n  }]);\n  return UpdateModelPlugin;\n}()) || _class);\nexport { UpdateModelPlugin as default };"],"mappings":"AAAA,OAAOA,eAAe,MAAM,2CAA2C;AACvE,OAAOC,YAAY,MAAM,wCAAwC;AACjE,IAAIC,IAAI,EAAEC,MAAM;AAChB,SAASC,UAAU,QAAQ,WAAW;AACtC,OAAO,kBAAkB;AACzB;AACA;AACA;AACA,IAAIC,iBAAiB,IAAIH,IAAI,GAAGE,UAAU,CAAC,CAAC,EAAEF,IAAI,CAACC,MAAM,GAAG,aAAa,YAAY;EACnF,SAASE,iBAAiBA,CAAA,EAAG;IAC3BL,eAAe,CAAC,IAAI,EAAEK,iBAAiB,CAAC;EAC1C;EACAJ,YAAY,CAACI,iBAAiB,EAAE,CAAC;IAC/BC,GAAG,EAAE,OAAO;IACZC,KAAK,EAAE,SAASC,KAAKA,CAACC,KAAK,EAAE;MAC3BA,KAAK,CAACC,KAAK,CAACC,YAAY,CAACC,GAAG,CAAC,mBAAmB,EAAE,YAAY;QAC5D;QACA,IAAIH,KAAK,CAACI,UAAU,EAAE;UACpBJ,KAAK,CAACI,UAAU,CAACC,UAAU,CAAC,CAAC,CAACC,IAAI,CAAC,UAAUC,IAAI,EAAE;YACjD,IAAIA,IAAI,EAAE;cACRP,KAAK,CAACQ,YAAY,CAAC,CAAC;YACtB;UACF,CAAC,CAAC;QACJ;MACF,CAAC,CAAC;MACFR,KAAK,CAACC,KAAK,CAACQ,WAAW,CAACN,GAAG,CAAC,mBAAmB,EAAE,YAAY;QAC3DH,KAAK,CAACU,oBAAoB,GAAG,KAAK;MACpC,CAAC,CAAC;IACJ;EACF,CAAC,CAAC,CAAC;EACH,OAAOd,iBAAiB;AAC1B,CAAC,CAAC,CAAC,CAAC,IAAIF,MAAM,CAAC;AACf,SAASE,iBAAiB,IAAIe,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}