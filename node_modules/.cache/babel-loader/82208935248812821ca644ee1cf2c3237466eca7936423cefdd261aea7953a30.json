{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry } from './base';\n/**\n * point 辅助点的配置处理\n * @param params\n */\nexport function point(params) {\n  var options = params.options;\n  var point = options.point,\n    xField = options.xField,\n    yField = options.yField,\n    seriesField = options.seriesField,\n    sizeField = options.sizeField,\n    shapeField = options.shapeField,\n    tooltip = options.tooltip,\n    useDeferredLabel = options.useDeferredLabel;\n  var _a = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField, shapeField]),\n    fields = _a.fields,\n    formatter = _a.formatter;\n  return point ? geometry(deepAssign({}, params, {\n    options: {\n      type: 'point',\n      colorField: seriesField,\n      shapeField: shapeField,\n      tooltipFields: fields,\n      mapping: __assign({\n        tooltip: formatter\n      }, point),\n      args: {\n        useDeferredLabel: useDeferredLabel\n      }\n    }\n  })) : params;\n}","map":{"version":3,"names":["deepAssign","getTooltipMapping","geometry","point","params","options","xField","yField","seriesField","sizeField","shapeField","tooltip","useDeferredLabel","_a","fields","formatter","type","colorField","tooltipFields","mapping","__assign","args"],"sources":["../../../src/adaptor/geometries/point.ts"],"sourcesContent":["import { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface PointGeometryOptions extends GeometryOptions {\n  /** x 轴字段 */\n  readonly xField?: string;\n  /** y 轴字段 */\n  readonly yField?: string;\n  /** 分组字段 */\n  readonly seriesField?: string;\n  /** size 映射字段 */\n  readonly sizeField?: string;\n  /** shape 的映射字段 */\n  readonly shapeField?: string;\n  /** point 图形映射规则 */\n  readonly point?: MappingOptions;\n}\n\n/**\n * point 辅助点的配置处理\n * @param params\n */\nexport function point<O extends PointGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { point, xField, yField, seriesField, sizeField, shapeField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField, shapeField]);\n\n  return point\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'point',\n            colorField: seriesField,\n            shapeField: shapeField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...point,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n"],"mappings":";AACA,SAASA,UAAU,QAAQ,aAAa;AACxC,SAASC,iBAAiB,QAAQ,qBAAqB;AACvD,SAASC,QAAQ,QAAyC,QAAQ;AAiBlE;;;;AAIA,OAAM,SAAUC,KAAKA,CAAiCC,MAAiB;EAC7D,IAAAC,OAAO,GAAKD,MAAM,CAAAC,OAAX;EACP,IAAAF,KAAK,GAAoFE,OAAO,CAAAF,KAA3F;IAAEG,MAAM,GAA4ED,OAAO,CAAAC,MAAnF;IAAEC,MAAM,GAAoEF,OAAO,CAAAE,MAA3E;IAAEC,WAAW,GAAuDH,OAAO,CAAAG,WAA9D;IAAEC,SAAS,GAA4CJ,OAAO,CAAAI,SAAnD;IAAEC,UAAU,GAAgCL,OAAO,CAAAK,UAAvC;IAAEC,OAAO,GAAuBN,OAAO,CAAAM,OAA9B;IAAEC,gBAAgB,GAAKP,OAAO,CAAAO,gBAAZ;EAEtF,IAAAC,EAAA,GAAwBZ,iBAAiB,CAACU,OAAO,EAAE,CAACL,MAAM,EAAEC,MAAM,EAAEC,WAAW,EAAEC,SAAS,EAAEC,UAAU,CAAC,CAAC;IAAtGI,MAAM,GAAAD,EAAA,CAAAC,MAAA;IAAEC,SAAS,GAAAF,EAAA,CAAAE,SAAqF;EAE9G,OAAOZ,KAAK,GACRD,QAAQ,CACNF,UAAU,CAAC,EAAE,EAAEI,MAAM,EAAE;IACrBC,OAAO,EAAE;MACPW,IAAI,EAAE,OAAO;MACbC,UAAU,EAAET,WAAW;MACvBE,UAAU,EAAEA,UAAU;MACtBQ,aAAa,EAAEJ,MAAM;MACrBK,OAAO,EAAAC,QAAA;QACLT,OAAO,EAAEI;MAAS,GACfZ,KAAK,CACT;MACDkB,IAAI,EAAE;QAAET,gBAAgB,EAAAA;MAAA;;GAE3B,CAAC,CACH,GACDR,MAAM;AACZ"},"metadata":{},"sourceType":"module","externalDependencies":[]}