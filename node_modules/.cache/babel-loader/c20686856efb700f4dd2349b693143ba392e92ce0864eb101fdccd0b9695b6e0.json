{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/**\n * Use cross product to judge the direction of the turn.\n * Returns a positive value, if OAB makes a clockwise turn,\n * negative for counter-clockwise turn, and zero if the points are collinear.\n */\nexport var cross = function cross(a, b, o) {\n  return (a.y - o.y) * (b.x - o.x) - (a.x - o.x) * (b.y - o.y);\n};\n/**\n * Generate a convex hull of given points. Andrew's monotone chain algorithm.\n * @param points An array of [x, y] representing the coordinates of points.\n * @return a list of vertices of the convex hull in counter-clockwise order,\n */\nexport var genConvexHull = function genConvexHull(items) {\n  var points = items.map(function (item) {\n    return {\n      x: item.getModel().x,\n      y: item.getModel().y\n    };\n  });\n  points.sort(function (a, b) {\n    return a.x === b.x ? a.y - b.y : a.x - b.x;\n  });\n  // remove duplicate points\n  var pointMap = {};\n  for (var i = points.length - 1; i >= 0; i--) {\n    var _a = points[i],\n      x = _a.x,\n      y = _a.y;\n    if (pointMap[\"\".concat(x, \"-\").concat(y)]) points.splice(i, 1);\n    pointMap[\"\".concat(x, \"-\").concat(y)] = true;\n  }\n  if (points.length === 1) {\n    return points;\n  }\n  // build the lower hull\n  var lower = [];\n  for (var i = 0; i < points.length; i++) {\n    while (lower.length >= 2 && cross(lower[lower.length - 2], lower[lower.length - 1], points[i]) <= 0) {\n      lower.pop();\n    }\n    lower.push(points[i]);\n  }\n  // build the upper hull\n  var upper = [];\n  for (var i = points.length - 1; i >= 0; i--) {\n    while (upper.length >= 2 && cross(upper[upper.length - 2], upper[upper.length - 1], points[i]) <= 0) {\n      upper.pop();\n    }\n    upper.push(points[i]);\n  }\n  upper.pop();\n  lower.pop();\n  var strictHull = lower.concat(upper);\n  return strictHull;\n};","map":{"version":3,"names":["cross","a","b","o","y","x","genConvexHull","items","points","map","item","getModel","sort","pointMap","i","length","_a","concat","splice","lower","pop","push","upper","strictHull"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/g6-core/es/element/hull/convexHull.js"],"sourcesContent":["/**\n * Use cross product to judge the direction of the turn.\n * Returns a positive value, if OAB makes a clockwise turn,\n * negative for counter-clockwise turn, and zero if the points are collinear.\n */\nexport var cross = function cross(a, b, o) {\n  return (a.y - o.y) * (b.x - o.x) - (a.x - o.x) * (b.y - o.y);\n};\n/**\n * Generate a convex hull of given points. Andrew's monotone chain algorithm.\n * @param points An array of [x, y] representing the coordinates of points.\n * @return a list of vertices of the convex hull in counter-clockwise order,\n */\nexport var genConvexHull = function genConvexHull(items) {\n  var points = items.map(function (item) {\n    return {\n      x: item.getModel().x,\n      y: item.getModel().y\n    };\n  });\n  points.sort(function (a, b) {\n    return a.x === b.x ? a.y - b.y : a.x - b.x;\n  });\n  // remove duplicate points\n  var pointMap = {};\n  for (var i = points.length - 1; i >= 0; i--) {\n    var _a = points[i],\n      x = _a.x,\n      y = _a.y;\n    if (pointMap[\"\".concat(x, \"-\").concat(y)]) points.splice(i, 1);\n    pointMap[\"\".concat(x, \"-\").concat(y)] = true;\n  }\n  if (points.length === 1) {\n    return points;\n  }\n  // build the lower hull\n  var lower = [];\n  for (var i = 0; i < points.length; i++) {\n    while (lower.length >= 2 && cross(lower[lower.length - 2], lower[lower.length - 1], points[i]) <= 0) {\n      lower.pop();\n    }\n    lower.push(points[i]);\n  }\n  // build the upper hull\n  var upper = [];\n  for (var i = points.length - 1; i >= 0; i--) {\n    while (upper.length >= 2 && cross(upper[upper.length - 2], upper[upper.length - 1], points[i]) <= 0) {\n      upper.pop();\n    }\n    upper.push(points[i]);\n  }\n  upper.pop();\n  lower.pop();\n  var strictHull = lower.concat(upper);\n  return strictHull;\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}