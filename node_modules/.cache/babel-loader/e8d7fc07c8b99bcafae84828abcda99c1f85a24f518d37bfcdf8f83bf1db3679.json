{"ast":null,"code":"\"use strict\";\n\n/**\n * @fileOverview Combo force layout\n * @author shiwu.wyy@antfin.com\n */\nrequire(\"core-js/modules/es.array.push.js\");\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ComboCombinedLayout = void 0;\nvar constants_1 = require(\"./constants\");\nvar base_1 = require(\"./base\");\nvar util_1 = require(\"../util\");\nvar _1 = require(\".\");\n/**\n * combined two layouts (inner and outer) for graph with combos\n */\nvar ComboCombinedLayout = /** @class */function (_super) {\n  __extends(ComboCombinedLayout, _super);\n  function ComboCombinedLayout(options) {\n    var _this = _super.call(this) || this;\n    /** 布局中心 */\n    _this.center = [0, 0];\n    /** 内部计算参数 */\n    _this.nodes = [];\n    _this.edges = [];\n    _this.combos = [];\n    _this.comboEdges = [];\n    /** Combo 内部的 padding */\n    _this.comboPadding = 10;\n    _this.comboTrees = [];\n    _this.updateCfg(options);\n    return _this;\n  }\n  ComboCombinedLayout.prototype.getDefaultCfg = function () {\n    return {};\n  };\n  /**\n   * 执行布局\n   */\n  ComboCombinedLayout.prototype.execute = function () {\n    var self = this;\n    var nodes = self.nodes;\n    var center = self.center;\n    if (!nodes || nodes.length === 0) {\n      if (self.onLayoutEnd) self.onLayoutEnd();\n      return;\n    }\n    if (nodes.length === 1) {\n      nodes[0].x = center[0];\n      nodes[0].y = center[1];\n      if (self.onLayoutEnd) self.onLayoutEnd();\n      return;\n    }\n    self.initVals();\n    // layout\n    self.run();\n    if (self.onLayoutEnd) self.onLayoutEnd();\n  };\n  ComboCombinedLayout.prototype.run = function () {\n    var _a;\n    var self = this;\n    var nodes = self.nodes,\n      edges = self.edges,\n      combos = self.combos,\n      comboEdges = self.comboEdges,\n      center = self.center;\n    var nodeMap = {};\n    nodes.forEach(function (node) {\n      nodeMap[node.id] = node;\n    });\n    var comboMap = {};\n    combos.forEach(function (combo) {\n      comboMap[combo.id] = combo;\n    });\n    var innerGraphs = self.getInnerGraphs(nodeMap);\n    // 每个 innerGraph 作为一个节点，带有大小，参与 force 计算\n    var outerNodeIds = [];\n    var outerNodes = [];\n    var nodeAncestorIdMap = {};\n    var allHaveNoPosition = true;\n    this.comboTrees.forEach(function (cTree) {\n      var innerNode = innerGraphs[cTree.id];\n      if (!innerNode) {\n        return;\n      }\n      // 代表 combo 的节点\n      var oNode = __assign(__assign({}, cTree), {\n        x: innerNode.x || comboMap[cTree.id].x,\n        y: innerNode.y || comboMap[cTree.id].y,\n        fx: innerNode.fx || comboMap[cTree.id].fx,\n        fy: innerNode.fy || comboMap[cTree.id].fy,\n        mass: innerNode.mass || comboMap[cTree.id].mass,\n        size: innerNode.size\n      });\n      outerNodes.push(oNode);\n      if (!isNaN(oNode.x) && oNode.x !== 0 && !isNaN(oNode.y) && oNode.y !== 0) {\n        allHaveNoPosition = false;\n      } else {\n        oNode.x = Math.random() * 100;\n        oNode.y = Math.random() * 100;\n      }\n      outerNodeIds.push(cTree.id);\n      (0, util_1.traverseTreeUp)(cTree, function (child) {\n        if (child.id !== cTree.id) nodeAncestorIdMap[child.id] = cTree.id;\n        return true;\n      });\n    });\n    nodes.forEach(function (node) {\n      if (node.comboId && comboMap[node.comboId]) return;\n      // 代表节点的节点\n      var oNode = __assign({}, node);\n      outerNodes.push(oNode);\n      if (!isNaN(oNode.x) && oNode.x !== 0 && !isNaN(oNode.y) && oNode.y !== 0) {\n        allHaveNoPosition = false;\n      } else {\n        oNode.x = Math.random() * 100;\n        oNode.y = Math.random() * 100;\n      }\n      outerNodeIds.push(node.id);\n    });\n    var outerEdges = [];\n    edges.concat(comboEdges).forEach(function (edge) {\n      var sourceAncestorId = nodeAncestorIdMap[edge.source] || edge.source;\n      var targetAncestorId = nodeAncestorIdMap[edge.target] || edge.target;\n      // 若两个点的祖先都在力导图的节点中，且是不同的节点，创建一条链接两个祖先的边到力导图的边中\n      if (sourceAncestorId !== targetAncestorId && outerNodeIds.includes(sourceAncestorId) && outerNodeIds.includes(targetAncestorId)) {\n        outerEdges.push({\n          source: sourceAncestorId,\n          target: targetAncestorId\n        });\n      }\n    });\n    // 若有需要最外层的 combo 或节点，则对最外层执行力导向\n    if (outerNodes === null || outerNodes === void 0 ? void 0 : outerNodes.length) {\n      if (outerNodes.length === 1) {\n        outerNodes[0].x = center[0];\n        outerNodes[0].y = center[1];\n      } else {\n        var outerData = {\n          nodes: outerNodes,\n          edges: outerEdges\n        };\n        // 需要使用一个同步的布局\n        // @ts-ignore\n        var outerLayout = this.outerLayout || new _1.GForceLayout({\n          gravity: 1,\n          factor: 4,\n          linkDistance: function (edge, source, target) {\n            var _a, _b;\n            var nodeSize = ((((_a = source.size) === null || _a === void 0 ? void 0 : _a[0]) || 30) + (((_b = target.size) === null || _b === void 0 ? void 0 : _b[0]) || 30)) / 2;\n            return Math.min(nodeSize * 1.5, 700);\n          }\n        });\n        var outerLayoutType = (_a = outerLayout.getType) === null || _a === void 0 ? void 0 : _a.call(outerLayout);\n        outerLayout.updateCfg({\n          center: center,\n          kg: 5,\n          preventOverlap: true,\n          animate: false\n        });\n        // 若所有 outerNodes 都没有位置，且 outerLayout 是力导家族的布局，则先执行 preset mds 或 grid\n        if (allHaveNoPosition && constants_1.FORCE_LAYOUT_TYPE_MAP[outerLayoutType]) {\n          var outerLayoutPreset = outerNodes.length < 100 ? new _1.MDSLayout() : new _1.GridLayout();\n          outerLayoutPreset.layout(outerData);\n        }\n        outerLayout.layout(outerData);\n      }\n      // 根据外部布局结果，平移 innerGraphs 中的节点（第一层）\n      outerNodes.forEach(function (outerNode) {\n        var innerGraph = innerGraphs[outerNode.id];\n        if (!innerGraph) {\n          var node = nodeMap[outerNode.id];\n          if (node) {\n            node.x = outerNode.x;\n            node.y = outerNode.y;\n          }\n          return;\n        }\n        innerGraph.visited = true;\n        innerGraph.x = outerNode.x;\n        innerGraph.y = outerNode.y;\n        innerGraph.nodes.forEach(function (node) {\n          node.x += outerNode.x;\n          node.y += outerNode.y;\n        });\n      });\n    }\n    // 至上而下遍历树处理下面各层节点位置\n    var innerGraphIds = Object.keys(innerGraphs);\n    var _loop_1 = function (i) {\n      var id = innerGraphIds[i];\n      var innerGraph = innerGraphs[id];\n      if (!innerGraph) return \"continue\";\n      innerGraph.nodes.forEach(function (node) {\n        if (!innerGraph.visited) {\n          node.x += innerGraph.x || 0;\n          node.y += innerGraph.y || 0;\n        }\n        if (nodeMap[node.id]) {\n          nodeMap[node.id].x = node.x;\n          nodeMap[node.id].y = node.y;\n        }\n      });\n      if (comboMap[id]) {\n        comboMap[id].x = innerGraph.x;\n        comboMap[id].y = innerGraph.y;\n      }\n    };\n    for (var i = innerGraphIds.length - 1; i >= 0; i--) {\n      _loop_1(i);\n    }\n    return {\n      nodes: nodes,\n      edges: edges,\n      combos: combos,\n      comboEdges: comboEdges\n    };\n  };\n  ComboCombinedLayout.prototype.getInnerGraphs = function (nodeMap) {\n    var self = this;\n    var comboTrees = self.comboTrees,\n      nodeSize = self.nodeSize,\n      edges = self.edges,\n      comboPadding = self.comboPadding,\n      spacing = self.spacing;\n    var innerGraphs = {};\n    // @ts-ignore\n    var innerGraphLayout = this.innerLayout || new _1.ConcentricLayout({\n      type: 'concentric',\n      sortBy: 'id'\n    });\n    innerGraphLayout.center = [0, 0];\n    innerGraphLayout.preventOverlap = true;\n    innerGraphLayout.nodeSpacing = spacing;\n    (comboTrees || []).forEach(function (ctree) {\n      (0, util_1.traverseTreeUp)(ctree, function (treeNode) {\n        var _a;\n        // @ts-ignore\n        var padding = (comboPadding === null || comboPadding === void 0 ? void 0 : comboPadding(treeNode)) || 10; // 返回的最大值\n        if ((0, util_1.isArray)(padding)) padding = Math.max.apply(Math, padding);\n        if (!((_a = treeNode.children) === null || _a === void 0 ? void 0 : _a.length)) {\n          // 空 combo\n          if (treeNode.itemType === 'combo') {\n            var treeNodeSize = padding ? [padding * 2, padding * 2] : [30, 30];\n            innerGraphs[treeNode.id] = {\n              id: treeNode.id,\n              nodes: [],\n              size: treeNodeSize\n            };\n          }\n        } else {\n          // 非空 combo\n          var innerGraphNodes = treeNode.children.map(function (child) {\n            if (child.itemType === 'combo') return innerGraphs[child.id];\n            var oriNode = nodeMap[child.id] || {};\n            return __assign(__assign({}, oriNode), child);\n          });\n          var innerGraphNodeIds_1 = innerGraphNodes.map(function (node) {\n            return node.id;\n          });\n          var innerGraphData = {\n            nodes: innerGraphNodes,\n            edges: edges.filter(function (edge) {\n              return innerGraphNodeIds_1.includes(edge.source) && innerGraphNodeIds_1.includes(edge.target);\n            })\n          };\n          var minNodeSize_1 = Infinity;\n          innerGraphNodes.forEach(function (node) {\n            var _a;\n            // @ts-ignore\n            if (!node.size) node.size = ((_a = innerGraphs[node.id]) === null || _a === void 0 ? void 0 : _a.size) || (nodeSize === null || nodeSize === void 0 ? void 0 : nodeSize(node)) || [30, 30];\n            if ((0, util_1.isNumber)(node.size)) node.size = [node.size, node.size];\n            if (minNodeSize_1 > node.size[0]) minNodeSize_1 = node.size[0];\n            if (minNodeSize_1 > node.size[1]) minNodeSize_1 = node.size[1];\n          });\n          // 根据节点数量、spacing，调整布局参数\n          innerGraphLayout.layout(innerGraphData);\n          var _b = (0, util_1.getLayoutBBox)(innerGraphNodes),\n            minX = _b.minX,\n            minY = _b.minY,\n            maxX = _b.maxX,\n            maxY = _b.maxY;\n          // move the innerGraph to [0, 0],for later controled by parent layout\n          var center_1 = {\n            x: (maxX + minX) / 2,\n            y: (maxY + minY) / 2\n          };\n          innerGraphData.nodes.forEach(function (node) {\n            node.x -= center_1.x;\n            node.y -= center_1.y;\n          });\n          var innerGraphWidth = Math.max(maxX - minX, minNodeSize_1) + padding * 2;\n          var innerGraphHeight = Math.max(maxY - minY, minNodeSize_1) + padding * 2;\n          innerGraphs[treeNode.id] = {\n            id: treeNode.id,\n            nodes: innerGraphNodes,\n            size: [innerGraphWidth, innerGraphHeight]\n          };\n        }\n        return true;\n      });\n    });\n    return innerGraphs;\n  };\n  ComboCombinedLayout.prototype.initVals = function () {\n    var self = this;\n    var nodeSize = self.nodeSize;\n    var spacing = self.spacing;\n    var nodeSizeFunc;\n    var spacingFunc;\n    // nodeSpacing to function\n    if ((0, util_1.isNumber)(spacing)) {\n      spacingFunc = function () {\n        return spacing;\n      };\n    } else if ((0, util_1.isFunction)(spacing)) {\n      spacingFunc = spacing;\n    } else {\n      spacingFunc = function () {\n        return 0;\n      };\n    }\n    this.spacing = spacingFunc;\n    // nodeSize to function\n    if (!nodeSize) {\n      nodeSizeFunc = function (d) {\n        var spacing = spacingFunc(d);\n        if (d.size) {\n          if ((0, util_1.isArray)(d.size)) {\n            var res = d.size[0] > d.size[1] ? d.size[0] : d.size[1];\n            return (res + spacing) / 2;\n          }\n          if ((0, util_1.isObject)(d.size)) {\n            var res = d.size.width > d.size.height ? d.size.width : d.size.height;\n            return (res + spacing) / 2;\n          }\n          return (d.size + spacing) / 2;\n        }\n        return 10 + spacing / 2;\n      };\n    } else if ((0, util_1.isFunction)(nodeSize)) {\n      nodeSizeFunc = function (d) {\n        var size = nodeSize(d);\n        var spacing = spacingFunc(d);\n        if ((0, util_1.isArray)(d.size)) {\n          var res = d.size[0] > d.size[1] ? d.size[0] : d.size[1];\n          return (res + spacing) / 2;\n        }\n        return ((size || 10) + spacing) / 2;\n      };\n    } else if ((0, util_1.isArray)(nodeSize)) {\n      var larger = nodeSize[0] > nodeSize[1] ? nodeSize[0] : nodeSize[1];\n      var radius_1 = larger / 2;\n      nodeSizeFunc = function (d) {\n        return radius_1 + spacingFunc(d) / 2;\n      };\n    } else {\n      // number type\n      var radius_2 = nodeSize / 2;\n      nodeSizeFunc = function (d) {\n        return radius_2 + spacingFunc(d) / 2;\n      };\n    }\n    this.nodeSize = nodeSizeFunc;\n    // comboPadding to function\n    var comboPadding = self.comboPadding;\n    var comboPaddingFunc;\n    if ((0, util_1.isNumber)(comboPadding)) {\n      comboPaddingFunc = function () {\n        return comboPadding;\n      };\n    } else if ((0, util_1.isArray)(comboPadding)) {\n      comboPaddingFunc = function () {\n        return Math.max.apply(null, comboPadding);\n      };\n    } else if ((0, util_1.isFunction)(comboPadding)) {\n      comboPaddingFunc = comboPadding;\n    } else {\n      // null type\n      comboPaddingFunc = function () {\n        return 0;\n      };\n    }\n    this.comboPadding = comboPaddingFunc;\n  };\n  ComboCombinedLayout.prototype.getType = function () {\n    return 'comboCombined';\n  };\n  return ComboCombinedLayout;\n}(base_1.Base);\nexports.ComboCombinedLayout = ComboCombinedLayout;","map":{"version":3,"names":["require","constants_1","base_1","util_1","_1","ComboCombinedLayout","_super","__extends","options","_this","call","center","nodes","edges","combos","comboEdges","comboPadding","comboTrees","updateCfg","prototype","getDefaultCfg","execute","self","length","onLayoutEnd","x","y","initVals","run","nodeMap","forEach","node","id","comboMap","combo","innerGraphs","getInnerGraphs","outerNodeIds","outerNodes","nodeAncestorIdMap","allHaveNoPosition","cTree","innerNode","oNode","__assign","fx","fy","mass","size","push","isNaN","Math","random","traverseTreeUp","child","comboId","outerEdges","concat","edge","sourceAncestorId","source","targetAncestorId","target","includes","outerData","outerLayout","GForceLayout","gravity","factor","linkDistance","nodeSize","_a","_b","min","outerLayoutType","getType","kg","preventOverlap","animate","FORCE_LAYOUT_TYPE_MAP","outerLayoutPreset","MDSLayout","GridLayout","layout","outerNode","innerGraph","visited","innerGraphIds","Object","keys","i","spacing","innerGraphLayout","innerLayout","ConcentricLayout","type","sortBy","nodeSpacing","ctree","treeNode","padding","isArray","max","apply","children","itemType","treeNodeSize","innerGraphNodes","map","oriNode","innerGraphNodeIds_1","innerGraphData","filter","minNodeSize_1","Infinity","isNumber","getLayoutBBox","minX","minY","maxX","maxY","center_1","innerGraphWidth","innerGraphHeight","nodeSizeFunc","spacingFunc","isFunction","d","res","isObject","width","height","larger","radius_1","radius_2","comboPaddingFunc","Base","exports"],"sources":["../../src/layout/comboCombined.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}