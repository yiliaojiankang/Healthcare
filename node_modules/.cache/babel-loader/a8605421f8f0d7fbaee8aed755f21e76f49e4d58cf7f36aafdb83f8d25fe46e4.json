{"ast":null,"code":"/**\n * @fileoverview 多边形\n * @author dxq613@gmail.com\n */\nimport { __extends } from \"tslib\";\nimport ShapeBase from './base';\nimport inPolyline from '../util/in-stroke/polyline';\nimport isInPolygon from '../util/in-path/polygon';\nvar Polygon = /** @class */function (_super) {\n  __extends(Polygon, _super);\n  function Polygon() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  Polygon.prototype.isInStrokeOrPath = function (x, y, isStroke, isFill, lineWidth) {\n    var points = this.attr().points;\n    var isHit = false;\n    if (isStroke) {\n      isHit = inPolyline(points, lineWidth, x, y, true);\n    }\n    if (!isHit && isFill) {\n      isHit = isInPolygon(points, x, y); // isPointInPath(shape, x, y);\n    }\n\n    return isHit;\n  };\n  Polygon.prototype.createPath = function (context) {\n    var attrs = this.attr();\n    var points = attrs.points;\n    if (points.length < 2) {\n      return;\n    }\n    context.beginPath();\n    for (var i = 0; i < points.length; i++) {\n      var point = points[i];\n      if (i === 0) {\n        context.moveTo(point[0], point[1]);\n      } else {\n        context.lineTo(point[0], point[1]);\n      }\n    }\n    context.closePath();\n  };\n  return Polygon;\n}(ShapeBase);\nexport default Polygon;","map":{"version":3,"names":["ShapeBase","inPolyline","isInPolygon","Polygon","_super","__extends","prototype","isInStrokeOrPath","x","y","isStroke","isFill","lineWidth","points","attr","isHit","createPath","context","attrs","length","beginPath","i","point","moveTo","lineTo","closePath"],"sources":["../../src/shape/polygon.ts"],"sourcesContent":[null],"mappings":"AAAA;;;;;AAKA,OAAOA,SAAS,MAAM,QAAQ;AAC9B,OAAOC,UAAU,MAAM,4BAA4B;AACnD,OAAOC,WAAW,MAAM,yBAAyB;AAEjD,IAAAC,OAAA,0BAAAC,MAAA;EAAsBC,SAAA,CAAAF,OAAA,EAAAC,MAAA;EAAtB,SAAAD,QAAA;;EA8BA;EA7BEA,OAAA,CAAAG,SAAA,CAAAC,gBAAgB,GAAhB,UAAiBC,CAAC,EAAEC,CAAC,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,SAAS;IACxC,IAAAC,MAAM,GAAK,IAAI,CAACC,IAAI,EAAE,CAAAD,MAAhB;IACd,IAAIE,KAAK,GAAG,KAAK;IACjB,IAAIL,QAAQ,EAAE;MACZK,KAAK,GAAGd,UAAU,CAACY,MAAM,EAAED,SAAS,EAAEJ,CAAC,EAAEC,CAAC,EAAE,IAAI,CAAC;;IAEnD,IAAI,CAACM,KAAK,IAAIJ,MAAM,EAAE;MACpBI,KAAK,GAAGb,WAAW,CAACW,MAAM,EAAEL,CAAC,EAAEC,CAAC,CAAC,CAAC,CAAC;;;IAErC,OAAOM,KAAK;EACd,CAAC;EAEDZ,OAAA,CAAAG,SAAA,CAAAU,UAAU,GAAV,UAAWC,OAAO;IAChB,IAAMC,KAAK,GAAG,IAAI,CAACJ,IAAI,EAAE;IACzB,IAAMD,MAAM,GAAGK,KAAK,CAACL,MAAM;IAC3B,IAAIA,MAAM,CAACM,MAAM,GAAG,CAAC,EAAE;MACrB;;IAEFF,OAAO,CAACG,SAAS,EAAE;IACnB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,MAAM,CAACM,MAAM,EAAEE,CAAC,EAAE,EAAE;MACtC,IAAMC,KAAK,GAAGT,MAAM,CAACQ,CAAC,CAAC;MACvB,IAAIA,CAAC,KAAK,CAAC,EAAE;QACXJ,OAAO,CAACM,MAAM,CAACD,KAAK,CAAC,CAAC,CAAC,EAAEA,KAAK,CAAC,CAAC,CAAC,CAAC;OACnC,MAAM;QACLL,OAAO,CAACO,MAAM,CAACF,KAAK,CAAC,CAAC,CAAC,EAAEA,KAAK,CAAC,CAAC,CAAC,CAAC;;;IAGtCL,OAAO,CAACQ,SAAS,EAAE;EACrB,CAAC;EACH,OAAAtB,OAAC;AAAD,CAAC,CA9BqBH,SAAS;AAgC/B,eAAeG,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}