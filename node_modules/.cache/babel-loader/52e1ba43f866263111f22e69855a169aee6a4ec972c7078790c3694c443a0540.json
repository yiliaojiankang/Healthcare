{"ast":null,"code":"var isBetween = function (value, min, max) {\n  return value >= min && value <= max;\n};\nexport default function getLineIntersect(p0, p1, p2, p3) {\n  var tolerance = 0.001;\n  var E = {\n    x: p2.x - p0.x,\n    y: p2.y - p0.y\n  };\n  var D0 = {\n    x: p1.x - p0.x,\n    y: p1.y - p0.y\n  };\n  var D1 = {\n    x: p3.x - p2.x,\n    y: p3.y - p2.y\n  };\n  var kross = D0.x * D1.y - D0.y * D1.x;\n  var sqrKross = kross * kross;\n  var sqrLen0 = D0.x * D0.x + D0.y * D0.y;\n  var sqrLen1 = D1.x * D1.x + D1.y * D1.y;\n  var point = null;\n  if (sqrKross > tolerance * sqrLen0 * sqrLen1) {\n    var s = (E.x * D1.y - E.y * D1.x) / kross;\n    var t = (E.x * D0.y - E.y * D0.x) / kross;\n    if (isBetween(s, 0, 1) && isBetween(t, 0, 1)) {\n      point = {\n        x: p0.x + s * D0.x,\n        y: p0.y + s * D0.y\n      };\n    }\n  }\n  return point;\n}\n;","map":{"version":3,"names":["isBetween","value","min","max","getLineIntersect","p0","p1","p2","p3","tolerance","E","x","y","D0","D1","kross","sqrKross","sqrLen0","sqrLen1","point","s","t"],"sources":["../src/get-line-intersect.ts"],"sourcesContent":[null],"mappings":"AAaA,IAAMA,SAAS,GAAG,SAAAA,CAACC,KAAa,EAAEC,GAAW,EAAEC,GAAW;EAAK,OAAAF,KAAK,IAAIC,GAAG,IAAID,KAAK,IAAIE,GAAG;AAA5B,CAA4B;AAG3F,eAAc,SAAUC,gBAAgBA,CAACC,EAAS,EAAEC,EAAS,EAAEC,EAAS,EAAEC,EAAS;EACjF,IAAMC,SAAS,GAAG,KAAK;EACvB,IAAMC,CAAC,GAAU;IACfC,CAAC,EAAEJ,EAAE,CAACI,CAAC,GAAGN,EAAE,CAACM,CAAC;IACdC,CAAC,EAAEL,EAAE,CAACK,CAAC,GAAGP,EAAE,CAACO;GACd;EACD,IAAMC,EAAE,GAAU;IAChBF,CAAC,EAAEL,EAAE,CAACK,CAAC,GAAGN,EAAE,CAACM,CAAC;IACdC,CAAC,EAAEN,EAAE,CAACM,CAAC,GAAGP,EAAE,CAACO;GACd;EACD,IAAME,EAAE,GAAU;IAChBH,CAAC,EAAEH,EAAE,CAACG,CAAC,GAAGJ,EAAE,CAACI,CAAC;IACdC,CAAC,EAAEJ,EAAE,CAACI,CAAC,GAAGL,EAAE,CAACK;GACd;EACD,IAAMG,KAAK,GAAWF,EAAE,CAACF,CAAC,GAAGG,EAAE,CAACF,CAAC,GAAGC,EAAE,CAACD,CAAC,GAAGE,EAAE,CAACH,CAAC;EAC/C,IAAMK,QAAQ,GAAWD,KAAK,GAAGA,KAAK;EACtC,IAAME,OAAO,GAAWJ,EAAE,CAACF,CAAC,GAAGE,EAAE,CAACF,CAAC,GAAGE,EAAE,CAACD,CAAC,GAAGC,EAAE,CAACD,CAAC;EACjD,IAAMM,OAAO,GAAWJ,EAAE,CAACH,CAAC,GAAGG,EAAE,CAACH,CAAC,GAAGG,EAAE,CAACF,CAAC,GAAGE,EAAE,CAACF,CAAC;EACjD,IAAIO,KAAK,GAAiB,IAAI;EAC9B,IAAIH,QAAQ,GAAGP,SAAS,GAAGQ,OAAO,GAAGC,OAAO,EAAE;IAC5C,IAAME,CAAC,GAAG,CAACV,CAAC,CAACC,CAAC,GAAGG,EAAE,CAACF,CAAC,GAAGF,CAAC,CAACE,CAAC,GAAGE,EAAE,CAACH,CAAC,IAAII,KAAK;IAC3C,IAAMM,CAAC,GAAG,CAACX,CAAC,CAACC,CAAC,GAAGE,EAAE,CAACD,CAAC,GAAGF,CAAC,CAACE,CAAC,GAAGC,EAAE,CAACF,CAAC,IAAII,KAAK;IAC3C,IAAIf,SAAS,CAACoB,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,IAAIpB,SAAS,CAACqB,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE;MAC5CF,KAAK,GAAG;QACNR,CAAC,EAAEN,EAAE,CAACM,CAAC,GAAGS,CAAC,GAAGP,EAAE,CAACF,CAAC;QAClBC,CAAC,EAAEP,EAAE,CAACO,CAAC,GAAGQ,CAAC,GAAGP,EAAE,CAACD;OAClB;;;EAGL,OAAOO,KAAK;AACd;AAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}