{"ast":null,"code":"import { isBoolean, isObject } from '@antv/util';\nimport Util from '../util';\nvar cloneEvent = Util.cloneEvent,\n  isNaN = Util.isNaN;\nvar abs = Math.abs;\nvar DRAG_OFFSET = 10;\nvar ALLOW_EVENTS = ['shift', 'ctrl', 'alt', 'control'];\nexport default {\n  getDefaultCfg: function getDefaultCfg() {\n    return {\n      direction: 'both',\n      enableOptimize: false,\n      // drag-canvas 可拖动的扩展范围，默认为 0，即最多可以拖动一屏的位置\n      // 当设置的值大于 0 时，即拖动可以超过一屏\n      // 当设置的值小于 0 时，相当于缩小了可拖动范围\n      // 具体实例可参考：https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*IFfoS67_HssAAAAAAAAAAAAAARQnAQ\n      scalableRange: 0,\n      allowDragOnItem: false\n    };\n  },\n  getEvents: function getEvents() {\n    return {\n      'mousedown': 'onMouseDown',\n      'drag': 'onDragMove',\n      'dragend': 'onMouseUp',\n      'canvas:click': 'onMouseUp',\n      'keyup': 'onKeyUp',\n      'focus': 'onKeyUp',\n      'keydown': 'onKeyDown',\n      'touchstart': 'onTouchStart',\n      'touchmove': 'onTouchMove',\n      'touchend': 'onMouseUp'\n    };\n  },\n  updateViewport: function updateViewport(e) {\n    var origin = this.origin;\n    var clientX = +e.clientX;\n    var clientY = +e.clientY;\n    if (isNaN(clientX) || isNaN(clientY)) {\n      return;\n    }\n    var dx = clientX - origin.x;\n    var dy = clientY - origin.y;\n    if (this.get('direction') === 'x') {\n      dy = 0;\n    } else if (this.get('direction') === 'y') {\n      dx = 0;\n    }\n    this.origin = {\n      x: clientX,\n      y: clientY\n    };\n    var width = this.graph.get('width');\n    var height = this.graph.get('height');\n    var graphCanvasBBox = this.graph.get('canvas').getCanvasBBox();\n    var expandWidth = this.scalableRange;\n    var expandHeight = this.scalableRange;\n    // 若 scalableRange 是 0~1 的小数，则作为比例考虑\n    if (expandWidth < 1 && expandWidth > -1) {\n      expandWidth = width * expandWidth;\n      expandHeight = height * expandHeight;\n    }\n    if (graphCanvasBBox.minX <= width + expandWidth && graphCanvasBBox.minX + dx > width + expandWidth || graphCanvasBBox.maxX + expandWidth >= 0 && graphCanvasBBox.maxX + expandWidth + dx < 0) {\n      dx = 0;\n    }\n    if (graphCanvasBBox.minY <= height + expandHeight && graphCanvasBBox.minY + dy > height + expandHeight || graphCanvasBBox.maxY + expandHeight >= 0 && graphCanvasBBox.maxY + expandHeight + dy < 0) {\n      dy = 0;\n    }\n    this.graph.translate(dx, dy);\n  },\n  onTouchStart: function onTouchStart(e) {\n    var self = this;\n    var touches = e.originalEvent.touches;\n    var event1 = touches[0];\n    var event2 = touches[1];\n    // 如果是双指操作，不允许拖拽画布\n    if (event1 && event2) {\n      return;\n    }\n    e.preventDefault();\n    this.mousedown = true;\n    self.onDragStart(e);\n  },\n  onMouseDown: function onMouseDown(e) {\n    this.mousedown = true;\n  },\n  onDragMove: function onDragMove(evt) {\n    if (!this.mousedown) return;\n    if (!this.dragstart) {\n      // dragstart\n      this.dragstart = true;\n      this.onDragStart(evt);\n    } else {\n      // drag\n      this.onDrag(evt);\n    }\n  },\n  onDragStart: function onDragStart(e) {\n    var self = this;\n    var event = e.originalEvent;\n    // TODO: 'name' doesn't exist on `IG6GraphEvent`, we should consider typing it so users get autocomplete and other benefits\n    if (event && e.name !== 'touchstart' && event.button !== 0) {\n      return;\n    }\n    if (e.name !== 'touchstart' && typeof window !== 'undefined' && window.event && !window.event.buttons && !window.event.button) {\n      return;\n    }\n    if (!this.shouldBegin(e, this)) {\n      return;\n    }\n    if (self.keydown) return;\n    if (!this.allowDrag(e)) return;\n    self.origin = {\n      x: e.clientX,\n      y: e.clientY\n    };\n    self.dragging = false;\n    if (this.enableOptimize) {\n      // 拖动 canvas 过程中隐藏所有的边及label\n      var graph = this.graph;\n      var edges = graph.getEdges();\n      for (var i = 0, len = edges.length; i < len; i++) {\n        var shapes = edges[i].get('group').get('children');\n        if (!shapes) continue;\n        shapes.forEach(function (shape) {\n          shape.set('ori-visibility', shape.get('ori-visibility') || shape.get('visible'));\n          shape.hide();\n        });\n      }\n      var nodes = graph.getNodes();\n      for (var j = 0, nodeLen = nodes.length; j < nodeLen; j++) {\n        var container = nodes[j].getContainer();\n        var children = container.get('children');\n        for (var _i = 0, children_1 = children; _i < children_1.length; _i++) {\n          var child = children_1[_i];\n          var isKeyShape = child.get('isKeyShape');\n          if (!isKeyShape) {\n            child.set('ori-visibility', child.get('ori-visibility') || child.get('visible'));\n            child.hide();\n          }\n        }\n      }\n    }\n    // 绑定浏览器右键监听，触发拖拽结束，结束拖拽时移除\n    if (typeof window !== 'undefined') {\n      var self_1 = this;\n      this.handleDOMContextMenu = function (e) {\n        return self_1.onMouseUp(e);\n      };\n      document.body.addEventListener('contextmenu', this.handleDOMContextMenu);\n    }\n  },\n  onTouchMove: function onTouchMove(e) {\n    var self = this;\n    var touches = e.originalEvent.touches;\n    var event1 = touches[0];\n    var event2 = touches[1];\n    // 如果是双指操作，不允许拖拽画布，结束拖拽\n    if (event1 && event2) {\n      this.onMouseUp(e);\n      return;\n    }\n    e.preventDefault();\n    self.onDrag(e);\n  },\n  onDrag: function onDrag(e) {\n    if (!this.mousedown) return;\n    var graph = this.graph;\n    if (this.keydown) return;\n    if (!this.allowDrag(e)) return;\n    e = cloneEvent(e);\n    if (!this.origin) {\n      return;\n    }\n    if (!this.dragging) {\n      if (abs(this.origin.x - e.clientX) + abs(this.origin.y - e.clientY) < DRAG_OFFSET) {\n        return;\n      }\n      if (this.shouldBegin(e, this)) {\n        e.type = 'dragstart';\n        graph.emit('canvas:dragstart', e);\n        this.originPosition = {\n          x: e.clientX,\n          y: e.clientY\n        };\n        this.dragging = true;\n      }\n    } else {\n      e.type = 'drag';\n      graph.emit('canvas:drag', e);\n    }\n    if (this.shouldUpdate(e, this)) {\n      this.updateViewport(e);\n    }\n  },\n  onMouseUp: function onMouseUp(e) {\n    var _a, _b;\n    this.mousedown = false;\n    this.dragstart = false;\n    var graph = this.graph;\n    if (this.keydown) return;\n    var currentZoom = graph.getZoom();\n    var modeController = graph.get('modeController');\n    var zoomCanvas = (_b = (_a = modeController === null || modeController === void 0 ? void 0 : modeController.modes[modeController.mode]) === null || _a === void 0 ? void 0 : _a.filter(function (behavior) {\n      return behavior.type === 'zoom-canvas';\n    })) === null || _b === void 0 ? void 0 : _b[0];\n    var optimizeZoom = zoomCanvas ? zoomCanvas.optimizeZoom || 0.1 : 0;\n    if (this.enableOptimize) {\n      // 拖动结束后显示所有的边\n      var edges = graph.getEdges();\n      for (var i = 0, len = edges.length; i < len; i++) {\n        var shapes = edges[i].get('group').get('children');\n        if (!shapes) continue;\n        shapes.forEach(function (shape) {\n          var oriVis = shape.get('ori-visibility');\n          shape.set('ori-visibility', undefined);\n          if (oriVis) shape.show();\n        });\n      }\n      if (currentZoom > optimizeZoom) {\n        var nodes = graph.getNodes();\n        for (var j = 0, nodeLen = nodes.length; j < nodeLen; j++) {\n          var container = nodes[j].getContainer();\n          var children = container.get('children');\n          for (var _i = 0, children_2 = children; _i < children_2.length; _i++) {\n            var child = children_2[_i];\n            var isKeyShape = child.get('isKeyShape');\n            if (!isKeyShape) {\n              var oriVis = child.get('ori-visibility');\n              child.set('ori-visibility', undefined);\n              if (oriVis) child.show();\n            }\n          }\n        }\n      }\n    }\n    if (!this.dragging) {\n      this.origin = null;\n      return;\n    }\n    e = cloneEvent(e);\n    if (this.shouldEnd(e, this)) {\n      this.updateViewport(e);\n    }\n    e.type = 'dragend';\n    e.dx = e.clientX - this.originPosition.x;\n    e.dy = e.clientY - this.originPosition.y;\n    graph.emit('canvas:dragend', e);\n    this.endDrag();\n    // 结束拖拽时移除浏览器右键监听\n    if (typeof window !== 'undefined') {\n      document.body.removeEventListener('contextmenu', this.handleDOMContextMenu);\n    }\n  },\n  endDrag: function endDrag() {\n    this.origin = null;\n    this.dragging = false;\n    this.dragbegin = false;\n    this.mousedown = false;\n    this.dragstart = false;\n  },\n  onKeyDown: function onKeyDown(e) {\n    var self = this;\n    var code = e.key;\n    if (!code) {\n      return;\n    }\n    if (ALLOW_EVENTS.indexOf(code.toLowerCase()) > -1) {\n      self.keydown = true;\n    } else {\n      self.keydown = false;\n    }\n  },\n  onKeyUp: function onKeyUp() {\n    this.keydown = false;\n    this.origin = null;\n    this.dragging = false;\n    this.dragbegin = false;\n  },\n  allowDrag: function allowDrag(evt) {\n    var _a, _b;\n    var target = evt.target;\n    var targetIsCanvas = target && target.isCanvas && target.isCanvas();\n    if (isBoolean(this.allowDragOnItem) && !this.allowDragOnItem && !targetIsCanvas) return false;\n    if (isObject(this.allowDragOnItem)) {\n      var _c = this.allowDragOnItem,\n        node = _c.node,\n        edge = _c.edge,\n        combo = _c.combo;\n      var itemType = (_b = (_a = evt.item) === null || _a === void 0 ? void 0 : _a.getType) === null || _b === void 0 ? void 0 : _b.call(_a);\n      if (!node && itemType === 'node') return false;\n      if (!edge && itemType === 'edge') return false;\n      if (!combo && itemType === 'combo') return false;\n    }\n    return true;\n  }\n};","map":{"version":3,"names":["isBoolean","isObject","Util","cloneEvent","isNaN","abs","Math","DRAG_OFFSET","ALLOW_EVENTS","getDefaultCfg","direction","enableOptimize","scalableRange","allowDragOnItem","getEvents","updateViewport","e","origin","clientX","clientY","dx","x","dy","y","get","width","graph","height","graphCanvasBBox","getCanvasBBox","expandWidth","expandHeight","minX","maxX","minY","maxY","translate","onTouchStart","self","touches","originalEvent","event1","event2","preventDefault","mousedown","onDragStart","onMouseDown","onDragMove","evt","dragstart","onDrag","event","name","button","window","buttons","shouldBegin","keydown","allowDrag","dragging","edges","getEdges","i","len","length","shapes","forEach","shape","set","hide","nodes","getNodes","j","nodeLen","container","getContainer","children","_i","children_1","child","isKeyShape","self_1","handleDOMContextMenu","onMouseUp","document","body","addEventListener","onTouchMove","type","emit","originPosition","shouldUpdate","_a","_b","currentZoom","getZoom","modeController","zoomCanvas","modes","mode","filter","behavior","optimizeZoom","oriVis","undefined","show","children_2","shouldEnd","endDrag","removeEventListener","dragbegin","onKeyDown","code","key","indexOf","toLowerCase","onKeyUp","target","targetIsCanvas","isCanvas","_c","node","edge","combo","itemType","item","getType","call"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/g6-pc/es/behavior/drag-canvas.js"],"sourcesContent":["import { isBoolean, isObject } from '@antv/util';\nimport Util from '../util';\nvar cloneEvent = Util.cloneEvent,\n  isNaN = Util.isNaN;\nvar abs = Math.abs;\nvar DRAG_OFFSET = 10;\nvar ALLOW_EVENTS = ['shift', 'ctrl', 'alt', 'control'];\nexport default {\n  getDefaultCfg: function getDefaultCfg() {\n    return {\n      direction: 'both',\n      enableOptimize: false,\n      // drag-canvas 可拖动的扩展范围，默认为 0，即最多可以拖动一屏的位置\n      // 当设置的值大于 0 时，即拖动可以超过一屏\n      // 当设置的值小于 0 时，相当于缩小了可拖动范围\n      // 具体实例可参考：https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*IFfoS67_HssAAAAAAAAAAAAAARQnAQ\n      scalableRange: 0,\n      allowDragOnItem: false\n    };\n  },\n  getEvents: function getEvents() {\n    return {\n      'mousedown': 'onMouseDown',\n      'drag': 'onDragMove',\n      'dragend': 'onMouseUp',\n      'canvas:click': 'onMouseUp',\n      'keyup': 'onKeyUp',\n      'focus': 'onKeyUp',\n      'keydown': 'onKeyDown',\n      'touchstart': 'onTouchStart',\n      'touchmove': 'onTouchMove',\n      'touchend': 'onMouseUp'\n    };\n  },\n  updateViewport: function updateViewport(e) {\n    var origin = this.origin;\n    var clientX = +e.clientX;\n    var clientY = +e.clientY;\n    if (isNaN(clientX) || isNaN(clientY)) {\n      return;\n    }\n    var dx = clientX - origin.x;\n    var dy = clientY - origin.y;\n    if (this.get('direction') === 'x') {\n      dy = 0;\n    } else if (this.get('direction') === 'y') {\n      dx = 0;\n    }\n    this.origin = {\n      x: clientX,\n      y: clientY\n    };\n    var width = this.graph.get('width');\n    var height = this.graph.get('height');\n    var graphCanvasBBox = this.graph.get('canvas').getCanvasBBox();\n    var expandWidth = this.scalableRange;\n    var expandHeight = this.scalableRange;\n    // 若 scalableRange 是 0~1 的小数，则作为比例考虑\n    if (expandWidth < 1 && expandWidth > -1) {\n      expandWidth = width * expandWidth;\n      expandHeight = height * expandHeight;\n    }\n    if (graphCanvasBBox.minX <= width + expandWidth && graphCanvasBBox.minX + dx > width + expandWidth || graphCanvasBBox.maxX + expandWidth >= 0 && graphCanvasBBox.maxX + expandWidth + dx < 0) {\n      dx = 0;\n    }\n    if (graphCanvasBBox.minY <= height + expandHeight && graphCanvasBBox.minY + dy > height + expandHeight || graphCanvasBBox.maxY + expandHeight >= 0 && graphCanvasBBox.maxY + expandHeight + dy < 0) {\n      dy = 0;\n    }\n    this.graph.translate(dx, dy);\n  },\n  onTouchStart: function onTouchStart(e) {\n    var self = this;\n    var touches = e.originalEvent.touches;\n    var event1 = touches[0];\n    var event2 = touches[1];\n    // 如果是双指操作，不允许拖拽画布\n    if (event1 && event2) {\n      return;\n    }\n    e.preventDefault();\n    this.mousedown = true;\n    self.onDragStart(e);\n  },\n  onMouseDown: function onMouseDown(e) {\n    this.mousedown = true;\n  },\n  onDragMove: function onDragMove(evt) {\n    if (!this.mousedown) return;\n    if (!this.dragstart) {\n      // dragstart\n      this.dragstart = true;\n      this.onDragStart(evt);\n    } else {\n      // drag\n      this.onDrag(evt);\n    }\n  },\n  onDragStart: function onDragStart(e) {\n    var self = this;\n    var event = e.originalEvent;\n    // TODO: 'name' doesn't exist on `IG6GraphEvent`, we should consider typing it so users get autocomplete and other benefits\n    if (event && e.name !== 'touchstart' && event.button !== 0) {\n      return;\n    }\n    if (e.name !== 'touchstart' && typeof window !== 'undefined' && window.event && !window.event.buttons && !window.event.button) {\n      return;\n    }\n    if (!this.shouldBegin(e, this)) {\n      return;\n    }\n    if (self.keydown) return;\n    if (!this.allowDrag(e)) return;\n    self.origin = {\n      x: e.clientX,\n      y: e.clientY\n    };\n    self.dragging = false;\n    if (this.enableOptimize) {\n      // 拖动 canvas 过程中隐藏所有的边及label\n      var graph = this.graph;\n      var edges = graph.getEdges();\n      for (var i = 0, len = edges.length; i < len; i++) {\n        var shapes = edges[i].get('group').get('children');\n        if (!shapes) continue;\n        shapes.forEach(function (shape) {\n          shape.set('ori-visibility', shape.get('ori-visibility') || shape.get('visible'));\n          shape.hide();\n        });\n      }\n      var nodes = graph.getNodes();\n      for (var j = 0, nodeLen = nodes.length; j < nodeLen; j++) {\n        var container = nodes[j].getContainer();\n        var children = container.get('children');\n        for (var _i = 0, children_1 = children; _i < children_1.length; _i++) {\n          var child = children_1[_i];\n          var isKeyShape = child.get('isKeyShape');\n          if (!isKeyShape) {\n            child.set('ori-visibility', child.get('ori-visibility') || child.get('visible'));\n            child.hide();\n          }\n        }\n      }\n    }\n    // 绑定浏览器右键监听，触发拖拽结束，结束拖拽时移除\n    if (typeof window !== 'undefined') {\n      var self_1 = this;\n      this.handleDOMContextMenu = function (e) {\n        return self_1.onMouseUp(e);\n      };\n      document.body.addEventListener('contextmenu', this.handleDOMContextMenu);\n    }\n  },\n  onTouchMove: function onTouchMove(e) {\n    var self = this;\n    var touches = e.originalEvent.touches;\n    var event1 = touches[0];\n    var event2 = touches[1];\n    // 如果是双指操作，不允许拖拽画布，结束拖拽\n    if (event1 && event2) {\n      this.onMouseUp(e);\n      return;\n    }\n    e.preventDefault();\n    self.onDrag(e);\n  },\n  onDrag: function onDrag(e) {\n    if (!this.mousedown) return;\n    var graph = this.graph;\n    if (this.keydown) return;\n    if (!this.allowDrag(e)) return;\n    e = cloneEvent(e);\n    if (!this.origin) {\n      return;\n    }\n    if (!this.dragging) {\n      if (abs(this.origin.x - e.clientX) + abs(this.origin.y - e.clientY) < DRAG_OFFSET) {\n        return;\n      }\n      if (this.shouldBegin(e, this)) {\n        e.type = 'dragstart';\n        graph.emit('canvas:dragstart', e);\n        this.originPosition = {\n          x: e.clientX,\n          y: e.clientY\n        };\n        this.dragging = true;\n      }\n    } else {\n      e.type = 'drag';\n      graph.emit('canvas:drag', e);\n    }\n    if (this.shouldUpdate(e, this)) {\n      this.updateViewport(e);\n    }\n  },\n  onMouseUp: function onMouseUp(e) {\n    var _a, _b;\n    this.mousedown = false;\n    this.dragstart = false;\n    var graph = this.graph;\n    if (this.keydown) return;\n    var currentZoom = graph.getZoom();\n    var modeController = graph.get('modeController');\n    var zoomCanvas = (_b = (_a = modeController === null || modeController === void 0 ? void 0 : modeController.modes[modeController.mode]) === null || _a === void 0 ? void 0 : _a.filter(function (behavior) {\n      return behavior.type === 'zoom-canvas';\n    })) === null || _b === void 0 ? void 0 : _b[0];\n    var optimizeZoom = zoomCanvas ? zoomCanvas.optimizeZoom || 0.1 : 0;\n    if (this.enableOptimize) {\n      // 拖动结束后显示所有的边\n      var edges = graph.getEdges();\n      for (var i = 0, len = edges.length; i < len; i++) {\n        var shapes = edges[i].get('group').get('children');\n        if (!shapes) continue;\n        shapes.forEach(function (shape) {\n          var oriVis = shape.get('ori-visibility');\n          shape.set('ori-visibility', undefined);\n          if (oriVis) shape.show();\n        });\n      }\n      if (currentZoom > optimizeZoom) {\n        var nodes = graph.getNodes();\n        for (var j = 0, nodeLen = nodes.length; j < nodeLen; j++) {\n          var container = nodes[j].getContainer();\n          var children = container.get('children');\n          for (var _i = 0, children_2 = children; _i < children_2.length; _i++) {\n            var child = children_2[_i];\n            var isKeyShape = child.get('isKeyShape');\n            if (!isKeyShape) {\n              var oriVis = child.get('ori-visibility');\n              child.set('ori-visibility', undefined);\n              if (oriVis) child.show();\n            }\n          }\n        }\n      }\n    }\n    if (!this.dragging) {\n      this.origin = null;\n      return;\n    }\n    e = cloneEvent(e);\n    if (this.shouldEnd(e, this)) {\n      this.updateViewport(e);\n    }\n    e.type = 'dragend';\n    e.dx = e.clientX - this.originPosition.x;\n    e.dy = e.clientY - this.originPosition.y;\n    graph.emit('canvas:dragend', e);\n    this.endDrag();\n    // 结束拖拽时移除浏览器右键监听\n    if (typeof window !== 'undefined') {\n      document.body.removeEventListener('contextmenu', this.handleDOMContextMenu);\n    }\n  },\n  endDrag: function endDrag() {\n    this.origin = null;\n    this.dragging = false;\n    this.dragbegin = false;\n    this.mousedown = false;\n    this.dragstart = false;\n  },\n  onKeyDown: function onKeyDown(e) {\n    var self = this;\n    var code = e.key;\n    if (!code) {\n      return;\n    }\n    if (ALLOW_EVENTS.indexOf(code.toLowerCase()) > -1) {\n      self.keydown = true;\n    } else {\n      self.keydown = false;\n    }\n  },\n  onKeyUp: function onKeyUp() {\n    this.keydown = false;\n    this.origin = null;\n    this.dragging = false;\n    this.dragbegin = false;\n  },\n  allowDrag: function allowDrag(evt) {\n    var _a, _b;\n    var target = evt.target;\n    var targetIsCanvas = target && target.isCanvas && target.isCanvas();\n    if (isBoolean(this.allowDragOnItem) && !this.allowDragOnItem && !targetIsCanvas) return false;\n    if (isObject(this.allowDragOnItem)) {\n      var _c = this.allowDragOnItem,\n        node = _c.node,\n        edge = _c.edge,\n        combo = _c.combo;\n      var itemType = (_b = (_a = evt.item) === null || _a === void 0 ? void 0 : _a.getType) === null || _b === void 0 ? void 0 : _b.call(_a);\n      if (!node && itemType === 'node') return false;\n      if (!edge && itemType === 'edge') return false;\n      if (!combo && itemType === 'combo') return false;\n    }\n    return true;\n  }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}