{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { regionToBBox } from '../util/util';\nvar ImageAnnotation = /** @class */function (_super) {\n  __extends(ImageAnnotation, _super);\n  function ImageAnnotation() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @protected\n   * 默认的配置项\n   * @returns {object} 默认的配置项\n   */\n  ImageAnnotation.prototype.getDefaultCfg = function () {\n    var cfg = _super.prototype.getDefaultCfg.call(this);\n    return __assign(__assign({}, cfg), {\n      name: 'annotation',\n      type: 'image',\n      locationType: 'region',\n      start: null,\n      end: null,\n      src: null,\n      style: {}\n    });\n  };\n  ImageAnnotation.prototype.renderInner = function (group) {\n    this.renderImage(group);\n  };\n  ImageAnnotation.prototype.getImageAttrs = function () {\n    var start = this.get('start');\n    var end = this.get('end');\n    var style = this.get('style');\n    var bbox = regionToBBox({\n      start: start,\n      end: end\n    });\n    var src = this.get('src');\n    return __assign({\n      x: bbox.x,\n      y: bbox.y,\n      img: src,\n      width: bbox.width,\n      height: bbox.height\n    }, style);\n  };\n  // 绘制图片\n  ImageAnnotation.prototype.renderImage = function (group) {\n    this.addShape(group, {\n      type: 'image',\n      id: this.getElementId('image'),\n      name: 'annotation-image',\n      attrs: this.getImageAttrs()\n    });\n  };\n  return ImageAnnotation;\n}(GroupComponent);\nexport default ImageAnnotation;","map":{"version":3,"names":["GroupComponent","regionToBBox","ImageAnnotation","_super","__extends","prototype","getDefaultCfg","cfg","call","__assign","name","type","locationType","start","end","src","style","renderInner","group","renderImage","getImageAttrs","get","bbox","x","y","img","width","height","addShape","id","getElementId","attrs"],"sources":["../../src/annotation/image.ts"],"sourcesContent":[null],"mappings":";AACA,OAAOA,cAAc,MAAM,6BAA6B;AAGxD,SAASC,YAAY,QAAQ,cAAc;AAE3C,IAAAC,eAAA,0BAAAC,MAAA;EAA8BC,SAAA,CAAAF,eAAA,EAAAC,MAAA;EAA9B,SAAAD,gBAAA;;EAiDA;EAhDE;;;;;EAKOA,eAAA,CAAAG,SAAA,CAAAC,aAAa,GAApB;IACE,IAAMC,GAAG,GAAGJ,MAAA,CAAAE,SAAA,CAAMC,aAAa,CAAAE,IAAA,MAAE;IACjC,OAAAC,QAAA,CAAAA,QAAA,KACKF,GAAG;MACNG,IAAI,EAAE,YAAY;MAClBC,IAAI,EAAE,OAAO;MACbC,YAAY,EAAE,QAAQ;MACtBC,KAAK,EAAE,IAAI;MACXC,GAAG,EAAE,IAAI;MACTC,GAAG,EAAE,IAAI;MACTC,KAAK,EAAE;IAAE;EAEb,CAAC;EAEMd,eAAA,CAAAG,SAAA,CAAAY,WAAW,GAAlB,UAAmBC,KAAa;IAC9B,IAAI,CAACC,WAAW,CAACD,KAAK,CAAC;EACzB,CAAC;EAEOhB,eAAA,CAAAG,SAAA,CAAAe,aAAa,GAArB;IACE,IAAMP,KAAK,GAAG,IAAI,CAACQ,GAAG,CAAC,OAAO,CAAC;IAC/B,IAAMP,GAAG,GAAG,IAAI,CAACO,GAAG,CAAC,KAAK,CAAC;IAC3B,IAAML,KAAK,GAAG,IAAI,CAACK,GAAG,CAAC,OAAO,CAAC;IAC/B,IAAMC,IAAI,GAAGrB,YAAY,CAAC;MAAEY,KAAK,EAAAA,KAAA;MAAEC,GAAG,EAAAA;IAAA,CAAE,CAAC;IACzC,IAAMC,GAAG,GAAG,IAAI,CAACM,GAAG,CAAC,KAAK,CAAC;IAC3B,OAAAZ,QAAA;MACEc,CAAC,EAAED,IAAI,CAACC,CAAC;MACTC,CAAC,EAAEF,IAAI,CAACE,CAAC;MACTC,GAAG,EAAEV,GAAG;MACRW,KAAK,EAAEJ,IAAI,CAACI,KAAK;MACjBC,MAAM,EAAEL,IAAI,CAACK;IAAM,GAChBX,KAAK;EAEZ,CAAC;EAED;EACQd,eAAA,CAAAG,SAAA,CAAAc,WAAW,GAAnB,UAAoBD,KAAa;IAC/B,IAAI,CAACU,QAAQ,CAACV,KAAK,EAAE;MACnBP,IAAI,EAAE,OAAO;MACbkB,EAAE,EAAE,IAAI,CAACC,YAAY,CAAC,OAAO,CAAC;MAC9BpB,IAAI,EAAE,kBAAkB;MACxBqB,KAAK,EAAE,IAAI,CAACX,aAAa;KAC1B,CAAC;EACJ,CAAC;EACH,OAAAlB,eAAC;AAAD,CAAC,CAjD6BF,cAAc;AAmD5C,eAAeE,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}