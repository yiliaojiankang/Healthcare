{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nif (!window) {\n  throw Error('AMap JSAPI can only be used in Browser.');\n}\nvar LoadStatus = /*#__PURE__*/function (LoadStatus) {\n  LoadStatus[\"notload\"] = \"notload\";\n  LoadStatus[\"loading\"] = \"loading\";\n  LoadStatus[\"loaded\"] = \"loaded\";\n  LoadStatus[\"failed\"] = \"failed\";\n  return LoadStatus;\n}(LoadStatus || {});\nvar config = {\n  key: '',\n  AMap: {\n    version: '2.0',\n    plugins: []\n  }\n};\nvar Status = {\n  AMap: LoadStatus.notload\n};\nvar onloadCBKs = [];\n// @ts-ignore\nvar onload = function onload(callback) {\n  if (typeof callback === 'function') {\n    if (Status.AMap === LoadStatus.loaded) {\n      callback(window.AMap);\n      return;\n    }\n    onloadCBKs.push(callback);\n  }\n};\nvar load = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(options) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n            if (Status.AMap === LoadStatus.failed) {\n              reject('');\n            } else if (Status.AMap === LoadStatus.notload) {\n              // 初次加载\n              var key = options.key,\n                version = options.version,\n                plugins = options.plugins;\n              if (!key) {\n                reject('请填写key');\n                return;\n              }\n              if (window.AMap && location.host !== 'lbs.amap.com') {\n                reject('禁止多种API加载方式混用');\n              }\n              config.key = key;\n              config.AMap.version = version || config.AMap.version;\n              config.AMap.plugins = plugins || config.AMap.plugins;\n              Status.AMap = LoadStatus.loading;\n              var parentNode = document.body || document.head;\n              // @ts-ignore\n              window._onAPILoaded = function (err) {\n                // @ts-ignore\n                if (err) {\n                  Status.AMap = LoadStatus.failed;\n                  reject(err);\n                } else {\n                  Status.AMap = LoadStatus.loaded;\n                  resolve(null);\n                }\n              };\n              var script = document.createElement('script');\n              script.type = 'text/javascript';\n              script.async = false;\n              script.src = 'https://webapi.amap.com/maps?callback=_onAPILoaded&v=' + config.AMap.version + '&key=' + key + '&plugin=' + config.AMap.plugins.join(',');\n              script.onerror = function (e) {\n                Status.AMap = LoadStatus.failed;\n                reject(e);\n              };\n              parentNode.appendChild(script);\n            } else if (Status.AMap === LoadStatus.loaded) {\n              // deal multi load\n              if (options.key && options.key !== config.key) {\n                reject('多个不一致的 key');\n                return;\n              }\n              if (options.version && options.version !== config.AMap.version) {\n                reject('不允许多个版本 JSAPI 混用');\n                return;\n              }\n              var newPlugins = [];\n              if (options.plugins) {\n                // @ts-ignore\n                options.plugins.forEach(function (p) {\n                  if (config.AMap.plugins.indexOf(p) === -1) {\n                    newPlugins.push(p);\n                  }\n                });\n              }\n              if (newPlugins.length) {\n                window.AMap.plugin(newPlugins, function () {\n                  resolve(window.AMap);\n                });\n              }\n            } else {\n              // loading\n              if (options.key && options.key !== config.key) {\n                reject('多个不一致的 key');\n                return;\n              }\n              if (options.version && options.version !== config.AMap.version) {\n                reject('不允许多个版本 JSAPI 混用');\n                return;\n              }\n              var _newPlugins = [];\n              if (options.plugins) {\n                // @ts-ignore\n                options.plugins.forEach(function (p) {\n                  if (config.AMap.plugins.indexOf(p) === -1) {\n                    _newPlugins.push(p);\n                  }\n                });\n              }\n              onload(function () {\n                if (_newPlugins.length) {\n                  window.AMap.plugin(_newPlugins, function () {\n                    resolve(window.AMap);\n                  });\n                }\n              });\n            }\n          }));\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function load(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nfunction reset() {\n  // @ts-ignore\n  delete window.AMap;\n  config = {\n    key: '',\n    AMap: {\n      version: '1.4.15',\n      plugins: []\n    }\n  };\n  Status = {\n    AMap: LoadStatus.notload\n  };\n}\nexport default {\n  load: load,\n  reset: reset\n};","map":{"version":3,"names":["_asyncToGenerator","_regeneratorRuntime","window","Error","LoadStatus","config","key","AMap","version","plugins","Status","notload","onloadCBKs","onload","callback","loaded","push","load","_ref","mark","_callee","options","wrap","_callee$","_context","prev","next","abrupt","Promise","resolve","reject","failed","location","host","loading","parentNode","document","body","head","_onAPILoaded","err","script","createElement","type","async","src","join","onerror","e","appendChild","newPlugins","forEach","p","indexOf","length","plugin","_newPlugins","stop","_x","apply","arguments","reset"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-maps/es/utils/amaploader.js"],"sourcesContent":["import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nif (!window) {\n  throw Error('AMap JSAPI can only be used in Browser.');\n}\nvar LoadStatus = /*#__PURE__*/function (LoadStatus) {\n  LoadStatus[\"notload\"] = \"notload\";\n  LoadStatus[\"loading\"] = \"loading\";\n  LoadStatus[\"loaded\"] = \"loaded\";\n  LoadStatus[\"failed\"] = \"failed\";\n  return LoadStatus;\n}(LoadStatus || {});\nvar config = {\n  key: '',\n  AMap: {\n    version: '2.0',\n    plugins: []\n  }\n};\nvar Status = {\n  AMap: LoadStatus.notload\n};\nvar onloadCBKs = [];\n// @ts-ignore\nvar onload = function onload(callback) {\n  if (typeof callback === 'function') {\n    if (Status.AMap === LoadStatus.loaded) {\n      callback(window.AMap);\n      return;\n    }\n    onloadCBKs.push(callback);\n  }\n};\nvar load = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(options) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n            if (Status.AMap === LoadStatus.failed) {\n              reject('');\n            } else if (Status.AMap === LoadStatus.notload) {\n              // 初次加载\n              var key = options.key,\n                version = options.version,\n                plugins = options.plugins;\n              if (!key) {\n                reject('请填写key');\n                return;\n              }\n              if (window.AMap && location.host !== 'lbs.amap.com') {\n                reject('禁止多种API加载方式混用');\n              }\n              config.key = key;\n              config.AMap.version = version || config.AMap.version;\n              config.AMap.plugins = plugins || config.AMap.plugins;\n              Status.AMap = LoadStatus.loading;\n              var parentNode = document.body || document.head;\n              // @ts-ignore\n              window._onAPILoaded = function (err) {\n                // @ts-ignore\n                if (err) {\n                  Status.AMap = LoadStatus.failed;\n                  reject(err);\n                } else {\n                  Status.AMap = LoadStatus.loaded;\n                  resolve(null);\n                }\n              };\n              var script = document.createElement('script');\n              script.type = 'text/javascript';\n              script.async = false;\n              script.src = 'https://webapi.amap.com/maps?callback=_onAPILoaded&v=' + config.AMap.version + '&key=' + key + '&plugin=' + config.AMap.plugins.join(',');\n              script.onerror = function (e) {\n                Status.AMap = LoadStatus.failed;\n                reject(e);\n              };\n              parentNode.appendChild(script);\n            } else if (Status.AMap === LoadStatus.loaded) {\n              // deal multi load\n              if (options.key && options.key !== config.key) {\n                reject('多个不一致的 key');\n                return;\n              }\n              if (options.version && options.version !== config.AMap.version) {\n                reject('不允许多个版本 JSAPI 混用');\n                return;\n              }\n              var newPlugins = [];\n              if (options.plugins) {\n                // @ts-ignore\n                options.plugins.forEach(function (p) {\n                  if (config.AMap.plugins.indexOf(p) === -1) {\n                    newPlugins.push(p);\n                  }\n                });\n              }\n              if (newPlugins.length) {\n                window.AMap.plugin(newPlugins, function () {\n                  resolve(window.AMap);\n                });\n              }\n            } else {\n              // loading\n              if (options.key && options.key !== config.key) {\n                reject('多个不一致的 key');\n                return;\n              }\n              if (options.version && options.version !== config.AMap.version) {\n                reject('不允许多个版本 JSAPI 混用');\n                return;\n              }\n              var _newPlugins = [];\n              if (options.plugins) {\n                // @ts-ignore\n                options.plugins.forEach(function (p) {\n                  if (config.AMap.plugins.indexOf(p) === -1) {\n                    _newPlugins.push(p);\n                  }\n                });\n              }\n              onload(function () {\n                if (_newPlugins.length) {\n                  window.AMap.plugin(_newPlugins, function () {\n                    resolve(window.AMap);\n                  });\n                }\n              });\n            }\n          }));\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function load(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nfunction reset() {\n  // @ts-ignore\n  delete window.AMap;\n  config = {\n    key: '',\n    AMap: {\n      version: '1.4.15',\n      plugins: []\n    }\n  };\n  Status = {\n    AMap: LoadStatus.notload\n  };\n}\nexport default {\n  load: load,\n  reset: reset\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}