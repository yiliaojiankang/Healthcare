{"ast":null,"code":"import { isString } from '@antv/util';\nimport { createDom, modifyCSS } from '@antv/dom-util';\nexport var BACKGROUND_STYLE = {\n  opacity: 0.5,\n  fill: '#000'\n};\nexport var ARROW_STYLE = {\n  opacity: 0.5,\n  fill: '#000',\n  r: 5\n};\nexport var TEXT_STYLE = {\n  fill: '#fff',\n  fontSize: 12\n};\n/**\n * 缩略趋势图\n */\nvar TimeBarTooltip = /** @class */function () {\n  function TimeBarTooltip(cfg) {\n    var _a = cfg.x,\n      x = _a === void 0 ? 0 : _a,\n      _b = cfg.y,\n      y = _b === void 0 ? 0 : _b,\n      container = cfg.container,\n      text = cfg.text,\n      _c = cfg.padding,\n      padding = _c === void 0 ? [4, 4, 4, 4] : _c,\n      _d = cfg.className,\n      className = _d === void 0 ? 'g6-component-timebar-tooltip' : _d,\n      _e = cfg.backgroundColor,\n      backgroundColor = _e === void 0 ? '#000' : _e,\n      _f = cfg.textColor,\n      textColor = _f === void 0 ? '#fff' : _f,\n      _g = cfg.opacity,\n      opacity = _g === void 0 ? 0.8 : _g,\n      _h = cfg.fontSize,\n      fontSize = _h === void 0 ? 12 : _h;\n    this.container = container;\n    this.className = className;\n    this.backgroundColor = backgroundColor;\n    this.textColor = textColor;\n    this.x = x;\n    this.y = y;\n    this.text = text;\n    this.padding = padding;\n    this.opacity = opacity;\n    this.fontSize = fontSize;\n    this.render();\n  }\n  /**\n   * 首次渲染\n   * @private\n   */\n  TimeBarTooltip.prototype.render = function () {\n    var self = this;\n    var className = self.className,\n      x = self.x,\n      y = self.y,\n      backgroundColor = self.backgroundColor,\n      textColor = self.textColor,\n      text = self.text,\n      padding = self.padding,\n      opacity = self.opacity,\n      fontSize = self.fontSize;\n    var parentNode = self.container;\n    var container = createDom(\"<div class='\".concat(className, \"' style=\\\"position: absolute; width: fit-content; height: fit-content; opacity: \").concat(opacity, \"\\\"></div>\"));\n    if (isString(parentNode)) {\n      parentNode = document.getElementById(parentNode);\n    }\n    parentNode.appendChild(container);\n    self.parentHeight = parentNode.offsetHeight;\n    self.parentWidth = parentNode.offsetWidth;\n    modifyCSS(container, {\n      visibility: 'hidden',\n      top: 0,\n      left: 0\n    });\n    var background = createDom(\"\\n      <div style='position: absolute; white-space:nowrap; background-color: \".concat(backgroundColor, \"; font-size: \").concat(fontSize, \"px; border-radius: 4px; width: fit-content; height: fit-content; color: \").concat(textColor, \"; padding: \").concat(padding[0], \"px \").concat(padding[1], \"px \").concat(padding[2], \"px \").concat(padding[3], \"px'></div>\"));\n    background.innerHTML = text;\n    container.appendChild(background);\n    self.backgroundDOM = background;\n    var arrow = createDom(\"<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid \".concat(backgroundColor, \"'></div>\"));\n    container.appendChild(arrow);\n    self.arrowDOM = arrow;\n    self.container = container;\n  };\n  TimeBarTooltip.prototype.show = function (cfg) {\n    var self = this;\n    var text = cfg.text,\n      x = cfg.x,\n      y = cfg.y,\n      clientX = cfg.clientX,\n      clientY = cfg.clientY;\n    self.backgroundDOM.innerHTML = text;\n    var backgroundWidth = self.backgroundDOM.offsetWidth;\n    var backgroundHeight = self.backgroundDOM.offsetHeight;\n    var arrowWidth = self.arrowDOM.offsetWidth;\n    var arrowHeight = self.arrowDOM.offsetHeight;\n    modifyCSS(self.container, {\n      top: \"\".concat(-backgroundHeight - arrowHeight, \"px\"),\n      left: \"\".concat(x, \"px\"),\n      visibility: 'visible'\n    });\n    modifyCSS(self.backgroundDOM, {\n      marginLeft: \"\".concat(-backgroundWidth / 2, \"px\")\n    });\n    modifyCSS(self.arrowDOM, {\n      marginLeft: \"\".concat(-arrowWidth / 2, \"px\"),\n      top: \"\".concat(backgroundHeight, \"px\")\n    });\n    var left = x - backgroundWidth / 2;\n    var right = x + backgroundWidth / 2;\n    if (left < 0) {\n      modifyCSS(self.backgroundDOM, {\n        marginLeft: \"\".concat(-backgroundWidth / 2 - left, \"px\")\n      });\n    } else if (right > self.parentWidth) {\n      modifyCSS(self.backgroundDOM, {\n        marginLeft: \"\".concat(-backgroundWidth / 2 - right + self.parentWidth + 12, \"px\")\n      });\n    }\n  };\n  TimeBarTooltip.prototype.hide = function () {\n    modifyCSS(this.container, {\n      top: 0,\n      left: 0,\n      visibility: 'hidden'\n    });\n  };\n  return TimeBarTooltip;\n}();\nexport default TimeBarTooltip;","map":{"version":3,"names":["isString","createDom","modifyCSS","BACKGROUND_STYLE","opacity","fill","ARROW_STYLE","r","TEXT_STYLE","fontSize","TimeBarTooltip","cfg","_a","x","_b","y","container","text","_c","padding","_d","className","_e","backgroundColor","_f","textColor","_g","_h","render","prototype","self","parentNode","concat","document","getElementById","appendChild","parentHeight","offsetHeight","parentWidth","offsetWidth","visibility","top","left","background","innerHTML","backgroundDOM","arrow","arrowDOM","show","clientX","clientY","backgroundWidth","backgroundHeight","arrowWidth","arrowHeight","marginLeft","right","hide"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/g6-plugin/es/timeBar/timeBarTooltip.js"],"sourcesContent":["import { isString } from '@antv/util';\nimport { createDom, modifyCSS } from '@antv/dom-util';\nexport var BACKGROUND_STYLE = {\n  opacity: 0.5,\n  fill: '#000'\n};\nexport var ARROW_STYLE = {\n  opacity: 0.5,\n  fill: '#000',\n  r: 5\n};\nexport var TEXT_STYLE = {\n  fill: '#fff',\n  fontSize: 12\n};\n/**\n * 缩略趋势图\n */\nvar TimeBarTooltip = /** @class */function () {\n  function TimeBarTooltip(cfg) {\n    var _a = cfg.x,\n      x = _a === void 0 ? 0 : _a,\n      _b = cfg.y,\n      y = _b === void 0 ? 0 : _b,\n      container = cfg.container,\n      text = cfg.text,\n      _c = cfg.padding,\n      padding = _c === void 0 ? [4, 4, 4, 4] : _c,\n      _d = cfg.className,\n      className = _d === void 0 ? 'g6-component-timebar-tooltip' : _d,\n      _e = cfg.backgroundColor,\n      backgroundColor = _e === void 0 ? '#000' : _e,\n      _f = cfg.textColor,\n      textColor = _f === void 0 ? '#fff' : _f,\n      _g = cfg.opacity,\n      opacity = _g === void 0 ? 0.8 : _g,\n      _h = cfg.fontSize,\n      fontSize = _h === void 0 ? 12 : _h;\n    this.container = container;\n    this.className = className;\n    this.backgroundColor = backgroundColor;\n    this.textColor = textColor;\n    this.x = x;\n    this.y = y;\n    this.text = text;\n    this.padding = padding;\n    this.opacity = opacity;\n    this.fontSize = fontSize;\n    this.render();\n  }\n  /**\n   * 首次渲染\n   * @private\n   */\n  TimeBarTooltip.prototype.render = function () {\n    var self = this;\n    var className = self.className,\n      x = self.x,\n      y = self.y,\n      backgroundColor = self.backgroundColor,\n      textColor = self.textColor,\n      text = self.text,\n      padding = self.padding,\n      opacity = self.opacity,\n      fontSize = self.fontSize;\n    var parentNode = self.container;\n    var container = createDom(\"<div class='\".concat(className, \"' style=\\\"position: absolute; width: fit-content; height: fit-content; opacity: \").concat(opacity, \"\\\"></div>\"));\n    if (isString(parentNode)) {\n      parentNode = document.getElementById(parentNode);\n    }\n    parentNode.appendChild(container);\n    self.parentHeight = parentNode.offsetHeight;\n    self.parentWidth = parentNode.offsetWidth;\n    modifyCSS(container, {\n      visibility: 'hidden',\n      top: 0,\n      left: 0\n    });\n    var background = createDom(\"\\n      <div style='position: absolute; white-space:nowrap; background-color: \".concat(backgroundColor, \"; font-size: \").concat(fontSize, \"px; border-radius: 4px; width: fit-content; height: fit-content; color: \").concat(textColor, \"; padding: \").concat(padding[0], \"px \").concat(padding[1], \"px \").concat(padding[2], \"px \").concat(padding[3], \"px'></div>\"));\n    background.innerHTML = text;\n    container.appendChild(background);\n    self.backgroundDOM = background;\n    var arrow = createDom(\"<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid \".concat(backgroundColor, \"'></div>\"));\n    container.appendChild(arrow);\n    self.arrowDOM = arrow;\n    self.container = container;\n  };\n  TimeBarTooltip.prototype.show = function (cfg) {\n    var self = this;\n    var text = cfg.text,\n      x = cfg.x,\n      y = cfg.y,\n      clientX = cfg.clientX,\n      clientY = cfg.clientY;\n    self.backgroundDOM.innerHTML = text;\n    var backgroundWidth = self.backgroundDOM.offsetWidth;\n    var backgroundHeight = self.backgroundDOM.offsetHeight;\n    var arrowWidth = self.arrowDOM.offsetWidth;\n    var arrowHeight = self.arrowDOM.offsetHeight;\n    modifyCSS(self.container, {\n      top: \"\".concat(-backgroundHeight - arrowHeight, \"px\"),\n      left: \"\".concat(x, \"px\"),\n      visibility: 'visible'\n    });\n    modifyCSS(self.backgroundDOM, {\n      marginLeft: \"\".concat(-backgroundWidth / 2, \"px\")\n    });\n    modifyCSS(self.arrowDOM, {\n      marginLeft: \"\".concat(-arrowWidth / 2, \"px\"),\n      top: \"\".concat(backgroundHeight, \"px\")\n    });\n    var left = x - backgroundWidth / 2;\n    var right = x + backgroundWidth / 2;\n    if (left < 0) {\n      modifyCSS(self.backgroundDOM, {\n        marginLeft: \"\".concat(-backgroundWidth / 2 - left, \"px\")\n      });\n    } else if (right > self.parentWidth) {\n      modifyCSS(self.backgroundDOM, {\n        marginLeft: \"\".concat(-backgroundWidth / 2 - right + self.parentWidth + 12, \"px\")\n      });\n    }\n  };\n  TimeBarTooltip.prototype.hide = function () {\n    modifyCSS(this.container, {\n      top: 0,\n      left: 0,\n      visibility: 'hidden'\n    });\n  };\n  return TimeBarTooltip;\n}();\nexport default TimeBarTooltip;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}