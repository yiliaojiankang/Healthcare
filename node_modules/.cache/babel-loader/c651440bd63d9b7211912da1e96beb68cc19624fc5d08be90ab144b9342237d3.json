{"ast":null,"code":"import { __assign, __rest } from \"tslib\";\nimport { mix, isString, deepMix } from '@antv/util';\nimport { registerNode, BaseGlobal as Global } from '@antv/g6-core';\nregisterNode('modelRect', {\n  // 自定义节点时的配置\n  options: {\n    size: [185, 70],\n    style: {\n      radius: 5,\n      stroke: '#69c0ff',\n      fill: '#ffffff',\n      lineWidth: Global.defaultNode.style.lineWidth,\n      fillOpacity: 1\n    },\n    // 文本样式配置\n    labelCfg: {\n      style: {\n        fill: '#595959',\n        fontSize: 14,\n        fontFamily: Global.windowFontFamily\n      },\n      offset: 30 // 距离左侧的 offset，没有设置 y 轴上移动的配置\n    },\n\n    descriptionCfg: {\n      style: {\n        fontSize: 12,\n        fill: '#bfbfbf',\n        fontFamily: Global.windowFontFamily\n      },\n      paddingTop: 0\n    },\n    preRect: {\n      show: true,\n      width: 4,\n      fill: '#40a9ff',\n      radius: 2\n    },\n    // 节点上左右上下四个方向上的链接circle配置\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle的大小\n      size: 10,\n      lineWidth: 1,\n      fill: '#72CC4A',\n      stroke: '#72CC4A'\n    },\n    // 节点中icon配置\n    logoIcon: {\n      // 是否显示icon，值为 false 则不渲染icon\n      show: true,\n      x: 0,\n      y: 0,\n      // icon的地址，字符串类型\n      img: 'https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg',\n      width: 16,\n      height: 16,\n      // 用于调整图标的左右位置\n      offset: 0\n    },\n    // 节点中表示状态的icon配置\n    stateIcon: {\n      // 是否显示icon，值为 false 则不渲染icon\n      show: true,\n      x: 0,\n      y: 0,\n      // icon的地址，字符串类型\n      img: 'https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg',\n      width: 16,\n      height: 16,\n      // 用于调整图标的左右位置\n      offset: -5\n    },\n    // 连接点，默认为左右\n    // anchorPoints: [{ x: 0, y: 0.5 }, { x: 1, y: 0.5 }]\n    anchorPoints: [[0, 0.5], [1, 0.5]]\n  },\n  shapeType: 'modelRect',\n  drawShape: function drawShape(cfg, group) {\n    var _a = (this.mergeStyle || this.getOptions(cfg)).preRect,\n      preRect = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    var keyShape = group.addShape('rect', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      name: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n    group['shapeMap'][\"\".concat(this.type, \"-keyShape\")] = keyShape;\n    var preRectShow = preRect.show,\n      preRectStyle = __rest(preRect, [\"show\"]);\n    if (preRectShow) {\n      group['shapeMap']['pre-rect'] = group.addShape('rect', {\n        attrs: __assign({\n          x: -width / 2,\n          y: -height / 2,\n          height: height\n        }, preRectStyle),\n        className: 'pre-rect',\n        name: 'pre-rect',\n        draggable: true\n      });\n    }\n    this.drawLogoIcon(cfg, group);\n    this.drawStateIcon(cfg, group);\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n  /**\n   * 绘制模型矩形左边的logo图标\n   * @param {Object} cfg 数据配置项\n   * @param {Group} group Group实例\n   */\n  drawLogoIcon: function drawLogoIcon(cfg, group) {\n    var _a = (this.mergeStyle || this.getOptions(cfg)).logoIcon,\n      logoIcon = _a === void 0 ? {} : _a;\n    var size = this.getSize(cfg);\n    var width = size[0];\n    if (logoIcon.show) {\n      var w = logoIcon.width,\n        h = logoIcon.height,\n        x = logoIcon.x,\n        y = logoIcon.y,\n        offset = logoIcon.offset,\n        text = logoIcon.text,\n        logoIconStyle = __rest(logoIcon, [\"width\", \"height\", \"x\", \"y\", \"offset\", \"text\"]);\n      if (text) {\n        group['shapeMap']['rect-logo-icon'] = group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, logoIconStyle),\n          className: 'rect-logo-icon',\n          name: 'rect-logo-icon',\n          draggable: true\n        });\n      } else {\n        group['shapeMap']['rect-logo-icon'] = group.addShape('image', {\n          attrs: __assign(__assign({}, logoIconStyle), {\n            x: x || -width / 2 + w + offset,\n            y: y || -h / 2,\n            width: w,\n            height: h\n          }),\n          className: 'rect-logo-icon',\n          name: 'rect-logo-icon',\n          draggable: true\n        });\n      }\n    }\n  },\n  /**\n   * 绘制模型矩形右边的状态图标\n   * @param {Object} cfg 数据配置项\n   * @param {Group} group Group实例\n   */\n  drawStateIcon: function drawStateIcon(cfg, group) {\n    var _a = (this.mergeStyle || this.getOptions(cfg)).stateIcon,\n      stateIcon = _a === void 0 ? {} : _a;\n    var size = this.getSize(cfg);\n    var width = size[0];\n    if (stateIcon.show) {\n      var w = stateIcon.width,\n        h = stateIcon.height,\n        x = stateIcon.x,\n        y = stateIcon.y,\n        offset = stateIcon.offset,\n        text = stateIcon.text,\n        iconStyle = __rest(stateIcon, [\"width\", \"height\", \"x\", \"y\", \"offset\", \"text\"]);\n      if (text) {\n        group['shapeMap']['rect-state-icon'] = group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, iconStyle),\n          className: 'rect-state-icon',\n          name: 'rect-state-icon',\n          draggable: true\n        });\n      } else {\n        group['shapeMap']['rect-state-icon'] = group.addShape('image', {\n          attrs: __assign(__assign({}, iconStyle), {\n            x: x || width / 2 - w + offset,\n            y: y || -h / 2,\n            width: w,\n            height: h\n          }),\n          className: 'rect-state-icon',\n          name: 'rect-state-icon',\n          draggable: true\n        });\n      }\n    }\n  },\n  /**\n   * 绘制节点上的LinkPoints\n   * @param {Object} cfg data数据配置项\n   * @param {Group} group Group实例\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = (this.mergeStyle || this.getOptions(cfg)).linkPoints,\n      linkPoints = _a === void 0 ? {} : _a;\n    var top = linkPoints.top,\n      left = linkPoints.left,\n      right = linkPoints.right,\n      bottom = linkPoints.bottom,\n      markSize = linkPoints.size,\n      markR = linkPoints.r,\n      markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"bottom\", \"size\", \"r\"]);\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    if (left) {\n      // left circle\n      group['shapeMap']['link-point-left'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: -width / 2,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n    if (right) {\n      // right circle\n      group['shapeMap']['link-point-right'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: width / 2,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n    if (top) {\n      // top circle\n      group['shapeMap']['link-point-top'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: -height / 2,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n    if (bottom) {\n      // bottom circle\n      group['shapeMap']['link-point-bottom'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: height / 2,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-bottom',\n        name: 'link-point-bottom',\n        isAnchorPoint: true\n      });\n    }\n  },\n  drawLabel: function drawLabel(cfg, group) {\n    var _a = this.getOptions(cfg),\n      _b = _a.labelCfg,\n      labelCfg = _b === void 0 ? {} : _b,\n      _c = _a.logoIcon,\n      logoIcon = _c === void 0 ? {} : _c,\n      _d = _a.descriptionCfg,\n      descriptionCfg = _d === void 0 ? {} : _d;\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var label = null;\n    var show = logoIcon.show,\n      w = logoIcon.width;\n    var offsetX = -width / 2 + labelCfg.offset;\n    if (show) {\n      offsetX = -width / 2 + w + labelCfg.offset;\n    }\n    var fontStyle = labelCfg.style;\n    var descriptionStyle = descriptionCfg.style,\n      descriptionPaddingTop = descriptionCfg.paddingTop;\n    if (isString(cfg.description)) {\n      label = group.addShape('text', {\n        attrs: __assign(__assign({}, fontStyle), {\n          x: offsetX,\n          y: -5,\n          text: cfg.label\n        }),\n        className: 'text-shape',\n        name: 'text-shape',\n        draggable: true,\n        labelRelated: true\n      });\n      group['shapeMap']['text-shape'] = label;\n      group['shapeMap']['rect-description'] = group.addShape('text', {\n        attrs: __assign(__assign({}, descriptionStyle), {\n          x: offsetX,\n          y: 17 + (descriptionPaddingTop || 0),\n          text: cfg.description\n        }),\n        className: 'rect-description',\n        name: 'rect-description',\n        draggable: true,\n        labelRelated: true\n      });\n    } else {\n      label = group.addShape('text', {\n        attrs: __assign(__assign({}, fontStyle), {\n          x: offsetX,\n          y: 7,\n          text: cfg.label\n        }),\n        className: 'text-shape',\n        name: 'text-shape',\n        draggable: true,\n        labelRelated: true\n      });\n      group['shapeMap']['text-shape'] = label;\n    }\n    return label;\n  },\n  /**\n   * 获取节点的样式，供基于该节点自定义时使用\n   * @param {Object} cfg 节点数据模型\n   * @return {Object} 节点的样式\n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = (this.mergeStyle || this.getOptions(cfg)).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    };\n    // 如果设置了color，则覆盖默认的stroke属性\n    var style = mix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var width = style.width || size[0];\n    var height = style.height || size[1];\n    var styles = __assign({\n      x: -width / 2,\n      y: -height / 2,\n      width: width,\n      height: height\n    }, style);\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var _a = this.mergeStyle || this.getOptions(cfg),\n      _b = _a.style,\n      style = _b === void 0 ? {} : _b,\n      _c = _a.labelCfg,\n      labelCfg = _c === void 0 ? {} : _c,\n      _d = _a.descriptionCfg,\n      descriptionCfg = _d === void 0 ? {} : _d;\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    var keyShape = item.get('keyShape');\n    keyShape.attr(__assign(__assign({}, style), {\n      x: -width / 2,\n      y: -height / 2,\n      width: width,\n      height: height\n    }));\n    var group = item.getContainer();\n    var logoIconShape = group['shapeMap']['rect-logo-icon'] || group.find(function (element) {\n      return element.get('className') === 'rect-logo-icon';\n    });\n    var currentLogoIconAttr = logoIconShape ? logoIconShape.attr() : {};\n    var logoIcon = mix({}, currentLogoIconAttr, cfg.logoIcon);\n    var w = logoIcon.width;\n    if (w === undefined) {\n      w = this.options.logoIcon.width;\n    }\n    var show = cfg.logoIcon ? cfg.logoIcon.show : undefined;\n    var offset = labelCfg.offset;\n    var offsetX = -width / 2 + w + offset;\n    if (!show && show !== undefined) {\n      offsetX = -width / 2 + offset;\n    }\n    var label = group['shapeMap']['node-label'] || group.find(function (element) {\n      return element.get('className') === 'node-label';\n    });\n    var description = group['shapeMap']['rect-description'] || group.find(function (element) {\n      return element.get('className') === 'rect-description';\n    });\n    if (cfg.label) {\n      if (!label) {\n        group['shapeMap']['node-label'] = group.addShape('text', {\n          attrs: __assign(__assign({}, labelCfg.style), {\n            x: offsetX,\n            y: cfg.description ? -5 : 7,\n            text: cfg.label\n          }),\n          className: 'node-label',\n          name: 'node-label',\n          draggable: true,\n          labelRelated: true\n        });\n      } else {\n        var cfgStyle = cfg.labelCfg ? cfg.labelCfg.style : {};\n        var labelStyle = mix({}, label.attr(), cfgStyle);\n        if (cfg.label) labelStyle.text = cfg.label;\n        labelStyle.x = offsetX;\n        if (isString(cfg.description)) labelStyle.y = -5;\n        if (description) {\n          description.resetMatrix();\n          description.attr({\n            x: offsetX\n          });\n        }\n        label.resetMatrix();\n        label.attr(labelStyle);\n      }\n    }\n    if (isString(cfg.description)) {\n      var paddingTop = descriptionCfg.paddingTop;\n      if (!description) {\n        group['shapeMap']['rect-description'] = group.addShape('text', {\n          attrs: __assign(__assign({}, descriptionCfg.style), {\n            x: offsetX,\n            y: 17 + (paddingTop || 0),\n            text: cfg.description\n          }),\n          className: 'rect-description',\n          name: 'rect-description',\n          draggable: true,\n          labelRelated: true\n        });\n      } else {\n        var cfgStyle = cfg.descriptionCfg ? cfg.descriptionCfg.style : {};\n        var descriptionStyle = mix({}, description.attr(), cfgStyle);\n        if (isString(cfg.description)) descriptionStyle.text = cfg.description;\n        descriptionStyle.x = offsetX;\n        description.resetMatrix();\n        description.attr(__assign(__assign({}, descriptionStyle), {\n          y: 17 + (paddingTop || 0)\n        }));\n      }\n    }\n    var preRectShape = group['shapeMap']['pre-rect'] || group.find(function (element) {\n      return element.get('className') === 'pre-rect';\n    });\n    if (preRectShape && !preRectShape.destroyed) {\n      var preRect = mix({}, preRectShape.attr(), cfg.preRect);\n      preRectShape.attr(__assign(__assign({}, preRect), {\n        x: -width / 2,\n        y: -height / 2,\n        height: height\n      }));\n    }\n    if (logoIconShape && !logoIconShape.destroyed) {\n      if (!show && show !== undefined) {\n        logoIconShape.remove();\n        delete group['shapeMap']['pre-rect'];\n      } else {\n        var logoW = logoIcon.width,\n          h = logoIcon.height,\n          x = logoIcon.x,\n          y = logoIcon.y,\n          logoOffset = logoIcon.offset,\n          logoIconStyle = __rest(logoIcon, [\"width\", \"height\", \"x\", \"y\", \"offset\"]);\n        logoIconShape.attr(__assign(__assign({}, logoIconStyle), {\n          x: x || -width / 2 + logoW + logoOffset,\n          y: y || -h / 2,\n          width: logoW,\n          height: h\n        }));\n      }\n    } else if (show) {\n      this.drawLogoIcon(cfg, group);\n    }\n    var stateIconShape = group['shapeMap']['rect-state-icon'] || group.find(function (element) {\n      return element.get('className') === 'rect-state-icon';\n    });\n    var currentStateIconAttr = stateIconShape ? stateIconShape.attr() : {};\n    var stateIcon = mix({}, currentStateIconAttr, cfg.stateIcon);\n    if (stateIconShape) {\n      if (!stateIcon.show && stateIcon.show !== undefined) {\n        stateIconShape.remove();\n        delete group['shapeMap']['rect-state-icon'];\n      }\n      var stateW = stateIcon.width,\n        h = stateIcon.height,\n        x = stateIcon.x,\n        y = stateIcon.y,\n        stateOffset = stateIcon.offset,\n        stateIconStyle = __rest(stateIcon, [\"width\", \"height\", \"x\", \"y\", \"offset\"]);\n      stateIconShape.attr(__assign(__assign({}, stateIconStyle), {\n        x: x || width / 2 - stateW + stateOffset,\n        y: y || -h / 2,\n        width: stateW,\n        height: h\n      }));\n    } else if (stateIcon.show) {\n      this.drawStateIcon(cfg, group);\n    }\n    this.updateLinkPoints(cfg, group);\n  },\n  getOptions: function getOptions(cfg, updateType) {\n    if (updateType === 'move') return cfg;\n    // different from baseShape, the config should be mixed when the updateType is not 'move'\n    return deepMix({}, this.options, this.getCustomConfig(cfg) || {}, cfg);\n  }\n}, 'single-node');","map":{"version":3,"names":["__assign","__rest","mix","isString","deepMix","registerNode","BaseGlobal","Global","options","size","style","radius","stroke","fill","lineWidth","defaultNode","fillOpacity","labelCfg","fontSize","fontFamily","windowFontFamily","offset","descriptionCfg","paddingTop","preRect","show","width","linkPoints","top","right","bottom","left","logoIcon","x","y","img","height","stateIcon","anchorPoints","shapeType","drawShape","cfg","group","_a","mergeStyle","getOptions","getShapeStyle","getSize","keyShape","addShape","attrs","className","concat","type","name","draggable","preRectShow","preRectStyle","drawLogoIcon","drawStateIcon","drawLinkPoints","w","h","text","logoIconStyle","textBaseline","textAlign","iconStyle","markSize","markR","r","markStyle","isAnchorPoint","drawLabel","_b","_c","_d","label","offsetX","fontStyle","descriptionStyle","descriptionPaddingTop","description","labelRelated","defaultStyle","strokeStyle","color","styles","update","item","get","attr","getContainer","logoIconShape","find","element","currentLogoIconAttr","undefined","cfgStyle","labelStyle","resetMatrix","preRectShape","destroyed","remove","logoW","logoOffset","stateIconShape","currentStateIconAttr","stateW","stateOffset","stateIconStyle","updateLinkPoints","updateType","getCustomConfig"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/g6-element/es/nodes/modelRect.js"],"sourcesContent":["import { __assign, __rest } from \"tslib\";\nimport { mix, isString, deepMix } from '@antv/util';\nimport { registerNode, BaseGlobal as Global } from '@antv/g6-core';\nregisterNode('modelRect', {\n  // 自定义节点时的配置\n  options: {\n    size: [185, 70],\n    style: {\n      radius: 5,\n      stroke: '#69c0ff',\n      fill: '#ffffff',\n      lineWidth: Global.defaultNode.style.lineWidth,\n      fillOpacity: 1\n    },\n    // 文本样式配置\n    labelCfg: {\n      style: {\n        fill: '#595959',\n        fontSize: 14,\n        fontFamily: Global.windowFontFamily\n      },\n      offset: 30 // 距离左侧的 offset，没有设置 y 轴上移动的配置\n    },\n\n    descriptionCfg: {\n      style: {\n        fontSize: 12,\n        fill: '#bfbfbf',\n        fontFamily: Global.windowFontFamily\n      },\n      paddingTop: 0\n    },\n    preRect: {\n      show: true,\n      width: 4,\n      fill: '#40a9ff',\n      radius: 2\n    },\n    // 节点上左右上下四个方向上的链接circle配置\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle的大小\n      size: 10,\n      lineWidth: 1,\n      fill: '#72CC4A',\n      stroke: '#72CC4A'\n    },\n    // 节点中icon配置\n    logoIcon: {\n      // 是否显示icon，值为 false 则不渲染icon\n      show: true,\n      x: 0,\n      y: 0,\n      // icon的地址，字符串类型\n      img: 'https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg',\n      width: 16,\n      height: 16,\n      // 用于调整图标的左右位置\n      offset: 0\n    },\n    // 节点中表示状态的icon配置\n    stateIcon: {\n      // 是否显示icon，值为 false 则不渲染icon\n      show: true,\n      x: 0,\n      y: 0,\n      // icon的地址，字符串类型\n      img: 'https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg',\n      width: 16,\n      height: 16,\n      // 用于调整图标的左右位置\n      offset: -5\n    },\n    // 连接点，默认为左右\n    // anchorPoints: [{ x: 0, y: 0.5 }, { x: 1, y: 0.5 }]\n    anchorPoints: [[0, 0.5], [1, 0.5]]\n  },\n  shapeType: 'modelRect',\n  drawShape: function drawShape(cfg, group) {\n    var _a = (this.mergeStyle || this.getOptions(cfg)).preRect,\n      preRect = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    var keyShape = group.addShape('rect', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      name: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n    group['shapeMap'][\"\".concat(this.type, \"-keyShape\")] = keyShape;\n    var preRectShow = preRect.show,\n      preRectStyle = __rest(preRect, [\"show\"]);\n    if (preRectShow) {\n      group['shapeMap']['pre-rect'] = group.addShape('rect', {\n        attrs: __assign({\n          x: -width / 2,\n          y: -height / 2,\n          height: height\n        }, preRectStyle),\n        className: 'pre-rect',\n        name: 'pre-rect',\n        draggable: true\n      });\n    }\n    this.drawLogoIcon(cfg, group);\n    this.drawStateIcon(cfg, group);\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n  /**\n   * 绘制模型矩形左边的logo图标\n   * @param {Object} cfg 数据配置项\n   * @param {Group} group Group实例\n   */\n  drawLogoIcon: function drawLogoIcon(cfg, group) {\n    var _a = (this.mergeStyle || this.getOptions(cfg)).logoIcon,\n      logoIcon = _a === void 0 ? {} : _a;\n    var size = this.getSize(cfg);\n    var width = size[0];\n    if (logoIcon.show) {\n      var w = logoIcon.width,\n        h = logoIcon.height,\n        x = logoIcon.x,\n        y = logoIcon.y,\n        offset = logoIcon.offset,\n        text = logoIcon.text,\n        logoIconStyle = __rest(logoIcon, [\"width\", \"height\", \"x\", \"y\", \"offset\", \"text\"]);\n      if (text) {\n        group['shapeMap']['rect-logo-icon'] = group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, logoIconStyle),\n          className: 'rect-logo-icon',\n          name: 'rect-logo-icon',\n          draggable: true\n        });\n      } else {\n        group['shapeMap']['rect-logo-icon'] = group.addShape('image', {\n          attrs: __assign(__assign({}, logoIconStyle), {\n            x: x || -width / 2 + w + offset,\n            y: y || -h / 2,\n            width: w,\n            height: h\n          }),\n          className: 'rect-logo-icon',\n          name: 'rect-logo-icon',\n          draggable: true\n        });\n      }\n    }\n  },\n  /**\n   * 绘制模型矩形右边的状态图标\n   * @param {Object} cfg 数据配置项\n   * @param {Group} group Group实例\n   */\n  drawStateIcon: function drawStateIcon(cfg, group) {\n    var _a = (this.mergeStyle || this.getOptions(cfg)).stateIcon,\n      stateIcon = _a === void 0 ? {} : _a;\n    var size = this.getSize(cfg);\n    var width = size[0];\n    if (stateIcon.show) {\n      var w = stateIcon.width,\n        h = stateIcon.height,\n        x = stateIcon.x,\n        y = stateIcon.y,\n        offset = stateIcon.offset,\n        text = stateIcon.text,\n        iconStyle = __rest(stateIcon, [\"width\", \"height\", \"x\", \"y\", \"offset\", \"text\"]);\n      if (text) {\n        group['shapeMap']['rect-state-icon'] = group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, iconStyle),\n          className: 'rect-state-icon',\n          name: 'rect-state-icon',\n          draggable: true\n        });\n      } else {\n        group['shapeMap']['rect-state-icon'] = group.addShape('image', {\n          attrs: __assign(__assign({}, iconStyle), {\n            x: x || width / 2 - w + offset,\n            y: y || -h / 2,\n            width: w,\n            height: h\n          }),\n          className: 'rect-state-icon',\n          name: 'rect-state-icon',\n          draggable: true\n        });\n      }\n    }\n  },\n  /**\n   * 绘制节点上的LinkPoints\n   * @param {Object} cfg data数据配置项\n   * @param {Group} group Group实例\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = (this.mergeStyle || this.getOptions(cfg)).linkPoints,\n      linkPoints = _a === void 0 ? {} : _a;\n    var top = linkPoints.top,\n      left = linkPoints.left,\n      right = linkPoints.right,\n      bottom = linkPoints.bottom,\n      markSize = linkPoints.size,\n      markR = linkPoints.r,\n      markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"bottom\", \"size\", \"r\"]);\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    if (left) {\n      // left circle\n      group['shapeMap']['link-point-left'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: -width / 2,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n    if (right) {\n      // right circle\n      group['shapeMap']['link-point-right'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: width / 2,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n    if (top) {\n      // top circle\n      group['shapeMap']['link-point-top'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: -height / 2,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n    if (bottom) {\n      // bottom circle\n      group['shapeMap']['link-point-bottom'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: height / 2,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-bottom',\n        name: 'link-point-bottom',\n        isAnchorPoint: true\n      });\n    }\n  },\n  drawLabel: function drawLabel(cfg, group) {\n    var _a = this.getOptions(cfg),\n      _b = _a.labelCfg,\n      labelCfg = _b === void 0 ? {} : _b,\n      _c = _a.logoIcon,\n      logoIcon = _c === void 0 ? {} : _c,\n      _d = _a.descriptionCfg,\n      descriptionCfg = _d === void 0 ? {} : _d;\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var label = null;\n    var show = logoIcon.show,\n      w = logoIcon.width;\n    var offsetX = -width / 2 + labelCfg.offset;\n    if (show) {\n      offsetX = -width / 2 + w + labelCfg.offset;\n    }\n    var fontStyle = labelCfg.style;\n    var descriptionStyle = descriptionCfg.style,\n      descriptionPaddingTop = descriptionCfg.paddingTop;\n    if (isString(cfg.description)) {\n      label = group.addShape('text', {\n        attrs: __assign(__assign({}, fontStyle), {\n          x: offsetX,\n          y: -5,\n          text: cfg.label\n        }),\n        className: 'text-shape',\n        name: 'text-shape',\n        draggable: true,\n        labelRelated: true\n      });\n      group['shapeMap']['text-shape'] = label;\n      group['shapeMap']['rect-description'] = group.addShape('text', {\n        attrs: __assign(__assign({}, descriptionStyle), {\n          x: offsetX,\n          y: 17 + (descriptionPaddingTop || 0),\n          text: cfg.description\n        }),\n        className: 'rect-description',\n        name: 'rect-description',\n        draggable: true,\n        labelRelated: true\n      });\n    } else {\n      label = group.addShape('text', {\n        attrs: __assign(__assign({}, fontStyle), {\n          x: offsetX,\n          y: 7,\n          text: cfg.label\n        }),\n        className: 'text-shape',\n        name: 'text-shape',\n        draggable: true,\n        labelRelated: true\n      });\n      group['shapeMap']['text-shape'] = label;\n    }\n    return label;\n  },\n  /**\n   * 获取节点的样式，供基于该节点自定义时使用\n   * @param {Object} cfg 节点数据模型\n   * @return {Object} 节点的样式\n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = (this.mergeStyle || this.getOptions(cfg)).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    };\n    // 如果设置了color，则覆盖默认的stroke属性\n    var style = mix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var width = style.width || size[0];\n    var height = style.height || size[1];\n    var styles = __assign({\n      x: -width / 2,\n      y: -height / 2,\n      width: width,\n      height: height\n    }, style);\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var _a = this.mergeStyle || this.getOptions(cfg),\n      _b = _a.style,\n      style = _b === void 0 ? {} : _b,\n      _c = _a.labelCfg,\n      labelCfg = _c === void 0 ? {} : _c,\n      _d = _a.descriptionCfg,\n      descriptionCfg = _d === void 0 ? {} : _d;\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    var keyShape = item.get('keyShape');\n    keyShape.attr(__assign(__assign({}, style), {\n      x: -width / 2,\n      y: -height / 2,\n      width: width,\n      height: height\n    }));\n    var group = item.getContainer();\n    var logoIconShape = group['shapeMap']['rect-logo-icon'] || group.find(function (element) {\n      return element.get('className') === 'rect-logo-icon';\n    });\n    var currentLogoIconAttr = logoIconShape ? logoIconShape.attr() : {};\n    var logoIcon = mix({}, currentLogoIconAttr, cfg.logoIcon);\n    var w = logoIcon.width;\n    if (w === undefined) {\n      w = this.options.logoIcon.width;\n    }\n    var show = cfg.logoIcon ? cfg.logoIcon.show : undefined;\n    var offset = labelCfg.offset;\n    var offsetX = -width / 2 + w + offset;\n    if (!show && show !== undefined) {\n      offsetX = -width / 2 + offset;\n    }\n    var label = group['shapeMap']['node-label'] || group.find(function (element) {\n      return element.get('className') === 'node-label';\n    });\n    var description = group['shapeMap']['rect-description'] || group.find(function (element) {\n      return element.get('className') === 'rect-description';\n    });\n    if (cfg.label) {\n      if (!label) {\n        group['shapeMap']['node-label'] = group.addShape('text', {\n          attrs: __assign(__assign({}, labelCfg.style), {\n            x: offsetX,\n            y: cfg.description ? -5 : 7,\n            text: cfg.label\n          }),\n          className: 'node-label',\n          name: 'node-label',\n          draggable: true,\n          labelRelated: true\n        });\n      } else {\n        var cfgStyle = cfg.labelCfg ? cfg.labelCfg.style : {};\n        var labelStyle = mix({}, label.attr(), cfgStyle);\n        if (cfg.label) labelStyle.text = cfg.label;\n        labelStyle.x = offsetX;\n        if (isString(cfg.description)) labelStyle.y = -5;\n        if (description) {\n          description.resetMatrix();\n          description.attr({\n            x: offsetX\n          });\n        }\n        label.resetMatrix();\n        label.attr(labelStyle);\n      }\n    }\n    if (isString(cfg.description)) {\n      var paddingTop = descriptionCfg.paddingTop;\n      if (!description) {\n        group['shapeMap']['rect-description'] = group.addShape('text', {\n          attrs: __assign(__assign({}, descriptionCfg.style), {\n            x: offsetX,\n            y: 17 + (paddingTop || 0),\n            text: cfg.description\n          }),\n          className: 'rect-description',\n          name: 'rect-description',\n          draggable: true,\n          labelRelated: true\n        });\n      } else {\n        var cfgStyle = cfg.descriptionCfg ? cfg.descriptionCfg.style : {};\n        var descriptionStyle = mix({}, description.attr(), cfgStyle);\n        if (isString(cfg.description)) descriptionStyle.text = cfg.description;\n        descriptionStyle.x = offsetX;\n        description.resetMatrix();\n        description.attr(__assign(__assign({}, descriptionStyle), {\n          y: 17 + (paddingTop || 0)\n        }));\n      }\n    }\n    var preRectShape = group['shapeMap']['pre-rect'] || group.find(function (element) {\n      return element.get('className') === 'pre-rect';\n    });\n    if (preRectShape && !preRectShape.destroyed) {\n      var preRect = mix({}, preRectShape.attr(), cfg.preRect);\n      preRectShape.attr(__assign(__assign({}, preRect), {\n        x: -width / 2,\n        y: -height / 2,\n        height: height\n      }));\n    }\n    if (logoIconShape && !logoIconShape.destroyed) {\n      if (!show && show !== undefined) {\n        logoIconShape.remove();\n        delete group['shapeMap']['pre-rect'];\n      } else {\n        var logoW = logoIcon.width,\n          h = logoIcon.height,\n          x = logoIcon.x,\n          y = logoIcon.y,\n          logoOffset = logoIcon.offset,\n          logoIconStyle = __rest(logoIcon, [\"width\", \"height\", \"x\", \"y\", \"offset\"]);\n        logoIconShape.attr(__assign(__assign({}, logoIconStyle), {\n          x: x || -width / 2 + logoW + logoOffset,\n          y: y || -h / 2,\n          width: logoW,\n          height: h\n        }));\n      }\n    } else if (show) {\n      this.drawLogoIcon(cfg, group);\n    }\n    var stateIconShape = group['shapeMap']['rect-state-icon'] || group.find(function (element) {\n      return element.get('className') === 'rect-state-icon';\n    });\n    var currentStateIconAttr = stateIconShape ? stateIconShape.attr() : {};\n    var stateIcon = mix({}, currentStateIconAttr, cfg.stateIcon);\n    if (stateIconShape) {\n      if (!stateIcon.show && stateIcon.show !== undefined) {\n        stateIconShape.remove();\n        delete group['shapeMap']['rect-state-icon'];\n      }\n      var stateW = stateIcon.width,\n        h = stateIcon.height,\n        x = stateIcon.x,\n        y = stateIcon.y,\n        stateOffset = stateIcon.offset,\n        stateIconStyle = __rest(stateIcon, [\"width\", \"height\", \"x\", \"y\", \"offset\"]);\n      stateIconShape.attr(__assign(__assign({}, stateIconStyle), {\n        x: x || width / 2 - stateW + stateOffset,\n        y: y || -h / 2,\n        width: stateW,\n        height: h\n      }));\n    } else if (stateIcon.show) {\n      this.drawStateIcon(cfg, group);\n    }\n    this.updateLinkPoints(cfg, group);\n  },\n  getOptions: function getOptions(cfg, updateType) {\n    if (updateType === 'move') return cfg;\n    // different from baseShape, the config should be mixed when the updateType is not 'move'\n    return deepMix({}, this.options, this.getCustomConfig(cfg) || {}, cfg);\n  }\n}, 'single-node');"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}