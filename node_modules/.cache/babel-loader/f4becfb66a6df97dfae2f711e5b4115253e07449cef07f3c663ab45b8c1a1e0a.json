{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { InteractionAction } from '@antv/g2';\nimport { each, findIndex } from '@antv/util';\nvar MarkerActiveAction = /** @class */function (_super) {\n  __extends(MarkerActiveAction, _super);\n  function MarkerActiveAction() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  MarkerActiveAction.prototype.active = function () {\n    var view = this.getView();\n    var evt = this.context.event;\n    if (evt.data) {\n      // items: 数组对象，当前 tooltip 显示的每条内容\n      var items_1 = evt.data.items;\n      var points = view.geometries.filter(function (geom) {\n        return geom.type === 'point';\n      });\n      each(points, function (point) {\n        each(point.elements, function (element) {\n          var active = findIndex(items_1, function (item) {\n            return item.data === element.data;\n          }) !== -1;\n          element.setState('active', active);\n        });\n      });\n    }\n  };\n  MarkerActiveAction.prototype.reset = function () {\n    var view = this.getView();\n    var points = view.geometries.filter(function (geom) {\n      return geom.type === 'point';\n    });\n    each(points, function (point) {\n      each(point.elements, function (element) {\n        element.setState('active', false);\n      });\n    });\n  };\n  MarkerActiveAction.prototype.getView = function () {\n    return this.context.view;\n  };\n  return MarkerActiveAction;\n}(InteractionAction);\nexport { MarkerActiveAction };","map":{"version":3,"names":["InteractionAction","each","findIndex","MarkerActiveAction","_super","__extends","prototype","active","view","getView","evt","context","event","data","items_1","items","points","geometries","filter","geom","type","point","elements","element","item","setState","reset"],"sources":["../../../../src/plots/line/interactions/marker-active.ts"],"sourcesContent":["import { Geometry, InteractionAction, View } from '@antv/g2';\nimport { each, findIndex } from '@antv/util';\n\nexport class MarkerActiveAction extends InteractionAction {\n  public active() {\n    const view = this.getView();\n    const evt = this.context.event;\n    if (evt.data) {\n      // items: 数组对象，当前 tooltip 显示的每条内容\n      const { items } = evt.data;\n      const points = view.geometries.filter((geom) => geom.type === 'point');\n      each(points, (point: Geometry) => {\n        each(point.elements, (element) => {\n          const active = findIndex(items, (item) => (item as any).data === element.data) !== -1;\n          element.setState('active', active);\n        });\n      });\n    }\n  }\n\n  public reset() {\n    const view = this.getView();\n    const points = view.geometries.filter((geom) => geom.type === 'point');\n    each(points, (point: Geometry) => {\n      each(point.elements, (element) => {\n        element.setState('active', false);\n      });\n    });\n  }\n\n  private getView(): View {\n    return this.context.view;\n  }\n}\n"],"mappings":";AAAA,SAAmBA,iBAAiB,QAAc,UAAU;AAC5D,SAASC,IAAI,EAAEC,SAAS,QAAQ,YAAY;AAE5C,IAAAC,kBAAA,0BAAAC,MAAA;EAAwCC,SAAA,CAAAF,kBAAA,EAAAC,MAAA;EAAxC,SAAAD,mBAAA;;EA8BA;EA7BSA,kBAAA,CAAAG,SAAA,CAAAC,MAAM,GAAb;IACE,IAAMC,IAAI,GAAG,IAAI,CAACC,OAAO,EAAE;IAC3B,IAAMC,GAAG,GAAG,IAAI,CAACC,OAAO,CAACC,KAAK;IAC9B,IAAIF,GAAG,CAACG,IAAI,EAAE;MACZ;MACQ,IAAAC,OAAK,GAAKJ,GAAG,CAACG,IAAI,CAAAE,KAAb;MACb,IAAMC,MAAM,GAAGR,IAAI,CAACS,UAAU,CAACC,MAAM,CAAC,UAACC,IAAI;QAAK,OAAAA,IAAI,CAACC,IAAI,KAAK,OAAO;MAArB,CAAqB,CAAC;MACtEnB,IAAI,CAACe,MAAM,EAAE,UAACK,KAAe;QAC3BpB,IAAI,CAACoB,KAAK,CAACC,QAAQ,EAAE,UAACC,OAAO;UAC3B,IAAMhB,MAAM,GAAGL,SAAS,CAACY,OAAK,EAAE,UAACU,IAAI;YAAK,OAACA,IAAY,CAACX,IAAI,KAAKU,OAAO,CAACV,IAAI;UAAnC,CAAmC,CAAC,KAAK,CAAC,CAAC;UACrFU,OAAO,CAACE,QAAQ,CAAC,QAAQ,EAAElB,MAAM,CAAC;QACpC,CAAC,CAAC;MACJ,CAAC,CAAC;;EAEN,CAAC;EAEMJ,kBAAA,CAAAG,SAAA,CAAAoB,KAAK,GAAZ;IACE,IAAMlB,IAAI,GAAG,IAAI,CAACC,OAAO,EAAE;IAC3B,IAAMO,MAAM,GAAGR,IAAI,CAACS,UAAU,CAACC,MAAM,CAAC,UAACC,IAAI;MAAK,OAAAA,IAAI,CAACC,IAAI,KAAK,OAAO;IAArB,CAAqB,CAAC;IACtEnB,IAAI,CAACe,MAAM,EAAE,UAACK,KAAe;MAC3BpB,IAAI,CAACoB,KAAK,CAACC,QAAQ,EAAE,UAACC,OAAO;QAC3BA,OAAO,CAACE,QAAQ,CAAC,QAAQ,EAAE,KAAK,CAAC;MACnC,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EAEOtB,kBAAA,CAAAG,SAAA,CAAAG,OAAO,GAAf;IACE,OAAO,IAAI,CAACE,OAAO,CAACH,IAAI;EAC1B,CAAC;EACH,OAAAL,kBAAC;AAAD,CAAC,CA9BuCH,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}