{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _excluded = [\"id\", \"mapInstance\", \"center\", \"token\", \"version\", \"minZoom\", \"maxZoom\", \"logoVisible\", \"zoom\"];\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nimport BaseMapService from \"../utils/BaseMapService\";\nimport { MapServiceEvent } from '@antv/l7-core';\nimport { MercatorCoordinate } from '@antv/l7-map';\nimport Viewport from \"../utils/Viewport\";\nimport { load } from \"./maploader\";\nvar mapdivCount = 0;\nvar EventMap = {\n  camerachange: ['move']\n};\nvar TdtMapService = /*#__PURE__*/function (_BaseMapService) {\n  _inherits(TdtMapService, _BaseMapService);\n  var _super = _createSuper(TdtMapService);\n  function TdtMapService() {\n    var _this;\n    _classCallCheck(this, TdtMapService);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"viewport\", null);\n    _defineProperty(_assertThisInitialized(_this), \"evtCbProxyMap\", new Map());\n    _defineProperty(_assertThisInitialized(_this), \"handleCameraChanged\", function (e) {\n      _this.emit('mapchange');\n      // console.log('mapchange');\n      var map = _this.map;\n      var _this$map$getCenter = _this.map.getCenter(),\n        lng = _this$map$getCenter.lng,\n        lat = _this$map$getCenter.lat;\n      var option = {\n        center: [lng, lat],\n        // @ts-ignore\n        viewportHeight: map.getContainer().clientHeight,\n        // @ts-ignore\n        viewportWidth: map.getContainer().clientWidth,\n        // @ts-ignore\n        bearing: 360,\n        // @ts-ignore\n        pitch: 0,\n        // @ts-ignore\n        zoom: map.getZoom() - 1\n      };\n      if (_this.viewport) {\n        _this.viewport.syncWithMapCamera(option);\n        _this.updateCoordinateSystemService();\n        _this.cameraChangedCallback(_this.viewport);\n      }\n    });\n    return _this;\n  }\n  _createClass(TdtMapService, [{\n    key: \"addMarkerContainer\",\n    value:\n    // @ts-ignore\n\n    // 不直接用自带的marker的div，因为会收到天地图缩放时visibility变成hidden的影响\n    function addMarkerContainer() {\n      var container = this.map.getContainer();\n      var div = this.markerContainer = document.createElement('div');\n      container.appendChild(div);\n      // div.classList.add('l7-marker-container');\n      // div.classList.add('leaflet-layer');\n      // div.classList.add('leaflet-zoom-animated');\n      div.setAttribute('tabindex', '-1');\n      div.id = 'tdt-L7-marker';\n      div.style.position = 'absolute';\n      div.style.left = '0px';\n      div.style.top = '0px';\n      div.style.zIndex = '600';\n      div.style.width = '100%';\n      div.style.height = '100%';\n      div.style.overflow = 'visible';\n      return;\n    }\n  }, {\n    key: \"getMarkerContainer\",\n    value: function getMarkerContainer() {\n      return this.markerContainer;\n    }\n  }, {\n    key: \"onCameraChanged\",\n    value: function onCameraChanged(callback) {\n      this.cameraChangedCallback = callback;\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(ev) {\n      this.sceneContainer.style.width = ev.newSize.x + 'px';\n      this.sceneContainer.style.height = ev.newSize.y + 'px';\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var bounds = this.map.getBounds();\n      var _this$map$lngLatToLay = this.map.lngLatToLayerPoint({\n          lng: bounds.getSouthWest().lng,\n          lat: bounds.getNorthEast().lat\n        }),\n        x = _this$map$lngLatToLay.x,\n        y = _this$map$lngLatToLay.y;\n      this.sceneContainer.style.transition = '';\n      this.sceneContainer.style.transformOrigin = 'center';\n      this.sceneContainer.style.transform = \"translate3d(\".concat(x, \"px, \").concat(y, \"px, 0px) scale(1)\");\n      // @ts-ignore\n      this.sceneContainer._tdt_pos = new T.Point(x, y);\n      this.handleCameraChanged();\n    }\n  }, {\n    key: \"getZoomScale\",\n    value: function getZoomScale(toZoom, fromZoom) {\n      // TODO replace with universal implementation after refactoring projections\n      var crs = this.map.options.IW;\n      fromZoom = fromZoom === undefined ? this.map.getZoom() : fromZoom;\n      return crs.scale(toZoom) / crs.scale(fromZoom);\n    }\n  }, {\n    key: \"zoomStartUpdate\",\n    value: function zoomStartUpdate(ev) {\n      // T._Q :DomUtil\n      // this.map.options.IW.qW:map.project\n      // GQ:multiply aQ:add DQ:substract\n      // 都是混淆后的方法,后续需要考虑讲这些方法都实现了,避免api更新后方法名发生改变\n      var center = ev.center;\n      var zoom = ev.zoom;\n      var scale = this.getZoomScale(zoom, this.map.getZoom());\n\n      // @ts-ignore\n      var position = T._Q.getPosition(this.sceneContainer);\n      var viewHalf = this.map.getSize().GQ(0.5);\n      var currentCenterPoint = this.map.options.IW.qW(this.map.getCenter(), zoom);\n      var destCenterPoint = this.map.options.IW.qW(center, zoom);\n      var centerOffset = destCenterPoint.DQ(currentCenterPoint);\n      // @ts-ignore\n      var topLeftOffset = new T.Point(viewHalf.x, viewHalf.y).GQ(-scale);\n      topLeftOffset.aQ(position);\n      topLeftOffset.aQ(viewHalf);\n      topLeftOffset.DQ(centerOffset);\n      this.sceneContainer.style.transform = \"translate3d(\".concat(topLeftOffset.x, \"px,\").concat(topLeftOffset.y, \"px,0px) scale(\").concat(scale, \")\");\n      this.sceneContainer.style.transformOrigin = '0 0';\n      this.sceneContainer.style.transition = 'transform 0.25s cubic-bezier(0,0,0.25,1)';\n      this.handleCameraChanged();\n    }\n  }, {\n    key: \"getOverlayContainer\",\n    value: function getOverlayContainer() {\n      var _this$map$getPanes;\n      var overlayPane = (_this$map$getPanes = this.map.getPanes()) === null || _this$map$getPanes === void 0 ? void 0 : _this$map$getPanes.overlayPane;\n      var container = document.createElement('div');\n      overlayPane.parentElement.appendChild(container);\n      container.id = 'tdt-L7';\n      var size = this.map.getSize();\n      container.style.zIndex = '200'; //置于上层\n      container.style.width = \"\".concat(size.x, \"px\");\n      container.style.height = \"\".concat(size.y, \"px\");\n      // @ts-ignore\n      this.sceneContainer = container;\n      return container;\n    }\n  }, {\n    key: \"init\",\n    value: function () {\n      var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _this$config, id, mapInstance, _this$config$center, center, _this$config$token, token, _this$config$version, version, _this$config$minZoom, minZoom, _this$config$maxZoom, maxZoom, _this$config$logoVisi, logoVisible, _this$config$zoom, zoom, rest, point, map, control, container, tdtPanes;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              this.viewport = new Viewport();\n              _this$config = this.config, id = _this$config.id, mapInstance = _this$config.mapInstance, _this$config$center = _this$config.center, center = _this$config$center === void 0 ? [121.30654632240122, 31.25744185633306] : _this$config$center, _this$config$token = _this$config.token, token = _this$config$token === void 0 ? 'b15e548080c79819617367d3f6095c69' : _this$config$token, _this$config$version = _this$config.version, version = _this$config$version === void 0 ? '4.0' : _this$config$version, _this$config$minZoom = _this$config.minZoom, minZoom = _this$config$minZoom === void 0 ? 1 : _this$config$minZoom, _this$config$maxZoom = _this$config.maxZoom, maxZoom = _this$config$maxZoom === void 0 ? 18 : _this$config$maxZoom, _this$config$logoVisi = _this$config.logoVisible, logoVisible = _this$config$logoVisi === void 0 ? true : _this$config$logoVisi, _this$config$zoom = _this$config.zoom, zoom = _this$config$zoom === void 0 ? 3 : _this$config$zoom, rest = _objectWithoutProperties(_this$config, _excluded); // @ts-ignore\n              if (window.T) {\n                _context.next = 5;\n                break;\n              }\n              _context.next = 5;\n              return load({\n                tk: token\n              });\n            case 5:\n              if (!mapInstance) {\n                _context.next = 15;\n                break;\n              }\n              this.map = mapInstance;\n              // @ts-ignore\n              this.map.centerAndZoom(new window.T.LngLat(center[0], center[1]), zoom);\n              this.$mapContainer = this.map.getContainer();\n\n              // @ts-ignore\n              point = new window.T.LngLat(center[0], center[1]);\n              this.map.centerAndZoom(point, zoom);\n              this.setMinZoom(minZoom);\n              this.setMaxZoom(maxZoom);\n              _context.next = 22;\n              break;\n            case 15:\n              if (id) {\n                _context.next = 17;\n                break;\n              }\n              throw Error('No container id specified');\n            case 17:\n              this.$mapContainer = this.creatMapContainer(id);\n              // @ts-ignore\n              map = new T.Map(this.$mapContainer, {\n                // @ts-ignore\n                center: window.T.LngLat(center[0], center[1]),\n                minZoom: minZoom,\n                maxZoom: maxZoom,\n                zoom: zoom,\n                projection: 'EPSG:900913'\n              });\n              this.map = map;\n              // @ts-ignore\n              control = new window.T.Control.Zoom();\n              map.addControl(control);\n            case 22:\n              container = this.map.getContainer();\n              tdtPanes = container.querySelector('.tdt-pane');\n              tdtPanes.style.zIndex = 1;\n              this.handleCameraChanged();\n              this.map.on('move', this.update, this);\n              //对应leaflet中的zoomanim\n              this.map.on('Ge', this.zoomStartUpdate, this);\n              this.map.on('resize', this.resize, this);\n            case 29:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function init() {\n        return _init.apply(this, arguments);\n      }\n      return init;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      return;\n    }\n\n    // MapEvent\n  }, {\n    key: \"on\",\n    value: function on(type, handle) {\n      var _this2 = this;\n      if (MapServiceEvent.indexOf(type) !== -1) {\n        this.eventEmitter.on(type, handle);\n      } else {\n        var onProxy = function onProxy(eventName) {\n          var cbProxyMap = _this2.evtCbProxyMap.get(eventName);\n          if (!cbProxyMap) {\n            _this2.evtCbProxyMap.set(eventName, cbProxyMap = new Map());\n          }\n          if (cbProxyMap.get(handle)) {\n            return;\n          }\n          var handleProxy = function handleProxy() {\n            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n              args[_key2] = arguments[_key2];\n            }\n            if (args[0] && _typeof(args[0]) === 'object' && !args[0].lngLat && !args[0].lnglat) {\n              args[0].lngLat = args[0].latlng || args[0].latLng;\n            }\n            handle.apply(void 0, args);\n          };\n          cbProxyMap.set(handle, handleProxy);\n          _this2.map.on(eventName, handleProxy);\n        };\n        if (Array.isArray(EventMap[type])) {\n          EventMap[type].forEach(function (eventName) {\n            onProxy(eventName || type);\n          });\n        } else {\n          onProxy(EventMap[type] || type);\n        }\n      }\n    }\n  }, {\n    key: \"off\",\n    value: function off(type, handle) {\n      var _this3 = this;\n      if (MapServiceEvent.indexOf(type) !== -1) {\n        this.eventEmitter.off(type, handle);\n        return;\n      }\n      var offProxy = function offProxy(eventName) {\n        var _this3$evtCbProxyMap$, _this3$evtCbProxyMap$2;\n        var handleProxy = (_this3$evtCbProxyMap$ = _this3.evtCbProxyMap.get(type)) === null || _this3$evtCbProxyMap$ === void 0 ? void 0 : _this3$evtCbProxyMap$.get(handle);\n        if (!handleProxy) {\n          return;\n        }\n        (_this3$evtCbProxyMap$2 = _this3.evtCbProxyMap.get(eventName)) === null || _this3$evtCbProxyMap$2 === void 0 || _this3$evtCbProxyMap$2.delete(handle);\n        _this3.map.off(eventName, handleProxy);\n      };\n      if (Array.isArray(EventMap[type])) {\n        EventMap[type].forEach(function (eventName) {\n          offProxy(eventName || type);\n        });\n      } else {\n        offProxy(EventMap[type] || type);\n      }\n    }\n  }, {\n    key: \"once\",\n    value: function once(type, handler) {\n      throw new Error('Method not implemented.');\n    }\n\n    // get dom\n  }, {\n    key: \"getMapContainer\",\n    value: function getMapContainer() {\n      return this.map.getContainer();\n    }\n  }, {\n    key: \"getType\",\n    value: function getType() {\n      return 'tdtmap';\n    }\n  }, {\n    key: \"getMapCanvasContainer\",\n    value: function getMapCanvasContainer() {\n      var _this$map$getContaine;\n      // tdt-container\n      return (_this$map$getContaine = this.map.getContainer()) === null || _this$map$getContaine === void 0 ? void 0 : _this$map$getContaine.getElementsByClassName('tdt-container')[0];\n    }\n\n    // get mapStatus method\n  }, {\n    key: \"getSize\",\n    value: function getSize() {\n      var size = this.map.getSize();\n      return [size.x, size.y];\n    }\n\n    // get mapStatus method\n  }, {\n    key: \"getZoom\",\n    value: function getZoom() {\n      return this.map.getZoom();\n    }\n  }, {\n    key: \"setZoom\",\n    value: function setZoom(zoom) {\n      return this.map.setZoom(zoom);\n    }\n  }, {\n    key: \"getCenter\",\n    value: function getCenter() {\n      return this.map.getCenter();\n    }\n  }, {\n    key: \"setCenter\",\n    value: function setCenter(lnglat) {\n      this.map.setCenter(lnglat);\n    }\n  }, {\n    key: \"getPitch\",\n    value: function getPitch() {\n      return 0;\n    }\n  }, {\n    key: \"getRotation\",\n    value: function getRotation() {\n      return 0;\n    }\n  }, {\n    key: \"setRotation\",\n    value: function setRotation(rotation) {\n      this.map.setBearing(360);\n    }\n\n    //\n  }, {\n    key: \"zoomIn\",\n    value: function zoomIn(option, eventData) {\n      this.map.zoomIn(option, eventData);\n    }\n  }, {\n    key: \"zoomOut\",\n    value: function zoomOut(option, eventData) {\n      this.map.zoomOut(option, eventData);\n    }\n  }, {\n    key: \"panTo\",\n    value: function panTo(p) {\n      this.map.panTo(p);\n    }\n  }, {\n    key: \"panBy\",\n    value: function panBy() {\n      var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      // @ts-ignore\n      this.map.panBy([x, y]);\n    }\n  }, {\n    key: \"fitBounds\",\n    value: function fitBounds(bound, fitBoundsOptions) {\n      var _bound = _slicedToArray(bound, 2),\n        sw = _bound[0],\n        ne = _bound[1];\n      // @ts-ignore\n      this.map.setViewport([new window.T.LngLat(sw[0], sw[1]), new window.T.LngLat(ne[0], ne[1])]);\n    }\n  }, {\n    key: \"setMaxZoom\",\n    value: function setMaxZoom(max) {\n      this.map.setMaxZoom(max);\n    }\n  }, {\n    key: \"setMinZoom\",\n    value: function setMinZoom(min) {\n      this.map.setMinZoom(min);\n    }\n  }, {\n    key: \"setMapStatus\",\n    value: function setMapStatus(option) {\n      if (option.doubleClickZoom === true) {\n        this.map.enableDoubleClickZoom();\n      }\n      if (option.doubleClickZoom === false) {\n        this.map.disableDoubleClickZoom();\n      }\n      if (option.dragEnable === false) {\n        this.map.disableDrag();\n      }\n      if (option.dragEnable === true) {\n        this.map.enableDrag();\n      }\n      if (option.keyboardEnable === false) {\n        this.map.disableKeyboard();\n      }\n      if (option.keyboardEnable === true) {\n        this.map.enableKeyboard();\n      }\n      if (option.zoomEnable === false) {\n        this.map.disableScrollWheelZoom();\n      }\n      if (option.zoomEnable === true) {\n        this.map.enableScrollWheelZoom();\n      }\n    }\n\n    // coordinates methods\n  }, {\n    key: \"getModelMatrix\",\n    value: function getModelMatrix(lnglat, altitude, rotate, scale, origin) {\n      throw new Error('Method not implemented.');\n    }\n  }, {\n    key: \"pixelToLngLat\",\n    value: function pixelToLngLat(_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n        x = _ref2[0],\n        y = _ref2[1];\n      var lngLat = this.map.layerPointToLngLat({\n        x: x,\n        y: y\n      });\n      return {\n        lng: lngLat.lng,\n        lat: lngLat.lat\n      };\n    }\n  }, {\n    key: \"lngLatToPixel\",\n    value: function lngLatToPixel(_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n        lng = _ref4[0],\n        lat = _ref4[1];\n      var pixel = this.map.lngLatToLayerPoint({\n        lng: lng,\n        lat: lat\n      });\n      return {\n        x: pixel.x,\n        y: pixel.y\n      };\n    }\n  }, {\n    key: \"containerToLngLat\",\n    value: function containerToLngLat(_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n        x = _ref6[0],\n        y = _ref6[1];\n      var point = this.map.containerPointToLngLat({\n        x: x,\n        y: y\n      });\n      return {\n        lng: point.lng,\n        lat: point.lat\n      };\n    }\n  }, {\n    key: \"lngLatToContainer\",\n    value: function lngLatToContainer(_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 2),\n        lng = _ref8[0],\n        lat = _ref8[1];\n      var overlayPixel = this.map.lngLatToContainerPoint({\n        lat: lat,\n        lng: lng\n      });\n      return {\n        x: overlayPixel.x,\n        y: overlayPixel.y\n      };\n    }\n  }, {\n    key: \"lngLatToCoord\",\n    value: function lngLatToCoord(_ref9) {\n      var _ref10 = _slicedToArray(_ref9, 2),\n        lng = _ref10[0],\n        lat = _ref10[1];\n      var pixelCoord = this.lngLatToPixel([lng, lat]);\n      return [pixelCoord.x, pixelCoord.y];\n    }\n  }, {\n    key: \"lngLatToCoords\",\n    value: function lngLatToCoords(list) {\n      var _this4 = this;\n      return list.map(function (item) {\n        return Array.isArray(item[0]) ? _this4.lngLatToCoords(item) : _this4.lngLatToCoord(item);\n      });\n    }\n  }, {\n    key: \"getBounds\",\n    value: function getBounds() {\n      var latlngBound = this.map.getBounds();\n      var sw = latlngBound.getSouthWest(),\n        ne = latlngBound.getNorthEast();\n      return [[sw.lng, sw.lat], [ne.lng, ne.lat]];\n    }\n  }, {\n    key: \"lngLatToMercator\",\n    value: function lngLatToMercator(lnglat, altitude) {\n      // Use built in mercator tools due to Tencent not provided related methods\n      var _MercatorCoordinate$f = MercatorCoordinate.fromLngLat(lnglat, altitude),\n        _MercatorCoordinate$f2 = _MercatorCoordinate$f.x,\n        x = _MercatorCoordinate$f2 === void 0 ? 0 : _MercatorCoordinate$f2,\n        _MercatorCoordinate$f3 = _MercatorCoordinate$f.y,\n        y = _MercatorCoordinate$f3 === void 0 ? 0 : _MercatorCoordinate$f3,\n        _MercatorCoordinate$f4 = _MercatorCoordinate$f.z,\n        z = _MercatorCoordinate$f4 === void 0 ? 0 : _MercatorCoordinate$f4;\n      return {\n        x: x,\n        y: y,\n        z: z\n      };\n    }\n  }, {\n    key: \"getCustomCoordCenter\",\n    value: function getCustomCoordCenter() {\n      throw new Error('Method not implemented.');\n    }\n  }, {\n    key: \"creatMapContainer\",\n    value: function creatMapContainer(id) {\n      var $wrapper = id;\n      if (typeof id === 'string') {\n        $wrapper = document.getElementById(id);\n      }\n      var $tdtmapdiv = document.createElement('div');\n      $tdtmapdiv.style.cssText += \"\\n      position: absolute;\\n      top: 0;\\n      height: 100%;\\n      width: 100%;\\n    \";\n      $tdtmapdiv.id = 'l7_tdt_div' + mapdivCount++;\n      $wrapper.appendChild($tdtmapdiv);\n      return $tdtmapdiv;\n    }\n\n    // public exportMap() {}\n    //\n    // private hideLogo() {}\n  }]);\n\n  return TdtMapService;\n}(BaseMapService);\nexport { TdtMapService as default };","map":{"version":3,"names":["_slicedToArray","_typeof","_objectWithoutProperties","_asyncToGenerator","_classCallCheck","_createClass","_assertThisInitialized","_inherits","_possibleConstructorReturn","_getPrototypeOf","_defineProperty","_excluded","_regeneratorRuntime","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Boolean","prototype","valueOf","call","e","BaseMapService","MapServiceEvent","MercatorCoordinate","Viewport","load","mapdivCount","EventMap","camerachange","TdtMapService","_BaseMapService","_super","_this","_len","length","args","Array","_key","concat","Map","emit","map","_this$map$getCenter","getCenter","lng","lat","option","center","viewportHeight","getContainer","clientHeight","viewportWidth","clientWidth","bearing","pitch","zoom","getZoom","viewport","syncWithMapCamera","updateCoordinateSystemService","cameraChangedCallback","key","value","addMarkerContainer","container","div","markerContainer","document","createElement","appendChild","setAttribute","id","style","position","left","top","zIndex","width","height","overflow","getMarkerContainer","onCameraChanged","callback","resize","ev","sceneContainer","newSize","x","y","update","bounds","getBounds","_this$map$lngLatToLay","lngLatToLayerPoint","getSouthWest","getNorthEast","transition","transformOrigin","transform","_tdt_pos","T","Point","handleCameraChanged","getZoomScale","toZoom","fromZoom","crs","options","IW","undefined","scale","zoomStartUpdate","_Q","getPosition","viewHalf","getSize","GQ","currentCenterPoint","qW","destCenterPoint","centerOffset","DQ","topLeftOffset","aQ","getOverlayContainer","_this$map$getPanes","overlayPane","getPanes","parentElement","size","_init","mark","_callee","_this$config","mapInstance","_this$config$center","_this$config$token","token","_this$config$version","version","_this$config$minZoom","minZoom","_this$config$maxZoom","maxZoom","_this$config$logoVisi","logoVisible","_this$config$zoom","rest","point","control","tdtPanes","wrap","_callee$","_context","prev","next","config","window","tk","centerAndZoom","LngLat","$mapContainer","setMinZoom","setMaxZoom","Error","creatMapContainer","projection","Control","Zoom","addControl","querySelector","on","stop","init","destroy","type","handle","_this2","indexOf","eventEmitter","onProxy","eventName","cbProxyMap","evtCbProxyMap","get","set","handleProxy","_len2","_key2","lngLat","lnglat","latlng","latLng","isArray","forEach","off","_this3","offProxy","_this3$evtCbProxyMap$","_this3$evtCbProxyMap$2","delete","once","handler","getMapContainer","getType","getMapCanvasContainer","_this$map$getContaine","getElementsByClassName","setZoom","setCenter","getPitch","getRotation","setRotation","rotation","setBearing","zoomIn","eventData","zoomOut","panTo","p","panBy","fitBounds","bound","fitBoundsOptions","_bound","sw","ne","setViewport","max","min","setMapStatus","doubleClickZoom","enableDoubleClickZoom","disableDoubleClickZoom","dragEnable","disableDrag","enableDrag","keyboardEnable","disableKeyboard","enableKeyboard","zoomEnable","disableScrollWheelZoom","enableScrollWheelZoom","getModelMatrix","altitude","rotate","origin","pixelToLngLat","_ref","_ref2","layerPointToLngLat","lngLatToPixel","_ref3","_ref4","pixel","containerToLngLat","_ref5","_ref6","containerPointToLngLat","lngLatToContainer","_ref7","_ref8","overlayPixel","lngLatToContainerPoint","lngLatToCoord","_ref9","_ref10","pixelCoord","lngLatToCoords","list","_this4","item","latlngBound","lngLatToMercator","_MercatorCoordinate$f","fromLngLat","_MercatorCoordinate$f2","_MercatorCoordinate$f3","_MercatorCoordinate$f4","z","getCustomCoordCenter","$wrapper","getElementById","$tdtmapdiv","cssText","default"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-maps/es/tdtmap/map.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _excluded = [\"id\", \"mapInstance\", \"center\", \"token\", \"version\", \"minZoom\", \"maxZoom\", \"logoVisible\", \"zoom\"];\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport BaseMapService from \"../utils/BaseMapService\";\nimport { MapServiceEvent } from '@antv/l7-core';\nimport { MercatorCoordinate } from '@antv/l7-map';\nimport Viewport from \"../utils/Viewport\";\nimport { load } from \"./maploader\";\nvar mapdivCount = 0;\nvar EventMap = {\n  camerachange: ['move']\n};\nvar TdtMapService = /*#__PURE__*/function (_BaseMapService) {\n  _inherits(TdtMapService, _BaseMapService);\n  var _super = _createSuper(TdtMapService);\n  function TdtMapService() {\n    var _this;\n    _classCallCheck(this, TdtMapService);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"viewport\", null);\n    _defineProperty(_assertThisInitialized(_this), \"evtCbProxyMap\", new Map());\n    _defineProperty(_assertThisInitialized(_this), \"handleCameraChanged\", function (e) {\n      _this.emit('mapchange');\n      // console.log('mapchange');\n      var map = _this.map;\n      var _this$map$getCenter = _this.map.getCenter(),\n        lng = _this$map$getCenter.lng,\n        lat = _this$map$getCenter.lat;\n      var option = {\n        center: [lng, lat],\n        // @ts-ignore\n        viewportHeight: map.getContainer().clientHeight,\n        // @ts-ignore\n        viewportWidth: map.getContainer().clientWidth,\n        // @ts-ignore\n        bearing: 360,\n        // @ts-ignore\n        pitch: 0,\n        // @ts-ignore\n        zoom: map.getZoom() - 1\n      };\n      if (_this.viewport) {\n        _this.viewport.syncWithMapCamera(option);\n        _this.updateCoordinateSystemService();\n        _this.cameraChangedCallback(_this.viewport);\n      }\n    });\n    return _this;\n  }\n  _createClass(TdtMapService, [{\n    key: \"addMarkerContainer\",\n    value:\n    // @ts-ignore\n\n    // 不直接用自带的marker的div，因为会收到天地图缩放时visibility变成hidden的影响\n    function addMarkerContainer() {\n      var container = this.map.getContainer();\n      var div = this.markerContainer = document.createElement('div');\n      container.appendChild(div);\n      // div.classList.add('l7-marker-container');\n      // div.classList.add('leaflet-layer');\n      // div.classList.add('leaflet-zoom-animated');\n      div.setAttribute('tabindex', '-1');\n      div.id = 'tdt-L7-marker';\n      div.style.position = 'absolute';\n      div.style.left = '0px';\n      div.style.top = '0px';\n      div.style.zIndex = '600';\n      div.style.width = '100%';\n      div.style.height = '100%';\n      div.style.overflow = 'visible';\n      return;\n    }\n  }, {\n    key: \"getMarkerContainer\",\n    value: function getMarkerContainer() {\n      return this.markerContainer;\n    }\n  }, {\n    key: \"onCameraChanged\",\n    value: function onCameraChanged(callback) {\n      this.cameraChangedCallback = callback;\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(ev) {\n      this.sceneContainer.style.width = ev.newSize.x + 'px';\n      this.sceneContainer.style.height = ev.newSize.y + 'px';\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var bounds = this.map.getBounds();\n      var _this$map$lngLatToLay = this.map.lngLatToLayerPoint({\n          lng: bounds.getSouthWest().lng,\n          lat: bounds.getNorthEast().lat\n        }),\n        x = _this$map$lngLatToLay.x,\n        y = _this$map$lngLatToLay.y;\n      this.sceneContainer.style.transition = '';\n      this.sceneContainer.style.transformOrigin = 'center';\n      this.sceneContainer.style.transform = \"translate3d(\".concat(x, \"px, \").concat(y, \"px, 0px) scale(1)\");\n      // @ts-ignore\n      this.sceneContainer._tdt_pos = new T.Point(x, y);\n      this.handleCameraChanged();\n    }\n  }, {\n    key: \"getZoomScale\",\n    value: function getZoomScale(toZoom, fromZoom) {\n      // TODO replace with universal implementation after refactoring projections\n      var crs = this.map.options.IW;\n      fromZoom = fromZoom === undefined ? this.map.getZoom() : fromZoom;\n      return crs.scale(toZoom) / crs.scale(fromZoom);\n    }\n  }, {\n    key: \"zoomStartUpdate\",\n    value: function zoomStartUpdate(ev) {\n      // T._Q :DomUtil\n      // this.map.options.IW.qW:map.project\n      // GQ:multiply aQ:add DQ:substract\n      // 都是混淆后的方法,后续需要考虑讲这些方法都实现了,避免api更新后方法名发生改变\n      var center = ev.center;\n      var zoom = ev.zoom;\n      var scale = this.getZoomScale(zoom, this.map.getZoom());\n\n      // @ts-ignore\n      var position = T._Q.getPosition(this.sceneContainer);\n      var viewHalf = this.map.getSize().GQ(0.5);\n      var currentCenterPoint = this.map.options.IW.qW(this.map.getCenter(), zoom);\n      var destCenterPoint = this.map.options.IW.qW(center, zoom);\n      var centerOffset = destCenterPoint.DQ(currentCenterPoint);\n      // @ts-ignore\n      var topLeftOffset = new T.Point(viewHalf.x, viewHalf.y).GQ(-scale);\n      topLeftOffset.aQ(position);\n      topLeftOffset.aQ(viewHalf);\n      topLeftOffset.DQ(centerOffset);\n      this.sceneContainer.style.transform = \"translate3d(\".concat(topLeftOffset.x, \"px,\").concat(topLeftOffset.y, \"px,0px) scale(\").concat(scale, \")\");\n      this.sceneContainer.style.transformOrigin = '0 0';\n      this.sceneContainer.style.transition = 'transform 0.25s cubic-bezier(0,0,0.25,1)';\n      this.handleCameraChanged();\n    }\n  }, {\n    key: \"getOverlayContainer\",\n    value: function getOverlayContainer() {\n      var _this$map$getPanes;\n      var overlayPane = (_this$map$getPanes = this.map.getPanes()) === null || _this$map$getPanes === void 0 ? void 0 : _this$map$getPanes.overlayPane;\n      var container = document.createElement('div');\n      overlayPane.parentElement.appendChild(container);\n      container.id = 'tdt-L7';\n      var size = this.map.getSize();\n      container.style.zIndex = '200'; //置于上层\n      container.style.width = \"\".concat(size.x, \"px\");\n      container.style.height = \"\".concat(size.y, \"px\");\n      // @ts-ignore\n      this.sceneContainer = container;\n      return container;\n    }\n  }, {\n    key: \"init\",\n    value: function () {\n      var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _this$config, id, mapInstance, _this$config$center, center, _this$config$token, token, _this$config$version, version, _this$config$minZoom, minZoom, _this$config$maxZoom, maxZoom, _this$config$logoVisi, logoVisible, _this$config$zoom, zoom, rest, point, map, control, container, tdtPanes;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              this.viewport = new Viewport();\n              _this$config = this.config, id = _this$config.id, mapInstance = _this$config.mapInstance, _this$config$center = _this$config.center, center = _this$config$center === void 0 ? [121.30654632240122, 31.25744185633306] : _this$config$center, _this$config$token = _this$config.token, token = _this$config$token === void 0 ? 'b15e548080c79819617367d3f6095c69' : _this$config$token, _this$config$version = _this$config.version, version = _this$config$version === void 0 ? '4.0' : _this$config$version, _this$config$minZoom = _this$config.minZoom, minZoom = _this$config$minZoom === void 0 ? 1 : _this$config$minZoom, _this$config$maxZoom = _this$config.maxZoom, maxZoom = _this$config$maxZoom === void 0 ? 18 : _this$config$maxZoom, _this$config$logoVisi = _this$config.logoVisible, logoVisible = _this$config$logoVisi === void 0 ? true : _this$config$logoVisi, _this$config$zoom = _this$config.zoom, zoom = _this$config$zoom === void 0 ? 3 : _this$config$zoom, rest = _objectWithoutProperties(_this$config, _excluded); // @ts-ignore\n              if (window.T) {\n                _context.next = 5;\n                break;\n              }\n              _context.next = 5;\n              return load({\n                tk: token\n              });\n            case 5:\n              if (!mapInstance) {\n                _context.next = 15;\n                break;\n              }\n              this.map = mapInstance;\n              // @ts-ignore\n              this.map.centerAndZoom(new window.T.LngLat(center[0], center[1]), zoom);\n              this.$mapContainer = this.map.getContainer();\n\n              // @ts-ignore\n              point = new window.T.LngLat(center[0], center[1]);\n              this.map.centerAndZoom(point, zoom);\n              this.setMinZoom(minZoom);\n              this.setMaxZoom(maxZoom);\n              _context.next = 22;\n              break;\n            case 15:\n              if (id) {\n                _context.next = 17;\n                break;\n              }\n              throw Error('No container id specified');\n            case 17:\n              this.$mapContainer = this.creatMapContainer(id);\n              // @ts-ignore\n              map = new T.Map(this.$mapContainer, {\n                // @ts-ignore\n                center: window.T.LngLat(center[0], center[1]),\n                minZoom: minZoom,\n                maxZoom: maxZoom,\n                zoom: zoom,\n                projection: 'EPSG:900913'\n              });\n              this.map = map;\n              // @ts-ignore\n              control = new window.T.Control.Zoom();\n              map.addControl(control);\n            case 22:\n              container = this.map.getContainer();\n              tdtPanes = container.querySelector('.tdt-pane');\n              tdtPanes.style.zIndex = 1;\n              this.handleCameraChanged();\n              this.map.on('move', this.update, this);\n              //对应leaflet中的zoomanim\n              this.map.on('Ge', this.zoomStartUpdate, this);\n              this.map.on('resize', this.resize, this);\n            case 29:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function init() {\n        return _init.apply(this, arguments);\n      }\n      return init;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      return;\n    }\n\n    // MapEvent\n  }, {\n    key: \"on\",\n    value: function on(type, handle) {\n      var _this2 = this;\n      if (MapServiceEvent.indexOf(type) !== -1) {\n        this.eventEmitter.on(type, handle);\n      } else {\n        var onProxy = function onProxy(eventName) {\n          var cbProxyMap = _this2.evtCbProxyMap.get(eventName);\n          if (!cbProxyMap) {\n            _this2.evtCbProxyMap.set(eventName, cbProxyMap = new Map());\n          }\n          if (cbProxyMap.get(handle)) {\n            return;\n          }\n          var handleProxy = function handleProxy() {\n            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n              args[_key2] = arguments[_key2];\n            }\n            if (args[0] && _typeof(args[0]) === 'object' && !args[0].lngLat && !args[0].lnglat) {\n              args[0].lngLat = args[0].latlng || args[0].latLng;\n            }\n            handle.apply(void 0, args);\n          };\n          cbProxyMap.set(handle, handleProxy);\n          _this2.map.on(eventName, handleProxy);\n        };\n        if (Array.isArray(EventMap[type])) {\n          EventMap[type].forEach(function (eventName) {\n            onProxy(eventName || type);\n          });\n        } else {\n          onProxy(EventMap[type] || type);\n        }\n      }\n    }\n  }, {\n    key: \"off\",\n    value: function off(type, handle) {\n      var _this3 = this;\n      if (MapServiceEvent.indexOf(type) !== -1) {\n        this.eventEmitter.off(type, handle);\n        return;\n      }\n      var offProxy = function offProxy(eventName) {\n        var _this3$evtCbProxyMap$, _this3$evtCbProxyMap$2;\n        var handleProxy = (_this3$evtCbProxyMap$ = _this3.evtCbProxyMap.get(type)) === null || _this3$evtCbProxyMap$ === void 0 ? void 0 : _this3$evtCbProxyMap$.get(handle);\n        if (!handleProxy) {\n          return;\n        }\n        (_this3$evtCbProxyMap$2 = _this3.evtCbProxyMap.get(eventName)) === null || _this3$evtCbProxyMap$2 === void 0 || _this3$evtCbProxyMap$2.delete(handle);\n        _this3.map.off(eventName, handleProxy);\n      };\n      if (Array.isArray(EventMap[type])) {\n        EventMap[type].forEach(function (eventName) {\n          offProxy(eventName || type);\n        });\n      } else {\n        offProxy(EventMap[type] || type);\n      }\n    }\n  }, {\n    key: \"once\",\n    value: function once(type, handler) {\n      throw new Error('Method not implemented.');\n    }\n\n    // get dom\n  }, {\n    key: \"getMapContainer\",\n    value: function getMapContainer() {\n      return this.map.getContainer();\n    }\n  }, {\n    key: \"getType\",\n    value: function getType() {\n      return 'tdtmap';\n    }\n  }, {\n    key: \"getMapCanvasContainer\",\n    value: function getMapCanvasContainer() {\n      var _this$map$getContaine;\n      // tdt-container\n      return (_this$map$getContaine = this.map.getContainer()) === null || _this$map$getContaine === void 0 ? void 0 : _this$map$getContaine.getElementsByClassName('tdt-container')[0];\n    }\n\n    // get mapStatus method\n  }, {\n    key: \"getSize\",\n    value: function getSize() {\n      var size = this.map.getSize();\n      return [size.x, size.y];\n    }\n\n    // get mapStatus method\n  }, {\n    key: \"getZoom\",\n    value: function getZoom() {\n      return this.map.getZoom();\n    }\n  }, {\n    key: \"setZoom\",\n    value: function setZoom(zoom) {\n      return this.map.setZoom(zoom);\n    }\n  }, {\n    key: \"getCenter\",\n    value: function getCenter() {\n      return this.map.getCenter();\n    }\n  }, {\n    key: \"setCenter\",\n    value: function setCenter(lnglat) {\n      this.map.setCenter(lnglat);\n    }\n  }, {\n    key: \"getPitch\",\n    value: function getPitch() {\n      return 0;\n    }\n  }, {\n    key: \"getRotation\",\n    value: function getRotation() {\n      return 0;\n    }\n  }, {\n    key: \"setRotation\",\n    value: function setRotation(rotation) {\n      this.map.setBearing(360);\n    }\n\n    //\n  }, {\n    key: \"zoomIn\",\n    value: function zoomIn(option, eventData) {\n      this.map.zoomIn(option, eventData);\n    }\n  }, {\n    key: \"zoomOut\",\n    value: function zoomOut(option, eventData) {\n      this.map.zoomOut(option, eventData);\n    }\n  }, {\n    key: \"panTo\",\n    value: function panTo(p) {\n      this.map.panTo(p);\n    }\n  }, {\n    key: \"panBy\",\n    value: function panBy() {\n      var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      // @ts-ignore\n      this.map.panBy([x, y]);\n    }\n  }, {\n    key: \"fitBounds\",\n    value: function fitBounds(bound, fitBoundsOptions) {\n      var _bound = _slicedToArray(bound, 2),\n        sw = _bound[0],\n        ne = _bound[1];\n      // @ts-ignore\n      this.map.setViewport([new window.T.LngLat(sw[0], sw[1]), new window.T.LngLat(ne[0], ne[1])]);\n    }\n  }, {\n    key: \"setMaxZoom\",\n    value: function setMaxZoom(max) {\n      this.map.setMaxZoom(max);\n    }\n  }, {\n    key: \"setMinZoom\",\n    value: function setMinZoom(min) {\n      this.map.setMinZoom(min);\n    }\n  }, {\n    key: \"setMapStatus\",\n    value: function setMapStatus(option) {\n      if (option.doubleClickZoom === true) {\n        this.map.enableDoubleClickZoom();\n      }\n      if (option.doubleClickZoom === false) {\n        this.map.disableDoubleClickZoom();\n      }\n      if (option.dragEnable === false) {\n        this.map.disableDrag();\n      }\n      if (option.dragEnable === true) {\n        this.map.enableDrag();\n      }\n      if (option.keyboardEnable === false) {\n        this.map.disableKeyboard();\n      }\n      if (option.keyboardEnable === true) {\n        this.map.enableKeyboard();\n      }\n      if (option.zoomEnable === false) {\n        this.map.disableScrollWheelZoom();\n      }\n      if (option.zoomEnable === true) {\n        this.map.enableScrollWheelZoom();\n      }\n    }\n\n    // coordinates methods\n  }, {\n    key: \"getModelMatrix\",\n    value: function getModelMatrix(lnglat, altitude, rotate, scale, origin) {\n      throw new Error('Method not implemented.');\n    }\n  }, {\n    key: \"pixelToLngLat\",\n    value: function pixelToLngLat(_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n        x = _ref2[0],\n        y = _ref2[1];\n      var lngLat = this.map.layerPointToLngLat({\n        x: x,\n        y: y\n      });\n      return {\n        lng: lngLat.lng,\n        lat: lngLat.lat\n      };\n    }\n  }, {\n    key: \"lngLatToPixel\",\n    value: function lngLatToPixel(_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n        lng = _ref4[0],\n        lat = _ref4[1];\n      var pixel = this.map.lngLatToLayerPoint({\n        lng: lng,\n        lat: lat\n      });\n      return {\n        x: pixel.x,\n        y: pixel.y\n      };\n    }\n  }, {\n    key: \"containerToLngLat\",\n    value: function containerToLngLat(_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n        x = _ref6[0],\n        y = _ref6[1];\n      var point = this.map.containerPointToLngLat({\n        x: x,\n        y: y\n      });\n      return {\n        lng: point.lng,\n        lat: point.lat\n      };\n    }\n  }, {\n    key: \"lngLatToContainer\",\n    value: function lngLatToContainer(_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 2),\n        lng = _ref8[0],\n        lat = _ref8[1];\n      var overlayPixel = this.map.lngLatToContainerPoint({\n        lat: lat,\n        lng: lng\n      });\n      return {\n        x: overlayPixel.x,\n        y: overlayPixel.y\n      };\n    }\n  }, {\n    key: \"lngLatToCoord\",\n    value: function lngLatToCoord(_ref9) {\n      var _ref10 = _slicedToArray(_ref9, 2),\n        lng = _ref10[0],\n        lat = _ref10[1];\n      var pixelCoord = this.lngLatToPixel([lng, lat]);\n      return [pixelCoord.x, pixelCoord.y];\n    }\n  }, {\n    key: \"lngLatToCoords\",\n    value: function lngLatToCoords(list) {\n      var _this4 = this;\n      return list.map(function (item) {\n        return Array.isArray(item[0]) ? _this4.lngLatToCoords(item) : _this4.lngLatToCoord(item);\n      });\n    }\n  }, {\n    key: \"getBounds\",\n    value: function getBounds() {\n      var latlngBound = this.map.getBounds();\n      var sw = latlngBound.getSouthWest(),\n        ne = latlngBound.getNorthEast();\n      return [[sw.lng, sw.lat], [ne.lng, ne.lat]];\n    }\n  }, {\n    key: \"lngLatToMercator\",\n    value: function lngLatToMercator(lnglat, altitude) {\n      // Use built in mercator tools due to Tencent not provided related methods\n      var _MercatorCoordinate$f = MercatorCoordinate.fromLngLat(lnglat, altitude),\n        _MercatorCoordinate$f2 = _MercatorCoordinate$f.x,\n        x = _MercatorCoordinate$f2 === void 0 ? 0 : _MercatorCoordinate$f2,\n        _MercatorCoordinate$f3 = _MercatorCoordinate$f.y,\n        y = _MercatorCoordinate$f3 === void 0 ? 0 : _MercatorCoordinate$f3,\n        _MercatorCoordinate$f4 = _MercatorCoordinate$f.z,\n        z = _MercatorCoordinate$f4 === void 0 ? 0 : _MercatorCoordinate$f4;\n      return {\n        x: x,\n        y: y,\n        z: z\n      };\n    }\n  }, {\n    key: \"getCustomCoordCenter\",\n    value: function getCustomCoordCenter() {\n      throw new Error('Method not implemented.');\n    }\n  }, {\n    key: \"creatMapContainer\",\n    value: function creatMapContainer(id) {\n      var $wrapper = id;\n      if (typeof id === 'string') {\n        $wrapper = document.getElementById(id);\n      }\n      var $tdtmapdiv = document.createElement('div');\n      $tdtmapdiv.style.cssText += \"\\n      position: absolute;\\n      top: 0;\\n      height: 100%;\\n      width: 100%;\\n    \";\n      $tdtmapdiv.id = 'l7_tdt_div' + mapdivCount++;\n      $wrapper.appendChild($tdtmapdiv);\n      return $tdtmapdiv;\n    }\n\n    // public exportMap() {}\n    //\n    // private hideLogo() {}\n  }]);\n  return TdtMapService;\n}(BaseMapService);\nexport { TdtMapService as default };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}