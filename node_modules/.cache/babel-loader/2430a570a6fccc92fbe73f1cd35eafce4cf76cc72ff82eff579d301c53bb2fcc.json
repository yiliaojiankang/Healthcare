{"ast":null,"code":"import { __values } from \"tslib\";\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nregisterShape('point', 'image', {\n  draw: function (cfg, container) {\n    var e_1, _a;\n    var size = getStyle(cfg, false, false, 'r').r;\n    var points = this.parsePoints(cfg.points);\n    var pointPosition = points[0];\n    if (cfg.isStack) {\n      pointPosition = points[1];\n    } else if (points.length > 1) {\n      var group = container.addGroup();\n      try {\n        for (var points_1 = __values(points), points_1_1 = points_1.next(); !points_1_1.done; points_1_1 = points_1.next()) {\n          var point = points_1_1.value;\n          group.addShape('image', {\n            attrs: {\n              x: point.x - size / 2,\n              y: point.y - size,\n              width: size,\n              height: size,\n              img: cfg.shape[1]\n            }\n          });\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (points_1_1 && !points_1_1.done && (_a = points_1.return)) _a.call(points_1);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n      return group;\n    }\n    return container.addShape('image', {\n      attrs: {\n        x: pointPosition.x - size / 2,\n        y: pointPosition.y - size,\n        width: size,\n        height: size,\n        img: cfg.shape[1]\n      }\n    });\n  },\n  getMarker: function (markerCfg) {\n    var color = markerCfg.color;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: color\n      }\n    };\n  }\n});","map":{"version":3,"names":["registerShape","getStyle","draw","cfg","container","size","r","points","parsePoints","pointPosition","isStack","length","group","addGroup","points_1","__values","points_1_1","next","done","point","value","addShape","attrs","x","y","width","height","img","shape","getMarker","markerCfg","color","symbol","style","fill"],"sources":["../../../../src/geometry/shape/point/image.ts"],"sourcesContent":["import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nregisterShape('point', 'image', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const { r: size } = getStyle(cfg, false, false, 'r');\n    const points = this.parsePoints(cfg.points);\n    let pointPosition = points[0];\n    if (cfg.isStack) {\n      pointPosition = points[1];\n    } else if (points.length > 1) {\n      const group = container.addGroup();\n      for (const point of points) {\n        group.addShape('image', {\n          attrs: {\n            x: (point.x as number) - size / 2,\n            y: (point.y as number) - size,\n            width: size,\n            height: size,\n            img: cfg.shape[1],\n          },\n        });\n      }\n\n      return group;\n    }\n\n    return container.addShape('image', {\n      attrs: {\n        x: (pointPosition.x as number) - size / 2,\n        y: (pointPosition.y as number) - size,\n        width: size,\n        height: size,\n        img: cfg.shape[1],\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: color,\n      },\n    };\n  },\n});\n"],"mappings":";AAGA,SAASA,aAAa,QAAQ,SAAS;AACvC,SAASC,QAAQ,QAAQ,mBAAmB;AAE5CD,aAAa,CAAC,OAAO,EAAE,OAAO,EAAE;EAC9BE,IAAI,EAAJ,SAAAA,CAAKC,GAAc,EAAEC,SAAiB;;IAC5B,IAAGC,IAAI,GAAKJ,QAAQ,CAACE,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,CAAC,CAAAG,CAArC;IACf,IAAMC,MAAM,GAAG,IAAI,CAACC,WAAW,CAACL,GAAG,CAACI,MAAM,CAAC;IAC3C,IAAIE,aAAa,GAAGF,MAAM,CAAC,CAAC,CAAC;IAC7B,IAAIJ,GAAG,CAACO,OAAO,EAAE;MACfD,aAAa,GAAGF,MAAM,CAAC,CAAC,CAAC;KAC1B,MAAM,IAAIA,MAAM,CAACI,MAAM,GAAG,CAAC,EAAE;MAC5B,IAAMC,KAAK,GAAGR,SAAS,CAACS,QAAQ,EAAE;;QAClC,KAAoB,IAAAC,QAAA,GAAAC,QAAA,CAAAR,MAAM,GAAAS,UAAA,GAAAF,QAAA,CAAAG,IAAA,KAAAD,UAAA,CAAAE,IAAA,EAAAF,UAAA,GAAAF,QAAA,CAAAG,IAAA,IAAE;UAAvB,IAAME,KAAK,GAAAH,UAAA,CAAAI,KAAA;UACdR,KAAK,CAACS,QAAQ,CAAC,OAAO,EAAE;YACtBC,KAAK,EAAE;cACLC,CAAC,EAAGJ,KAAK,CAACI,CAAY,GAAGlB,IAAI,GAAG,CAAC;cACjCmB,CAAC,EAAGL,KAAK,CAACK,CAAY,GAAGnB,IAAI;cAC7BoB,KAAK,EAAEpB,IAAI;cACXqB,MAAM,EAAErB,IAAI;cACZsB,GAAG,EAAExB,GAAG,CAACyB,KAAK,CAAC,CAAC;;WAEnB,CAAC;;;;;;;;;;;;;MAGJ,OAAOhB,KAAK;;IAGd,OAAOR,SAAS,CAACiB,QAAQ,CAAC,OAAO,EAAE;MACjCC,KAAK,EAAE;QACLC,CAAC,EAAGd,aAAa,CAACc,CAAY,GAAGlB,IAAI,GAAG,CAAC;QACzCmB,CAAC,EAAGf,aAAa,CAACe,CAAY,GAAGnB,IAAI;QACrCoB,KAAK,EAAEpB,IAAI;QACXqB,MAAM,EAAErB,IAAI;QACZsB,GAAG,EAAExB,GAAG,CAACyB,KAAK,CAAC,CAAC;;KAEnB,CAAC;EACJ,CAAC;EACDC,SAAS,EAAT,SAAAA,CAAUC,SAAyB;IACzB,IAAAC,KAAK,GAAKD,SAAS,CAAAC,KAAd;IACb,OAAO;MACLC,MAAM,EAAE,QAAQ;MAChBC,KAAK,EAAE;QACL3B,CAAC,EAAE,GAAG;QACN4B,IAAI,EAAEH;;KAET;EACH;CACD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}