{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { __assign } from \"tslib\";\nimport { deepMix, isString } from '@antv/util';\nimport { parsePathString } from '@antv/path-util';\nimport { pathToPoints, getClosedSpline, roundedHull, paddedHull } from '../util/path';\nimport { isPolygonsIntersect } from '../util/math';\nimport { genConvexHull } from '../element/hull/convexHull';\nimport { genBubbleSet } from '../element/hull/bubbleset';\n/**\n * 用于包裹内部的成员的轮廓。\n * convex hull(凸包)：http://geomalgorithms.com/a10-_hull-1.html#Monotone%20Chain\n * bubble: 使用 bubbleset算法，refer: http://vialab.science.uoit.ca/wp-content/papercite-data/pdf/col2009c.pdf\n * 通过配置 padding 可以调节包裹轮廓对节点的松紧程度\n */\nvar Hull = /** @class */function () {\n  function Hull(graph, cfg) {\n    this.cfg = deepMix(this.getDefaultCfg(), cfg);\n    this.graph = graph;\n    this.id = this.cfg.id;\n    this.group = this.cfg.group;\n    this.members = this.cfg.members.map(function (item) {\n      return isString(item) ? graph.findById(item) : item;\n    });\n    this.nonMembers = this.cfg.nonMembers.map(function (item) {\n      return isString(item) ? graph.findById(item) : item;\n    });\n    this.setPadding();\n    this.setType();\n    this.path = this.calcPath(this.members, this.nonMembers);\n    this.render();\n  }\n  Hull.prototype.getDefaultCfg = function () {\n    return {\n      id: 'g6-hull',\n      type: 'round-convex',\n      members: [],\n      nonMembers: [],\n      style: {\n        fill: 'lightblue',\n        stroke: 'blue',\n        opacity: 0.2\n      },\n      padding: 10\n    };\n  };\n  Hull.prototype.setPadding = function () {\n    var nodeSize = this.members.length && this.members[0].getKeyShape().getCanvasBBox().width / 2;\n    this.padding = this.cfg.padding > 0 ? this.cfg.padding + nodeSize : 10 + nodeSize;\n    this.cfg.bubbleCfg = {\n      nodeR0: this.padding - nodeSize,\n      nodeR1: this.padding - nodeSize,\n      morphBuffer: this.padding - nodeSize\n    };\n  };\n  Hull.prototype.setType = function () {\n    this.type = this.cfg.type;\n    if (this.members.length < 3) {\n      this.type = 'round-convex';\n    }\n    if (this.type !== 'round-convex' && this.type !== 'smooth-convex' && this.type !== 'bubble') {\n      console.warn('The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default.');\n      this.type = 'round-convex';\n    }\n  };\n  Hull.prototype.calcPath = function (members, nonMembers) {\n    var contour, path, hull;\n    switch (this.type) {\n      case 'round-convex':\n        contour = genConvexHull(members);\n        hull = roundedHull(contour.map(function (p) {\n          return [p.x, p.y];\n        }), this.padding);\n        path = parsePathString(hull);\n        break;\n      case 'smooth-convex':\n        contour = genConvexHull(members);\n        if (contour.length === 2) {\n          hull = roundedHull(contour.map(function (p) {\n            return [p.x, p.y];\n          }), this.padding);\n          path = parsePathString(hull);\n        } else if (contour.length > 2) {\n          hull = paddedHull(contour.map(function (p) {\n            return [p.x, p.y];\n          }), this.padding);\n          path = getClosedSpline(hull);\n        }\n        break;\n      case 'bubble':\n        contour = genBubbleSet(members, nonMembers, this.cfg.bubbleCfg);\n        path = contour.length >= 2 && getClosedSpline(contour);\n        break;\n      default:\n    }\n    return path;\n  };\n  Hull.prototype.render = function () {\n    this.group.addShape('path', {\n      attrs: __assign({\n        path: this.path\n      }, this.cfg.style),\n      id: this.id,\n      name: this.cfg.id,\n      capture: false\n    });\n    this.group.toBack();\n  };\n  /**\n   * 增加hull的成员，同时如果该成员原先在nonMembers中，则从nonMembers中去掉\n   * @param item 节点实例\n   * @return boolean 添加成功返回 true，否则返回 false\n   */\n  Hull.prototype.addMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    this.members.push(item);\n    var index = this.nonMembers.indexOf(item);\n    if (index > -1) {\n      this.nonMembers.splice(index, 1);\n    }\n    this.updateData(this.members, this.nonMembers);\n    return true;\n  };\n  /**\n   * 增加hull需要排除的节点，同时如果该成员原先在members中，则从members中去掉\n   * @param item 节点实例\n   * @return boolean 添加成功返回 true，否则返回 false\n   */\n  Hull.prototype.addNonMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    this.nonMembers.push(item);\n    var index = this.members.indexOf(item);\n    if (index > -1) {\n      this.members.splice(index, 1);\n    }\n    this.updateData(this.members, this.nonMembers);\n    return true;\n  };\n  /**\n   * 移除hull中的成员\n   * @param node 节点实例\n   * @return boolean 移除成功返回 true，否则返回 false\n   */\n  Hull.prototype.removeMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    var index = this.members.indexOf(item);\n    if (index > -1) {\n      this.members.splice(index, 1);\n      this.updateData(this.members, this.nonMembers);\n      return true;\n    }\n    return false;\n  };\n  /**\n   * @param node 节点实例\n   * @return boolean 移除成功返回 true，否则返回 false\n   */\n  Hull.prototype.removeNonMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    var index = this.nonMembers.indexOf(item);\n    if (index > -1) {\n      this.nonMembers.splice(index, 1);\n      this.updateData(this.members, this.nonMembers);\n      return true;\n    }\n    return false;\n  };\n  Hull.prototype.updateData = function (members, nonMembers) {\n    var _this = this;\n    this.group.findById(this.id).remove();\n    if (members) this.members = members.map(function (item) {\n      return isString(item) ? _this.graph.findById(item) : item;\n    });\n    if (nonMembers) this.nonMembers = nonMembers.map(function (item) {\n      return isString(item) ? _this.graph.findById(item) : item;\n    });\n    this.path = this.calcPath(this.members, this.nonMembers);\n    this.render();\n  };\n  Hull.prototype.updateStyle = function (cfg) {\n    var path = this.group.findById(this.id);\n    path.attr(__assign({}, cfg));\n  };\n  /**\n   * 更新 hull\n   * @param cfg hull 配置项\n   */\n  Hull.prototype.updateCfg = function (cfg) {\n    var _this = this;\n    this.cfg = deepMix(this.cfg, cfg);\n    this.id = this.cfg.id;\n    this.group = this.cfg.group;\n    if (cfg.members) {\n      this.members = this.cfg.members.map(function (item) {\n        return isString(item) ? _this.graph.findById(item) : item;\n      });\n    }\n    if (cfg.nonMembers) {\n      this.nonMembers = this.cfg.nonMembers.map(function (item) {\n        return isString(item) ? _this.graph.findById(item) : item;\n      });\n    }\n    // TODO padding 设置太大，会影响到 contain 结果\n    this.setPadding();\n    this.setType();\n    this.path = this.calcPath(this.members, this.nonMembers);\n    this.render();\n  };\n  /**\n   * 判断是否在hull内部\n   * @param item\n   */\n  Hull.prototype.contain = function (item) {\n    var _this = this;\n    var nodeItem;\n    if (isString(item)) {\n      nodeItem = this.graph.findById(item);\n    } else {\n      nodeItem = item;\n    }\n    var shapePoints;\n    var shape = nodeItem.getKeyShape();\n    if (nodeItem.get('type') === 'path') {\n      shapePoints = pathToPoints(shape.attr('path'));\n    } else {\n      var shapeBBox = shape.getCanvasBBox();\n      shapePoints = [[shapeBBox.minX, shapeBBox.minY], [shapeBBox.maxX, shapeBBox.minY], [shapeBBox.maxX, shapeBBox.maxY], [shapeBBox.minX, shapeBBox.maxY]];\n    }\n    shapePoints = shapePoints.map(function (canvasPoint) {\n      var point = _this.graph.getPointByCanvas(canvasPoint[0], canvasPoint[1]);\n      return [point.x, point.y];\n    });\n    return isPolygonsIntersect(shapePoints, pathToPoints(this.path));\n  };\n  Hull.prototype.destroy = function () {\n    this.group.remove();\n    this.cfg = null;\n  };\n  return Hull;\n}();\nexport default Hull;","map":{"version":3,"names":["__assign","deepMix","isString","parsePathString","pathToPoints","getClosedSpline","roundedHull","paddedHull","isPolygonsIntersect","genConvexHull","genBubbleSet","Hull","graph","cfg","getDefaultCfg","id","group","members","map","item","findById","nonMembers","setPadding","setType","path","calcPath","render","prototype","type","style","fill","stroke","opacity","padding","nodeSize","length","getKeyShape","getCanvasBBox","width","bubbleCfg","nodeR0","nodeR1","morphBuffer","console","warn","contour","hull","p","x","y","addShape","attrs","name","capture","toBack","addMember","push","index","indexOf","splice","updateData","addNonMember","removeMember","removeNonMember","_this","remove","updateStyle","attr","updateCfg","contain","nodeItem","shapePoints","shape","get","shapeBBox","minX","minY","maxX","maxY","canvasPoint","point","getPointByCanvas","destroy"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/g6-core/es/item/hull.js"],"sourcesContent":["import { __assign } from \"tslib\";\nimport { deepMix, isString } from '@antv/util';\nimport { parsePathString } from '@antv/path-util';\nimport { pathToPoints, getClosedSpline, roundedHull, paddedHull } from '../util/path';\nimport { isPolygonsIntersect } from '../util/math';\nimport { genConvexHull } from '../element/hull/convexHull';\nimport { genBubbleSet } from '../element/hull/bubbleset';\n/**\n * 用于包裹内部的成员的轮廓。\n * convex hull(凸包)：http://geomalgorithms.com/a10-_hull-1.html#Monotone%20Chain\n * bubble: 使用 bubbleset算法，refer: http://vialab.science.uoit.ca/wp-content/papercite-data/pdf/col2009c.pdf\n * 通过配置 padding 可以调节包裹轮廓对节点的松紧程度\n */\nvar Hull = /** @class */function () {\n  function Hull(graph, cfg) {\n    this.cfg = deepMix(this.getDefaultCfg(), cfg);\n    this.graph = graph;\n    this.id = this.cfg.id;\n    this.group = this.cfg.group;\n    this.members = this.cfg.members.map(function (item) {\n      return isString(item) ? graph.findById(item) : item;\n    });\n    this.nonMembers = this.cfg.nonMembers.map(function (item) {\n      return isString(item) ? graph.findById(item) : item;\n    });\n    this.setPadding();\n    this.setType();\n    this.path = this.calcPath(this.members, this.nonMembers);\n    this.render();\n  }\n  Hull.prototype.getDefaultCfg = function () {\n    return {\n      id: 'g6-hull',\n      type: 'round-convex',\n      members: [],\n      nonMembers: [],\n      style: {\n        fill: 'lightblue',\n        stroke: 'blue',\n        opacity: 0.2\n      },\n      padding: 10\n    };\n  };\n  Hull.prototype.setPadding = function () {\n    var nodeSize = this.members.length && this.members[0].getKeyShape().getCanvasBBox().width / 2;\n    this.padding = this.cfg.padding > 0 ? this.cfg.padding + nodeSize : 10 + nodeSize;\n    this.cfg.bubbleCfg = {\n      nodeR0: this.padding - nodeSize,\n      nodeR1: this.padding - nodeSize,\n      morphBuffer: this.padding - nodeSize\n    };\n  };\n  Hull.prototype.setType = function () {\n    this.type = this.cfg.type;\n    if (this.members.length < 3) {\n      this.type = 'round-convex';\n    }\n    if (this.type !== 'round-convex' && this.type !== 'smooth-convex' && this.type !== 'bubble') {\n      console.warn('The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default.');\n      this.type = 'round-convex';\n    }\n  };\n  Hull.prototype.calcPath = function (members, nonMembers) {\n    var contour, path, hull;\n    switch (this.type) {\n      case 'round-convex':\n        contour = genConvexHull(members);\n        hull = roundedHull(contour.map(function (p) {\n          return [p.x, p.y];\n        }), this.padding);\n        path = parsePathString(hull);\n        break;\n      case 'smooth-convex':\n        contour = genConvexHull(members);\n        if (contour.length === 2) {\n          hull = roundedHull(contour.map(function (p) {\n            return [p.x, p.y];\n          }), this.padding);\n          path = parsePathString(hull);\n        } else if (contour.length > 2) {\n          hull = paddedHull(contour.map(function (p) {\n            return [p.x, p.y];\n          }), this.padding);\n          path = getClosedSpline(hull);\n        }\n        break;\n      case 'bubble':\n        contour = genBubbleSet(members, nonMembers, this.cfg.bubbleCfg);\n        path = contour.length >= 2 && getClosedSpline(contour);\n        break;\n      default:\n    }\n    return path;\n  };\n  Hull.prototype.render = function () {\n    this.group.addShape('path', {\n      attrs: __assign({\n        path: this.path\n      }, this.cfg.style),\n      id: this.id,\n      name: this.cfg.id,\n      capture: false\n    });\n    this.group.toBack();\n  };\n  /**\n   * 增加hull的成员，同时如果该成员原先在nonMembers中，则从nonMembers中去掉\n   * @param item 节点实例\n   * @return boolean 添加成功返回 true，否则返回 false\n   */\n  Hull.prototype.addMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    this.members.push(item);\n    var index = this.nonMembers.indexOf(item);\n    if (index > -1) {\n      this.nonMembers.splice(index, 1);\n    }\n    this.updateData(this.members, this.nonMembers);\n    return true;\n  };\n  /**\n   * 增加hull需要排除的节点，同时如果该成员原先在members中，则从members中去掉\n   * @param item 节点实例\n   * @return boolean 添加成功返回 true，否则返回 false\n   */\n  Hull.prototype.addNonMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    this.nonMembers.push(item);\n    var index = this.members.indexOf(item);\n    if (index > -1) {\n      this.members.splice(index, 1);\n    }\n    this.updateData(this.members, this.nonMembers);\n    return true;\n  };\n  /**\n   * 移除hull中的成员\n   * @param node 节点实例\n   * @return boolean 移除成功返回 true，否则返回 false\n   */\n  Hull.prototype.removeMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    var index = this.members.indexOf(item);\n    if (index > -1) {\n      this.members.splice(index, 1);\n      this.updateData(this.members, this.nonMembers);\n      return true;\n    }\n    return false;\n  };\n  /**\n   * @param node 节点实例\n   * @return boolean 移除成功返回 true，否则返回 false\n   */\n  Hull.prototype.removeNonMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    var index = this.nonMembers.indexOf(item);\n    if (index > -1) {\n      this.nonMembers.splice(index, 1);\n      this.updateData(this.members, this.nonMembers);\n      return true;\n    }\n    return false;\n  };\n  Hull.prototype.updateData = function (members, nonMembers) {\n    var _this = this;\n    this.group.findById(this.id).remove();\n    if (members) this.members = members.map(function (item) {\n      return isString(item) ? _this.graph.findById(item) : item;\n    });\n    if (nonMembers) this.nonMembers = nonMembers.map(function (item) {\n      return isString(item) ? _this.graph.findById(item) : item;\n    });\n    this.path = this.calcPath(this.members, this.nonMembers);\n    this.render();\n  };\n  Hull.prototype.updateStyle = function (cfg) {\n    var path = this.group.findById(this.id);\n    path.attr(__assign({}, cfg));\n  };\n  /**\n   * 更新 hull\n   * @param cfg hull 配置项\n   */\n  Hull.prototype.updateCfg = function (cfg) {\n    var _this = this;\n    this.cfg = deepMix(this.cfg, cfg);\n    this.id = this.cfg.id;\n    this.group = this.cfg.group;\n    if (cfg.members) {\n      this.members = this.cfg.members.map(function (item) {\n        return isString(item) ? _this.graph.findById(item) : item;\n      });\n    }\n    if (cfg.nonMembers) {\n      this.nonMembers = this.cfg.nonMembers.map(function (item) {\n        return isString(item) ? _this.graph.findById(item) : item;\n      });\n    }\n    // TODO padding 设置太大，会影响到 contain 结果\n    this.setPadding();\n    this.setType();\n    this.path = this.calcPath(this.members, this.nonMembers);\n    this.render();\n  };\n  /**\n   * 判断是否在hull内部\n   * @param item\n   */\n  Hull.prototype.contain = function (item) {\n    var _this = this;\n    var nodeItem;\n    if (isString(item)) {\n      nodeItem = this.graph.findById(item);\n    } else {\n      nodeItem = item;\n    }\n    var shapePoints;\n    var shape = nodeItem.getKeyShape();\n    if (nodeItem.get('type') === 'path') {\n      shapePoints = pathToPoints(shape.attr('path'));\n    } else {\n      var shapeBBox = shape.getCanvasBBox();\n      shapePoints = [[shapeBBox.minX, shapeBBox.minY], [shapeBBox.maxX, shapeBBox.minY], [shapeBBox.maxX, shapeBBox.maxY], [shapeBBox.minX, shapeBBox.maxY]];\n    }\n    shapePoints = shapePoints.map(function (canvasPoint) {\n      var point = _this.graph.getPointByCanvas(canvasPoint[0], canvasPoint[1]);\n      return [point.x, point.y];\n    });\n    return isPolygonsIntersect(shapePoints, pathToPoints(this.path));\n  };\n  Hull.prototype.destroy = function () {\n    this.group.remove();\n    this.cfg = null;\n  };\n  return Hull;\n}();\nexport default Hull;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}