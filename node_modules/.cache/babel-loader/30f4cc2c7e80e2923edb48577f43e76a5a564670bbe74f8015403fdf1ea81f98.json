{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _initializerDefineProperty from \"@babel/runtime/helpers/esm/initializerDefineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _applyDecoratedDescriptor from \"@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"@babel/runtime/helpers/esm/initializerWarningHelper\";\nvar _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { IDebugLog, ILayerStage, TYPES } from '@antv/l7-core';\nimport { lodashUtil, normalize, rgb2arr } from '@antv/l7-utils';\nimport { inject, injectable } from 'inversify';\nimport 'reflect-metadata';\nvar cloneDeep = lodashUtil.cloneDeep;\nvar DataMappingPlugin = (_dec = injectable(), _dec2 = inject(TYPES.IMapService), _dec3 = inject(TYPES.IFontService), _dec(_class = (_class2 = /*#__PURE__*/function () {\n  function DataMappingPlugin() {\n    _classCallCheck(this, DataMappingPlugin);\n    _initializerDefineProperty(this, \"mapService\", _descriptor, this);\n    _initializerDefineProperty(this, \"fontService\", _descriptor2, this);\n  }\n  _createClass(DataMappingPlugin, [{\n    key: \"apply\",\n    value: function apply(layer, _ref) {\n      var _this = this;\n      var styleAttributeService = _ref.styleAttributeService;\n      layer.hooks.init.tapPromise('DataMappingPlugin', /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              layer.log(IDebugLog.MappingStart, ILayerStage.INIT);\n              // 初始化重新生成 map\n              _this.generateMaping(layer, {\n                styleAttributeService: styleAttributeService\n              });\n              layer.log(IDebugLog.MappingEnd, ILayerStage.INIT);\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      })));\n      layer.hooks.beforeRenderData.tapPromise('DataMappingPlugin', /*#__PURE__*/function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(flag) {\n          var mappingResult;\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                if (flag) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\", flag);\n              case 2:\n                layer.dataState.dataMappingNeedUpdate = false;\n                layer.log(IDebugLog.MappingStart, ILayerStage.UPDATE);\n                mappingResult = _this.generateMaping(layer, {\n                  styleAttributeService: styleAttributeService\n                });\n                layer.log(IDebugLog.MappingEnd, ILayerStage.UPDATE);\n                return _context2.abrupt(\"return\", mappingResult);\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2);\n        }));\n        return function (_x) {\n          return _ref3.apply(this, arguments);\n        };\n      }());\n\n      // remapping before render\n      layer.hooks.beforeRender.tap('DataMappingPlugin', function () {\n        var source = layer.getSource();\n        if (layer.layerModelNeedUpdate || !source || !source.inited) {\n          return;\n        }\n        var attributes = styleAttributeService.getLayerStyleAttributes() || [];\n        var filter = styleAttributeService.getLayerStyleAttribute('filter');\n        var dataArray = source.data.dataArray;\n        // TODO 数据为空的情况\n        if (Array.isArray(dataArray) && dataArray.length === 0) {\n          return;\n        }\n        var attributesToRemapping = attributes.filter(function (attribute) {\n          return attribute.needRemapping;\n        } // 如果filter变化\n        );\n\n        var filterData = dataArray;\n        // 数据过滤完 再执行数据映射\n        if (filter !== null && filter !== void 0 && filter.needRemapping && filter !== null && filter !== void 0 && filter.scale) {\n          filterData = dataArray.filter(function (record) {\n            return _this.applyAttributeMapping(filter, record)[0];\n          });\n        }\n        if (attributesToRemapping.length) {\n          // 过滤数据\n          var encodeData = _this.mapping(layer, attributesToRemapping, filterData, layer.getEncodedData() // TODO 优化\n          );\n\n          layer.setEncodedData(encodeData);\n        }\n\n        // 处理文本更新，更新文字形状\n        // layer.emit('remapping', null);\n      });\n    }\n  }, {\n    key: \"generateMaping\",\n    value: function generateMaping(layer, _ref4) {\n      var _this2 = this;\n      var styleAttributeService = _ref4.styleAttributeService;\n      var attributes = styleAttributeService.getLayerStyleAttributes() || [];\n      var filter = styleAttributeService.getLayerStyleAttribute('filter');\n      var dataArray = layer.getSource().data.dataArray;\n      var filterData = dataArray;\n      // 数据过滤完 再执行数据映射\n      if (filter !== null && filter !== void 0 && filter.scale) {\n        filterData = dataArray.filter(function (record) {\n          return _this2.applyAttributeMapping(filter, record)[0];\n        });\n      }\n      // Tip: layer 对数据做处理\n      // 数据处理 在数据进行 mapping 生成 encodeData 之前对数据进行处理\n      // 在各个 layer 中继承\n\n      filterData = layer.processData(filterData); // 目前只有简单线需要处理\n      var encodeData = this.mapping(layer, attributes, filterData, undefined);\n      layer.setEncodedData(encodeData);\n\n      // 对外暴露事件\n      layer.emit('dataUpdate', null);\n      return true;\n    }\n  }, {\n    key: \"mapping\",\n    value: function mapping(layer, attributes, data, predata) {\n      var _this3 = this;\n      var usedAttributes = attributes.filter(function (attribute) {\n        return attribute.scale !== undefined;\n      }).filter(function (attribute) {\n        return attribute.name !== 'filter';\n      });\n      var mappedData = data.map(function (record, i) {\n        var preRecord = predata ? predata[i] : {};\n        var encodeRecord = _objectSpread({\n          id: record._id,\n          coordinates: record.coordinates\n        }, preRecord);\n        usedAttributes.forEach(function (attribute) {\n          var values = _this3.applyAttributeMapping(attribute, record);\n          // TODO: 支持每个属性配置 postprocess}\n          if (attribute.name === 'color' || attribute.name === 'stroke') {\n            values = values.map(function (c) {\n              return rgb2arr(c);\n            });\n          }\n          // @ts-ignore\n          encodeRecord[attribute.name] = Array.isArray(values) && values.length === 1 ? values[0] : values;\n\n          // 增加对 layer/text/iconfont unicode 映射的解析\n          if (attribute.name === 'shape') {\n            encodeRecord.shape = _this3.fontService.getIconFontKey(encodeRecord[attribute.name]);\n          }\n        });\n        return encodeRecord;\n      });\n      attributes.forEach(function (attribute) {\n        attribute.needRemapping = false;\n      });\n      // 调整数据兼容 Amap2.0\n      this.adjustData2Amap2Coordinates(mappedData, layer);\n\n      // 调整数据兼容 SimpleCoordinates\n      this.adjustData2SimpleCoordinates(mappedData);\n      return mappedData;\n    }\n  }, {\n    key: \"adjustData2Amap2Coordinates\",\n    value: function adjustData2Amap2Coordinates(mappedData, layer) {\n      var _this4 = this;\n      // 根据地图的类型判断是否需要对点位数据进行处理, 若是高德2.0则需要对坐标进行相对偏移\n      if (mappedData.length > 0 && this.mapService.version === 'GAODE2.x') {\n        var layerCenter = layer.coordCenter || layer.getSource().center;\n        // 单个的点数据\n        // @ts-ignore\n        mappedData\n        // TODO: 避免经纬度被重复计算导致坐标位置偏移\n        .filter(function (d) {\n          return !d.originCoordinates;\n        }).map(function (d) {\n          d.version = 'GAODE2.x';\n          // @ts-ignore\n          d.originCoordinates = cloneDeep(d.coordinates); // 为了兼容高德1.x 需要保存一份原始的经纬度坐标数据（许多上层逻辑依赖经纬度数据）\n          // @ts-ignore\n          // d.coordinates = this.mapService.lngLatToCoord(d.coordinates);\n          d.coordinates = _this4.mapService.coordToAMap2RelativeCoordinates(d.coordinates, layerCenter);\n        });\n      }\n    }\n  }, {\n    key: \"adjustData2SimpleCoordinates\",\n    value: function adjustData2SimpleCoordinates(mappedData) {\n      var _this5 = this;\n      if (mappedData.length > 0 && this.mapService.version === 'SIMPLE') {\n        mappedData.map(function (d) {\n          if (!d.simpleCoordinate) {\n            d.coordinates = _this5.unProjectCoordinates(d.coordinates);\n            d.simpleCoordinate = true;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"unProjectCoordinates\",\n    value: function unProjectCoordinates(coordinates) {\n      var _this6 = this;\n      if (typeof coordinates[0] === 'number') {\n        return this.mapService.simpleMapCoord.unproject(coordinates);\n      }\n      if (coordinates[0] && coordinates[0][0] instanceof Array) {\n        // @ts-ignore\n        var coords = [];\n        coordinates.map(function (coord) {\n          // @ts-ignore\n          var c1 = [];\n          coord.map(function (co) {\n            c1.push(_this6.mapService.simpleMapCoord.unproject(co));\n          });\n          // @ts-ignore\n          coords.push(c1);\n        });\n        // @ts-ignore\n        return coords;\n      } else {\n        // @ts-ignore\n        var _coords = [];\n        // @ts-ignore\n        coordinates.map(function (coord) {\n          _coords.push(_this6.mapService.simpleMapCoord.unproject(coord));\n        });\n        // @ts-ignore\n        return _coords;\n      }\n    }\n  }, {\n    key: \"applyAttributeMapping\",\n    value: function applyAttributeMapping(attribute, record) {\n      var _attribute$scale;\n      if (!attribute.scale) {\n        return [];\n      }\n      var scalers = (attribute === null || attribute === void 0 || (_attribute$scale = attribute.scale) === null || _attribute$scale === void 0 ? void 0 : _attribute$scale.scalers) || [];\n      var params = [];\n      scalers.forEach(function (_ref5) {\n        var _attribute$scale2;\n        var field = _ref5.field;\n        if (record.hasOwnProperty(field) || ((_attribute$scale2 = attribute.scale) === null || _attribute$scale2 === void 0 ? void 0 : _attribute$scale2.type) === 'variable') {\n          // TODO:多字段，常量\n          params.push(record[field]);\n        }\n      });\n      var mappingResult = attribute.mapping ? attribute.mapping(params) : [];\n      return mappingResult;\n      // return attribute.mapping ? attribute.mapping(params) : [];\n    }\n  }, {\n    key: \"getArrowPoints\",\n    value: function getArrowPoints(p1, p2) {\n      var dir = [p2[0] - p1[0], p2[1] - p1[1]];\n      var normalizeDir = normalize(dir);\n      var arrowPoint = [p1[0] + normalizeDir[0] * 0.0001, p1[1] + normalizeDir[1] * 0.0001];\n      return arrowPoint;\n    }\n  }]);\n  return DataMappingPlugin;\n}(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"mapService\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"fontService\", [_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\nexport { DataMappingPlugin as default };","map":{"version":3,"names":["_objectSpread","_asyncToGenerator","_initializerDefineProperty","_classCallCheck","_createClass","_defineProperty","_applyDecoratedDescriptor","_initializerWarningHelper","_dec","_dec2","_dec3","_class","_class2","_descriptor","_descriptor2","_regeneratorRuntime","IDebugLog","ILayerStage","TYPES","lodashUtil","normalize","rgb2arr","inject","injectable","cloneDeep","DataMappingPlugin","IMapService","IFontService","key","value","apply","layer","_ref","_this","styleAttributeService","hooks","init","tapPromise","mark","_callee","wrap","_callee$","_context","prev","next","log","MappingStart","INIT","generateMaping","MappingEnd","stop","beforeRenderData","_ref3","_callee2","flag","mappingResult","_callee2$","_context2","abrupt","dataState","dataMappingNeedUpdate","UPDATE","_x","arguments","beforeRender","tap","source","getSource","layerModelNeedUpdate","inited","attributes","getLayerStyleAttributes","filter","getLayerStyleAttribute","dataArray","data","Array","isArray","length","attributesToRemapping","attribute","needRemapping","filterData","scale","record","applyAttributeMapping","encodeData","mapping","getEncodedData","setEncodedData","_ref4","_this2","processData","undefined","emit","predata","_this3","usedAttributes","name","mappedData","map","i","preRecord","encodeRecord","id","_id","coordinates","forEach","values","c","shape","fontService","getIconFontKey","adjustData2Amap2Coordinates","adjustData2SimpleCoordinates","_this4","mapService","version","layerCenter","coordCenter","center","d","originCoordinates","coordToAMap2RelativeCoordinates","_this5","simpleCoordinate","unProjectCoordinates","_this6","simpleMapCoord","unproject","coords","coord","c1","co","push","_coords","_attribute$scale","scalers","params","_ref5","_attribute$scale2","field","hasOwnProperty","type","getArrowPoints","p1","p2","dir","normalizeDir","arrowPoint","prototype","configurable","enumerable","writable","initializer","default"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-layers/es/plugins/DataMappingPlugin.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _initializerDefineProperty from \"@babel/runtime/helpers/esm/initializerDefineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _applyDecoratedDescriptor from \"@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"@babel/runtime/helpers/esm/initializerWarningHelper\";\nvar _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { IDebugLog, ILayerStage, TYPES } from '@antv/l7-core';\nimport { lodashUtil, normalize, rgb2arr } from '@antv/l7-utils';\nimport { inject, injectable } from 'inversify';\nimport 'reflect-metadata';\nvar cloneDeep = lodashUtil.cloneDeep;\nvar DataMappingPlugin = (_dec = injectable(), _dec2 = inject(TYPES.IMapService), _dec3 = inject(TYPES.IFontService), _dec(_class = (_class2 = /*#__PURE__*/function () {\n  function DataMappingPlugin() {\n    _classCallCheck(this, DataMappingPlugin);\n    _initializerDefineProperty(this, \"mapService\", _descriptor, this);\n    _initializerDefineProperty(this, \"fontService\", _descriptor2, this);\n  }\n  _createClass(DataMappingPlugin, [{\n    key: \"apply\",\n    value: function apply(layer, _ref) {\n      var _this = this;\n      var styleAttributeService = _ref.styleAttributeService;\n      layer.hooks.init.tapPromise('DataMappingPlugin', /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              layer.log(IDebugLog.MappingStart, ILayerStage.INIT);\n              // 初始化重新生成 map\n              _this.generateMaping(layer, {\n                styleAttributeService: styleAttributeService\n              });\n              layer.log(IDebugLog.MappingEnd, ILayerStage.INIT);\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      })));\n      layer.hooks.beforeRenderData.tapPromise('DataMappingPlugin', /*#__PURE__*/function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(flag) {\n          var mappingResult;\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                if (flag) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\", flag);\n              case 2:\n                layer.dataState.dataMappingNeedUpdate = false;\n                layer.log(IDebugLog.MappingStart, ILayerStage.UPDATE);\n                mappingResult = _this.generateMaping(layer, {\n                  styleAttributeService: styleAttributeService\n                });\n                layer.log(IDebugLog.MappingEnd, ILayerStage.UPDATE);\n                return _context2.abrupt(\"return\", mappingResult);\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2);\n        }));\n        return function (_x) {\n          return _ref3.apply(this, arguments);\n        };\n      }());\n\n      // remapping before render\n      layer.hooks.beforeRender.tap('DataMappingPlugin', function () {\n        var source = layer.getSource();\n        if (layer.layerModelNeedUpdate || !source || !source.inited) {\n          return;\n        }\n        var attributes = styleAttributeService.getLayerStyleAttributes() || [];\n        var filter = styleAttributeService.getLayerStyleAttribute('filter');\n        var dataArray = source.data.dataArray;\n        // TODO 数据为空的情况\n        if (Array.isArray(dataArray) && dataArray.length === 0) {\n          return;\n        }\n        var attributesToRemapping = attributes.filter(function (attribute) {\n          return attribute.needRemapping;\n        } // 如果filter变化\n        );\n\n        var filterData = dataArray;\n        // 数据过滤完 再执行数据映射\n        if (filter !== null && filter !== void 0 && filter.needRemapping && filter !== null && filter !== void 0 && filter.scale) {\n          filterData = dataArray.filter(function (record) {\n            return _this.applyAttributeMapping(filter, record)[0];\n          });\n        }\n        if (attributesToRemapping.length) {\n          // 过滤数据\n          var encodeData = _this.mapping(layer, attributesToRemapping, filterData, layer.getEncodedData() // TODO 优化\n          );\n\n          layer.setEncodedData(encodeData);\n        }\n\n        // 处理文本更新，更新文字形状\n        // layer.emit('remapping', null);\n      });\n    }\n  }, {\n    key: \"generateMaping\",\n    value: function generateMaping(layer, _ref4) {\n      var _this2 = this;\n      var styleAttributeService = _ref4.styleAttributeService;\n      var attributes = styleAttributeService.getLayerStyleAttributes() || [];\n      var filter = styleAttributeService.getLayerStyleAttribute('filter');\n      var dataArray = layer.getSource().data.dataArray;\n      var filterData = dataArray;\n      // 数据过滤完 再执行数据映射\n      if (filter !== null && filter !== void 0 && filter.scale) {\n        filterData = dataArray.filter(function (record) {\n          return _this2.applyAttributeMapping(filter, record)[0];\n        });\n      }\n      // Tip: layer 对数据做处理\n      // 数据处理 在数据进行 mapping 生成 encodeData 之前对数据进行处理\n      // 在各个 layer 中继承\n\n      filterData = layer.processData(filterData); // 目前只有简单线需要处理\n      var encodeData = this.mapping(layer, attributes, filterData, undefined);\n      layer.setEncodedData(encodeData);\n\n      // 对外暴露事件\n      layer.emit('dataUpdate', null);\n      return true;\n    }\n  }, {\n    key: \"mapping\",\n    value: function mapping(layer, attributes, data, predata) {\n      var _this3 = this;\n      var usedAttributes = attributes.filter(function (attribute) {\n        return attribute.scale !== undefined;\n      }).filter(function (attribute) {\n        return attribute.name !== 'filter';\n      });\n      var mappedData = data.map(function (record, i) {\n        var preRecord = predata ? predata[i] : {};\n        var encodeRecord = _objectSpread({\n          id: record._id,\n          coordinates: record.coordinates\n        }, preRecord);\n        usedAttributes.forEach(function (attribute) {\n          var values = _this3.applyAttributeMapping(attribute, record);\n          // TODO: 支持每个属性配置 postprocess}\n          if (attribute.name === 'color' || attribute.name === 'stroke') {\n            values = values.map(function (c) {\n              return rgb2arr(c);\n            });\n          }\n          // @ts-ignore\n          encodeRecord[attribute.name] = Array.isArray(values) && values.length === 1 ? values[0] : values;\n\n          // 增加对 layer/text/iconfont unicode 映射的解析\n          if (attribute.name === 'shape') {\n            encodeRecord.shape = _this3.fontService.getIconFontKey(encodeRecord[attribute.name]);\n          }\n        });\n        return encodeRecord;\n      });\n      attributes.forEach(function (attribute) {\n        attribute.needRemapping = false;\n      });\n      // 调整数据兼容 Amap2.0\n      this.adjustData2Amap2Coordinates(mappedData, layer);\n\n      // 调整数据兼容 SimpleCoordinates\n      this.adjustData2SimpleCoordinates(mappedData);\n      return mappedData;\n    }\n  }, {\n    key: \"adjustData2Amap2Coordinates\",\n    value: function adjustData2Amap2Coordinates(mappedData, layer) {\n      var _this4 = this;\n      // 根据地图的类型判断是否需要对点位数据进行处理, 若是高德2.0则需要对坐标进行相对偏移\n      if (mappedData.length > 0 && this.mapService.version === 'GAODE2.x') {\n        var layerCenter = layer.coordCenter || layer.getSource().center;\n        // 单个的点数据\n        // @ts-ignore\n        mappedData\n        // TODO: 避免经纬度被重复计算导致坐标位置偏移\n        .filter(function (d) {\n          return !d.originCoordinates;\n        }).map(function (d) {\n          d.version = 'GAODE2.x';\n          // @ts-ignore\n          d.originCoordinates = cloneDeep(d.coordinates); // 为了兼容高德1.x 需要保存一份原始的经纬度坐标数据（许多上层逻辑依赖经纬度数据）\n          // @ts-ignore\n          // d.coordinates = this.mapService.lngLatToCoord(d.coordinates);\n          d.coordinates = _this4.mapService.coordToAMap2RelativeCoordinates(d.coordinates, layerCenter);\n        });\n      }\n    }\n  }, {\n    key: \"adjustData2SimpleCoordinates\",\n    value: function adjustData2SimpleCoordinates(mappedData) {\n      var _this5 = this;\n      if (mappedData.length > 0 && this.mapService.version === 'SIMPLE') {\n        mappedData.map(function (d) {\n          if (!d.simpleCoordinate) {\n            d.coordinates = _this5.unProjectCoordinates(d.coordinates);\n            d.simpleCoordinate = true;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"unProjectCoordinates\",\n    value: function unProjectCoordinates(coordinates) {\n      var _this6 = this;\n      if (typeof coordinates[0] === 'number') {\n        return this.mapService.simpleMapCoord.unproject(coordinates);\n      }\n      if (coordinates[0] && coordinates[0][0] instanceof Array) {\n        // @ts-ignore\n        var coords = [];\n        coordinates.map(function (coord) {\n          // @ts-ignore\n          var c1 = [];\n          coord.map(function (co) {\n            c1.push(_this6.mapService.simpleMapCoord.unproject(co));\n          });\n          // @ts-ignore\n          coords.push(c1);\n        });\n        // @ts-ignore\n        return coords;\n      } else {\n        // @ts-ignore\n        var _coords = [];\n        // @ts-ignore\n        coordinates.map(function (coord) {\n          _coords.push(_this6.mapService.simpleMapCoord.unproject(coord));\n        });\n        // @ts-ignore\n        return _coords;\n      }\n    }\n  }, {\n    key: \"applyAttributeMapping\",\n    value: function applyAttributeMapping(attribute, record) {\n      var _attribute$scale;\n      if (!attribute.scale) {\n        return [];\n      }\n      var scalers = (attribute === null || attribute === void 0 || (_attribute$scale = attribute.scale) === null || _attribute$scale === void 0 ? void 0 : _attribute$scale.scalers) || [];\n      var params = [];\n      scalers.forEach(function (_ref5) {\n        var _attribute$scale2;\n        var field = _ref5.field;\n        if (record.hasOwnProperty(field) || ((_attribute$scale2 = attribute.scale) === null || _attribute$scale2 === void 0 ? void 0 : _attribute$scale2.type) === 'variable') {\n          // TODO:多字段，常量\n          params.push(record[field]);\n        }\n      });\n      var mappingResult = attribute.mapping ? attribute.mapping(params) : [];\n      return mappingResult;\n      // return attribute.mapping ? attribute.mapping(params) : [];\n    }\n  }, {\n    key: \"getArrowPoints\",\n    value: function getArrowPoints(p1, p2) {\n      var dir = [p2[0] - p1[0], p2[1] - p1[1]];\n      var normalizeDir = normalize(dir);\n      var arrowPoint = [p1[0] + normalizeDir[0] * 0.0001, p1[1] + normalizeDir[1] * 0.0001];\n      return arrowPoint;\n    }\n  }]);\n  return DataMappingPlugin;\n}(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"mapService\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"fontService\", [_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\nexport { DataMappingPlugin as default };"],"mappings":";AAAA,OAAOA,aAAa,MAAM,0CAA0C;AACpE,OAAOC,iBAAiB,MAAM,6CAA6C;AAC3E,OAAOC,0BAA0B,MAAM,sDAAsD;AAC7F,OAAOC,eAAe,MAAM,2CAA2C;AACvE,OAAOC,YAAY,MAAM,wCAAwC;AACjE,OAAOC,eAAe,MAAM,2CAA2C;AACvE,OAAOC,yBAAyB,MAAM,qDAAqD;AAC3F,OAAOC,yBAAyB,MAAM,qDAAqD;AAC3F,IAAIC,IAAI,EAAEC,KAAK,EAAEC,KAAK,EAAEC,MAAM,EAAEC,OAAO,EAAEC,WAAW,EAAEC,YAAY;AAClE,OAAOC,mBAAmB,MAAM,4BAA4B;AAC5D,SAASC,SAAS,EAAEC,WAAW,EAAEC,KAAK,QAAQ,eAAe;AAC7D,SAASC,UAAU,EAAEC,SAAS,EAAEC,OAAO,QAAQ,gBAAgB;AAC/D,SAASC,MAAM,EAAEC,UAAU,QAAQ,WAAW;AAC9C,OAAO,kBAAkB;AACzB,IAAIC,SAAS,GAAGL,UAAU,CAACK,SAAS;AACpC,IAAIC,iBAAiB,IAAIjB,IAAI,GAAGe,UAAU,CAAC,CAAC,EAAEd,KAAK,GAAGa,MAAM,CAACJ,KAAK,CAACQ,WAAW,CAAC,EAAEhB,KAAK,GAAGY,MAAM,CAACJ,KAAK,CAACS,YAAY,CAAC,EAAEnB,IAAI,CAACG,MAAM,IAAIC,OAAO,GAAG,aAAa,YAAY;EACrK,SAASa,iBAAiBA,CAAA,EAAG;IAC3BtB,eAAe,CAAC,IAAI,EAAEsB,iBAAiB,CAAC;IACxCvB,0BAA0B,CAAC,IAAI,EAAE,YAAY,EAAEW,WAAW,EAAE,IAAI,CAAC;IACjEX,0BAA0B,CAAC,IAAI,EAAE,aAAa,EAAEY,YAAY,EAAE,IAAI,CAAC;EACrE;EACAV,YAAY,CAACqB,iBAAiB,EAAE,CAAC;IAC/BG,GAAG,EAAE,OAAO;IACZC,KAAK,EAAE,SAASC,KAAKA,CAACC,KAAK,EAAEC,IAAI,EAAE;MACjC,IAAIC,KAAK,GAAG,IAAI;MAChB,IAAIC,qBAAqB,GAAGF,IAAI,CAACE,qBAAqB;MACtDH,KAAK,CAACI,KAAK,CAACC,IAAI,CAACC,UAAU,CAAC,mBAAmB,EAAE,aAAapC,iBAAiB,EAAE,aAAac,mBAAmB,CAACuB,IAAI,CAAC,SAASC,OAAOA,CAAA,EAAG;QACxI,OAAOxB,mBAAmB,CAACyB,IAAI,CAAC,SAASC,QAAQA,CAACC,QAAQ,EAAE;UAC1D,OAAO,CAAC,EAAE,QAAQA,QAAQ,CAACC,IAAI,GAAGD,QAAQ,CAACE,IAAI;YAC7C,KAAK,CAAC;cACJb,KAAK,CAACc,GAAG,CAAC7B,SAAS,CAAC8B,YAAY,EAAE7B,WAAW,CAAC8B,IAAI,CAAC;cACnD;cACAd,KAAK,CAACe,cAAc,CAACjB,KAAK,EAAE;gBAC1BG,qBAAqB,EAAEA;cACzB,CAAC,CAAC;cACFH,KAAK,CAACc,GAAG,CAAC7B,SAAS,CAACiC,UAAU,EAAEhC,WAAW,CAAC8B,IAAI,CAAC;YACnD,KAAK,CAAC;YACN,KAAK,KAAK;cACR,OAAOL,QAAQ,CAACQ,IAAI,CAAC,CAAC;UAC1B;QACF,CAAC,EAAEX,OAAO,CAAC;MACb,CAAC,CAAC,CAAC,CAAC;MACJR,KAAK,CAACI,KAAK,CAACgB,gBAAgB,CAACd,UAAU,CAAC,mBAAmB,EAAE,aAAa,YAAY;QACpF,IAAIe,KAAK,GAAGnD,iBAAiB,EAAE,aAAac,mBAAmB,CAACuB,IAAI,CAAC,SAASe,QAAQA,CAACC,IAAI,EAAE;UAC3F,IAAIC,aAAa;UACjB,OAAOxC,mBAAmB,CAACyB,IAAI,CAAC,SAASgB,SAASA,CAACC,SAAS,EAAE;YAC5D,OAAO,CAAC,EAAE,QAAQA,SAAS,CAACd,IAAI,GAAGc,SAAS,CAACb,IAAI;cAC/C,KAAK,CAAC;gBACJ,IAAIU,IAAI,EAAE;kBACRG,SAAS,CAACb,IAAI,GAAG,CAAC;kBAClB;gBACF;gBACA,OAAOa,SAAS,CAACC,MAAM,CAAC,QAAQ,EAAEJ,IAAI,CAAC;cACzC,KAAK,CAAC;gBACJvB,KAAK,CAAC4B,SAAS,CAACC,qBAAqB,GAAG,KAAK;gBAC7C7B,KAAK,CAACc,GAAG,CAAC7B,SAAS,CAAC8B,YAAY,EAAE7B,WAAW,CAAC4C,MAAM,CAAC;gBACrDN,aAAa,GAAGtB,KAAK,CAACe,cAAc,CAACjB,KAAK,EAAE;kBAC1CG,qBAAqB,EAAEA;gBACzB,CAAC,CAAC;gBACFH,KAAK,CAACc,GAAG,CAAC7B,SAAS,CAACiC,UAAU,EAAEhC,WAAW,CAAC4C,MAAM,CAAC;gBACnD,OAAOJ,SAAS,CAACC,MAAM,CAAC,QAAQ,EAAEH,aAAa,CAAC;cAClD,KAAK,CAAC;cACN,KAAK,KAAK;gBACR,OAAOE,SAAS,CAACP,IAAI,CAAC,CAAC;YAC3B;UACF,CAAC,EAAEG,QAAQ,CAAC;QACd,CAAC,CAAC,CAAC;QACH,OAAO,UAAUS,EAAE,EAAE;UACnB,OAAOV,KAAK,CAACtB,KAAK,CAAC,IAAI,EAAEiC,SAAS,CAAC;QACrC,CAAC;MACH,CAAC,CAAC,CAAC,CAAC;;MAEJ;MACAhC,KAAK,CAACI,KAAK,CAAC6B,YAAY,CAACC,GAAG,CAAC,mBAAmB,EAAE,YAAY;QAC5D,IAAIC,MAAM,GAAGnC,KAAK,CAACoC,SAAS,CAAC,CAAC;QAC9B,IAAIpC,KAAK,CAACqC,oBAAoB,IAAI,CAACF,MAAM,IAAI,CAACA,MAAM,CAACG,MAAM,EAAE;UAC3D;QACF;QACA,IAAIC,UAAU,GAAGpC,qBAAqB,CAACqC,uBAAuB,CAAC,CAAC,IAAI,EAAE;QACtE,IAAIC,MAAM,GAAGtC,qBAAqB,CAACuC,sBAAsB,CAAC,QAAQ,CAAC;QACnE,IAAIC,SAAS,GAAGR,MAAM,CAACS,IAAI,CAACD,SAAS;QACrC;QACA,IAAIE,KAAK,CAACC,OAAO,CAACH,SAAS,CAAC,IAAIA,SAAS,CAACI,MAAM,KAAK,CAAC,EAAE;UACtD;QACF;QACA,IAAIC,qBAAqB,GAAGT,UAAU,CAACE,MAAM,CAAC,UAAUQ,SAAS,EAAE;UACjE,OAAOA,SAAS,CAACC,aAAa;QAChC,CAAC,CAAC;QACF,CAAC;;QAED,IAAIC,UAAU,GAAGR,SAAS;QAC1B;QACA,IAAIF,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,KAAK,CAAC,IAAIA,MAAM,CAACS,aAAa,IAAIT,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,KAAK,CAAC,IAAIA,MAAM,CAACW,KAAK,EAAE;UACxHD,UAAU,GAAGR,SAAS,CAACF,MAAM,CAAC,UAAUY,MAAM,EAAE;YAC9C,OAAOnD,KAAK,CAACoD,qBAAqB,CAACb,MAAM,EAAEY,MAAM,CAAC,CAAC,CAAC,CAAC;UACvD,CAAC,CAAC;QACJ;QACA,IAAIL,qBAAqB,CAACD,MAAM,EAAE;UAChC;UACA,IAAIQ,UAAU,GAAGrD,KAAK,CAACsD,OAAO,CAACxD,KAAK,EAAEgD,qBAAqB,EAAEG,UAAU,EAAEnD,KAAK,CAACyD,cAAc,CAAC,CAAC,CAAC;UAChG,CAAC;;UAEDzD,KAAK,CAAC0D,cAAc,CAACH,UAAU,CAAC;QAClC;;QAEA;QACA;MACF,CAAC,CAAC;IACJ;EACF,CAAC,EAAE;IACD1D,GAAG,EAAE,gBAAgB;IACrBC,KAAK,EAAE,SAASmB,cAAcA,CAACjB,KAAK,EAAE2D,KAAK,EAAE;MAC3C,IAAIC,MAAM,GAAG,IAAI;MACjB,IAAIzD,qBAAqB,GAAGwD,KAAK,CAACxD,qBAAqB;MACvD,IAAIoC,UAAU,GAAGpC,qBAAqB,CAACqC,uBAAuB,CAAC,CAAC,IAAI,EAAE;MACtE,IAAIC,MAAM,GAAGtC,qBAAqB,CAACuC,sBAAsB,CAAC,QAAQ,CAAC;MACnE,IAAIC,SAAS,GAAG3C,KAAK,CAACoC,SAAS,CAAC,CAAC,CAACQ,IAAI,CAACD,SAAS;MAChD,IAAIQ,UAAU,GAAGR,SAAS;MAC1B;MACA,IAAIF,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,KAAK,CAAC,IAAIA,MAAM,CAACW,KAAK,EAAE;QACxDD,UAAU,GAAGR,SAAS,CAACF,MAAM,CAAC,UAAUY,MAAM,EAAE;UAC9C,OAAOO,MAAM,CAACN,qBAAqB,CAACb,MAAM,EAAEY,MAAM,CAAC,CAAC,CAAC,CAAC;QACxD,CAAC,CAAC;MACJ;MACA;MACA;MACA;;MAEAF,UAAU,GAAGnD,KAAK,CAAC6D,WAAW,CAACV,UAAU,CAAC,CAAC,CAAC;MAC5C,IAAII,UAAU,GAAG,IAAI,CAACC,OAAO,CAACxD,KAAK,EAAEuC,UAAU,EAAEY,UAAU,EAAEW,SAAS,CAAC;MACvE9D,KAAK,CAAC0D,cAAc,CAACH,UAAU,CAAC;;MAEhC;MACAvD,KAAK,CAAC+D,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC;MAC9B,OAAO,IAAI;IACb;EACF,CAAC,EAAE;IACDlE,GAAG,EAAE,SAAS;IACdC,KAAK,EAAE,SAAS0D,OAAOA,CAACxD,KAAK,EAAEuC,UAAU,EAAEK,IAAI,EAAEoB,OAAO,EAAE;MACxD,IAAIC,MAAM,GAAG,IAAI;MACjB,IAAIC,cAAc,GAAG3B,UAAU,CAACE,MAAM,CAAC,UAAUQ,SAAS,EAAE;QAC1D,OAAOA,SAAS,CAACG,KAAK,KAAKU,SAAS;MACtC,CAAC,CAAC,CAACrB,MAAM,CAAC,UAAUQ,SAAS,EAAE;QAC7B,OAAOA,SAAS,CAACkB,IAAI,KAAK,QAAQ;MACpC,CAAC,CAAC;MACF,IAAIC,UAAU,GAAGxB,IAAI,CAACyB,GAAG,CAAC,UAAUhB,MAAM,EAAEiB,CAAC,EAAE;QAC7C,IAAIC,SAAS,GAAGP,OAAO,GAAGA,OAAO,CAACM,CAAC,CAAC,GAAG,CAAC,CAAC;QACzC,IAAIE,YAAY,GAAGvG,aAAa,CAAC;UAC/BwG,EAAE,EAAEpB,MAAM,CAACqB,GAAG;UACdC,WAAW,EAAEtB,MAAM,CAACsB;QACtB,CAAC,EAAEJ,SAAS,CAAC;QACbL,cAAc,CAACU,OAAO,CAAC,UAAU3B,SAAS,EAAE;UAC1C,IAAI4B,MAAM,GAAGZ,MAAM,CAACX,qBAAqB,CAACL,SAAS,EAAEI,MAAM,CAAC;UAC5D;UACA,IAAIJ,SAAS,CAACkB,IAAI,KAAK,OAAO,IAAIlB,SAAS,CAACkB,IAAI,KAAK,QAAQ,EAAE;YAC7DU,MAAM,GAAGA,MAAM,CAACR,GAAG,CAAC,UAAUS,CAAC,EAAE;cAC/B,OAAOxF,OAAO,CAACwF,CAAC,CAAC;YACnB,CAAC,CAAC;UACJ;UACA;UACAN,YAAY,CAACvB,SAAS,CAACkB,IAAI,CAAC,GAAGtB,KAAK,CAACC,OAAO,CAAC+B,MAAM,CAAC,IAAIA,MAAM,CAAC9B,MAAM,KAAK,CAAC,GAAG8B,MAAM,CAAC,CAAC,CAAC,GAAGA,MAAM;;UAEhG;UACA,IAAI5B,SAAS,CAACkB,IAAI,KAAK,OAAO,EAAE;YAC9BK,YAAY,CAACO,KAAK,GAAGd,MAAM,CAACe,WAAW,CAACC,cAAc,CAACT,YAAY,CAACvB,SAAS,CAACkB,IAAI,CAAC,CAAC;UACtF;QACF,CAAC,CAAC;QACF,OAAOK,YAAY;MACrB,CAAC,CAAC;MACFjC,UAAU,CAACqC,OAAO,CAAC,UAAU3B,SAAS,EAAE;QACtCA,SAAS,CAACC,aAAa,GAAG,KAAK;MACjC,CAAC,CAAC;MACF;MACA,IAAI,CAACgC,2BAA2B,CAACd,UAAU,EAAEpE,KAAK,CAAC;;MAEnD;MACA,IAAI,CAACmF,4BAA4B,CAACf,UAAU,CAAC;MAC7C,OAAOA,UAAU;IACnB;EACF,CAAC,EAAE;IACDvE,GAAG,EAAE,6BAA6B;IAClCC,KAAK,EAAE,SAASoF,2BAA2BA,CAACd,UAAU,EAAEpE,KAAK,EAAE;MAC7D,IAAIoF,MAAM,GAAG,IAAI;MACjB;MACA,IAAIhB,UAAU,CAACrB,MAAM,GAAG,CAAC,IAAI,IAAI,CAACsC,UAAU,CAACC,OAAO,KAAK,UAAU,EAAE;QACnE,IAAIC,WAAW,GAAGvF,KAAK,CAACwF,WAAW,IAAIxF,KAAK,CAACoC,SAAS,CAAC,CAAC,CAACqD,MAAM;QAC/D;QACA;QACArB;QACA;QAAA,CACC3B,MAAM,CAAC,UAAUiD,CAAC,EAAE;UACnB,OAAO,CAACA,CAAC,CAACC,iBAAiB;QAC7B,CAAC,CAAC,CAACtB,GAAG,CAAC,UAAUqB,CAAC,EAAE;UAClBA,CAAC,CAACJ,OAAO,GAAG,UAAU;UACtB;UACAI,CAAC,CAACC,iBAAiB,GAAGlG,SAAS,CAACiG,CAAC,CAACf,WAAW,CAAC,CAAC,CAAC;UAChD;UACA;UACAe,CAAC,CAACf,WAAW,GAAGS,MAAM,CAACC,UAAU,CAACO,+BAA+B,CAACF,CAAC,CAACf,WAAW,EAAEY,WAAW,CAAC;QAC/F,CAAC,CAAC;MACJ;IACF;EACF,CAAC,EAAE;IACD1F,GAAG,EAAE,8BAA8B;IACnCC,KAAK,EAAE,SAASqF,4BAA4BA,CAACf,UAAU,EAAE;MACvD,IAAIyB,MAAM,GAAG,IAAI;MACjB,IAAIzB,UAAU,CAACrB,MAAM,GAAG,CAAC,IAAI,IAAI,CAACsC,UAAU,CAACC,OAAO,KAAK,QAAQ,EAAE;QACjElB,UAAU,CAACC,GAAG,CAAC,UAAUqB,CAAC,EAAE;UAC1B,IAAI,CAACA,CAAC,CAACI,gBAAgB,EAAE;YACvBJ,CAAC,CAACf,WAAW,GAAGkB,MAAM,CAACE,oBAAoB,CAACL,CAAC,CAACf,WAAW,CAAC;YAC1De,CAAC,CAACI,gBAAgB,GAAG,IAAI;UAC3B;QACF,CAAC,CAAC;MACJ;IACF;EACF,CAAC,EAAE;IACDjG,GAAG,EAAE,sBAAsB;IAC3BC,KAAK,EAAE,SAASiG,oBAAoBA,CAACpB,WAAW,EAAE;MAChD,IAAIqB,MAAM,GAAG,IAAI;MACjB,IAAI,OAAOrB,WAAW,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAE;QACtC,OAAO,IAAI,CAACU,UAAU,CAACY,cAAc,CAACC,SAAS,CAACvB,WAAW,CAAC;MAC9D;MACA,IAAIA,WAAW,CAAC,CAAC,CAAC,IAAIA,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY9B,KAAK,EAAE;QACxD;QACA,IAAIsD,MAAM,GAAG,EAAE;QACfxB,WAAW,CAACN,GAAG,CAAC,UAAU+B,KAAK,EAAE;UAC/B;UACA,IAAIC,EAAE,GAAG,EAAE;UACXD,KAAK,CAAC/B,GAAG,CAAC,UAAUiC,EAAE,EAAE;YACtBD,EAAE,CAACE,IAAI,CAACP,MAAM,CAACX,UAAU,CAACY,cAAc,CAACC,SAAS,CAACI,EAAE,CAAC,CAAC;UACzD,CAAC,CAAC;UACF;UACAH,MAAM,CAACI,IAAI,CAACF,EAAE,CAAC;QACjB,CAAC,CAAC;QACF;QACA,OAAOF,MAAM;MACf,CAAC,MAAM;QACL;QACA,IAAIK,OAAO,GAAG,EAAE;QAChB;QACA7B,WAAW,CAACN,GAAG,CAAC,UAAU+B,KAAK,EAAE;UAC/BI,OAAO,CAACD,IAAI,CAACP,MAAM,CAACX,UAAU,CAACY,cAAc,CAACC,SAAS,CAACE,KAAK,CAAC,CAAC;QACjE,CAAC,CAAC;QACF;QACA,OAAOI,OAAO;MAChB;IACF;EACF,CAAC,EAAE;IACD3G,GAAG,EAAE,uBAAuB;IAC5BC,KAAK,EAAE,SAASwD,qBAAqBA,CAACL,SAAS,EAAEI,MAAM,EAAE;MACvD,IAAIoD,gBAAgB;MACpB,IAAI,CAACxD,SAAS,CAACG,KAAK,EAAE;QACpB,OAAO,EAAE;MACX;MACA,IAAIsD,OAAO,GAAG,CAACzD,SAAS,KAAK,IAAI,IAAIA,SAAS,KAAK,KAAK,CAAC,IAAI,CAACwD,gBAAgB,GAAGxD,SAAS,CAACG,KAAK,MAAM,IAAI,IAAIqD,gBAAgB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAACC,OAAO,KAAK,EAAE;MACpL,IAAIC,MAAM,GAAG,EAAE;MACfD,OAAO,CAAC9B,OAAO,CAAC,UAAUgC,KAAK,EAAE;QAC/B,IAAIC,iBAAiB;QACrB,IAAIC,KAAK,GAAGF,KAAK,CAACE,KAAK;QACvB,IAAIzD,MAAM,CAAC0D,cAAc,CAACD,KAAK,CAAC,IAAI,CAAC,CAACD,iBAAiB,GAAG5D,SAAS,CAACG,KAAK,MAAM,IAAI,IAAIyD,iBAAiB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,iBAAiB,CAACG,IAAI,MAAM,UAAU,EAAE;UACrK;UACAL,MAAM,CAACJ,IAAI,CAAClD,MAAM,CAACyD,KAAK,CAAC,CAAC;QAC5B;MACF,CAAC,CAAC;MACF,IAAItF,aAAa,GAAGyB,SAAS,CAACO,OAAO,GAAGP,SAAS,CAACO,OAAO,CAACmD,MAAM,CAAC,GAAG,EAAE;MACtE,OAAOnF,aAAa;MACpB;IACF;EACF,CAAC,EAAE;IACD3B,GAAG,EAAE,gBAAgB;IACrBC,KAAK,EAAE,SAASmH,cAAcA,CAACC,EAAE,EAAEC,EAAE,EAAE;MACrC,IAAIC,GAAG,GAAG,CAACD,EAAE,CAAC,CAAC,CAAC,GAAGD,EAAE,CAAC,CAAC,CAAC,EAAEC,EAAE,CAAC,CAAC,CAAC,GAAGD,EAAE,CAAC,CAAC,CAAC,CAAC;MACxC,IAAIG,YAAY,GAAGhI,SAAS,CAAC+H,GAAG,CAAC;MACjC,IAAIE,UAAU,GAAG,CAACJ,EAAE,CAAC,CAAC,CAAC,GAAGG,YAAY,CAAC,CAAC,CAAC,GAAG,MAAM,EAAEH,EAAE,CAAC,CAAC,CAAC,GAAGG,YAAY,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;MACrF,OAAOC,UAAU;IACnB;EACF,CAAC,CAAC,CAAC;EACH,OAAO5H,iBAAiB;AAC1B,CAAC,CAAC,CAAC,GAAGZ,WAAW,GAAGP,yBAAyB,CAACM,OAAO,CAAC0I,SAAS,EAAE,YAAY,EAAE,CAAC7I,KAAK,CAAC,EAAE;EACtF8I,YAAY,EAAE,IAAI;EAClBC,UAAU,EAAE,IAAI;EAChBC,QAAQ,EAAE,IAAI;EACdC,WAAW,EAAE;AACf,CAAC,CAAC,EAAE5I,YAAY,GAAGR,yBAAyB,CAACM,OAAO,CAAC0I,SAAS,EAAE,aAAa,EAAE,CAAC5I,KAAK,CAAC,EAAE;EACtF6I,YAAY,EAAE,IAAI;EAClBC,UAAU,EAAE,IAAI;EAChBC,QAAQ,EAAE,IAAI;EACdC,WAAW,EAAE;AACf,CAAC,CAAC,GAAG9I,OAAO,CAAC,CAAC,IAAID,MAAM,CAAC;AACzB,SAASc,iBAAiB,IAAIkI,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}