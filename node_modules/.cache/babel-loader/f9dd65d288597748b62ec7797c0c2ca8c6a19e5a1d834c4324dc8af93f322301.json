{"ast":null,"code":"var DEGREES_TO_RADIANS = Math.PI / 180;\nvar TILE_SIZE = 512;\n// Average circumference (40075 km equatorial, 40007 km meridional)\nvar EARTH_CIRCUMFERENCE = 40.03e6;\n/**\n * Calculate distance scales in meters around current lat/lon, both for\n * degrees and pixels.\n * In mercator projection mode, the distance scales vary significantly\n * with latitude.\n */\nexport function getDistanceScales(_ref) {\n  var _ref$latitude = _ref.latitude,\n    latitude = _ref$latitude === void 0 ? 0 : _ref$latitude,\n    _ref$zoom = _ref.zoom,\n    zoom = _ref$zoom === void 0 ? 0 : _ref$zoom,\n    scale = _ref.scale,\n    _ref$highPrecision = _ref.highPrecision,\n    highPrecision = _ref$highPrecision === void 0 ? false : _ref$highPrecision,\n    _ref$flipY = _ref.flipY,\n    flipY = _ref$flipY === void 0 ? false : _ref$flipY;\n  // Calculate scale from zoom if not provided\n  scale = scale !== undefined ? scale : Math.pow(2, zoom);\n\n  // @ts-ignore\n  var result = {};\n  var worldSize = TILE_SIZE * scale;\n  var latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n\n  /**\n   * Number of pixels occupied by one degree longitude around current lat/lon:\n   *  pixelsPerDegreeX = d(lngLatToWorld([lng, lat])[0])/d(lng)\n   *     = scale * TILE_SIZE * DEGREES_TO_RADIANS / (2 * PI)\n   *   pixelsPerDegreeY = d(lngLatToWorld([lng, lat])[1])/d(lat)\n   *     = -scale * TILE_SIZE * DEGREES_TO_RADIANS / cos(lat * DEGREES_TO_RADIANS)  / (2 * PI)\n   */\n  var pixelsPerDegreeX = worldSize / 360;\n  var pixelsPerDegreeY = pixelsPerDegreeX / latCosine;\n\n  /**\n   * Number of pixels occupied by one meter around current lat/lon:\n   */\n  var altPixelsPerMeter = worldSize / EARTH_CIRCUMFERENCE / latCosine;\n\n  /**\n   * LngLat: longitude -> east and latitude -> north (bottom left)\n   * UTM meter offset: x -> east and y -> north (bottom left)\n   * World space: x -> east and y -> south (top left)\n   *\n   * Y needs to be flipped when converting delta degree/meter to delta pixels\n   */\n  result.pixelsPerMeter = [altPixelsPerMeter, -altPixelsPerMeter, altPixelsPerMeter];\n  result.metersPerPixel = [1 / altPixelsPerMeter, -1 / altPixelsPerMeter, 1 / altPixelsPerMeter];\n  result.pixelsPerDegree = [pixelsPerDegreeX, -pixelsPerDegreeY, altPixelsPerMeter];\n  result.degreesPerPixel = [1 / pixelsPerDegreeX, -1 / pixelsPerDegreeY, 1 / altPixelsPerMeter];\n\n  /**\n   * Taylor series 2nd order for 1/latCosine\n   *  f'(a) * (x - a)\n   *     = d(1/cos(lat * DEGREES_TO_RADIANS))/d(lat) * dLat\n   *     = DEGREES_TO_RADIANS * tan(lat * DEGREES_TO_RADIANS) / cos(lat * DEGREES_TO_RADIANS) * dLat\n   */\n  if (highPrecision) {\n    var latCosine2 = DEGREES_TO_RADIANS * Math.tan(latitude * DEGREES_TO_RADIANS) / latCosine;\n    var pixelsPerDegreeY2 = pixelsPerDegreeX * latCosine2 / 2;\n    var altPixelsPerDegree2 = worldSize / EARTH_CIRCUMFERENCE * latCosine2;\n    var altPixelsPerMeter2 = altPixelsPerDegree2 / pixelsPerDegreeY * altPixelsPerMeter;\n    result.pixelsPerDegree2 = [0, -pixelsPerDegreeY2, altPixelsPerDegree2];\n    result.pixelsPerMeter2 = [altPixelsPerMeter2, 0, altPixelsPerMeter2];\n    if (flipY) {\n      result.pixelsPerDegree2[1] = -result.pixelsPerDegree2[1];\n      result.pixelsPerMeter2[1] = -result.pixelsPerMeter2[1];\n    }\n  }\n  if (flipY) {\n    result.pixelsPerMeter[1] = -result.pixelsPerMeter[1];\n    result.metersPerPixel[1] = -result.metersPerPixel[1];\n    result.pixelsPerDegree[1] = -result.pixelsPerDegree[1];\n    result.degreesPerPixel[1] = -result.degreesPerPixel[1];\n  }\n\n  // Main results, used for converting meters to latlng deltas and scaling offsets\n  return result;\n}","map":{"version":3,"names":["DEGREES_TO_RADIANS","Math","PI","TILE_SIZE","EARTH_CIRCUMFERENCE","getDistanceScales","_ref","_ref$latitude","latitude","_ref$zoom","zoom","scale","_ref$highPrecision","highPrecision","_ref$flipY","flipY","undefined","pow","result","worldSize","latCosine","cos","pixelsPerDegreeX","pixelsPerDegreeY","altPixelsPerMeter","pixelsPerMeter","metersPerPixel","pixelsPerDegree","degreesPerPixel","latCosine2","tan","pixelsPerDegreeY2","altPixelsPerDegree2","altPixelsPerMeter2","pixelsPerDegree2","pixelsPerMeter2"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-core/es/utils/project.js"],"sourcesContent":["var DEGREES_TO_RADIANS = Math.PI / 180;\nvar TILE_SIZE = 512;\n// Average circumference (40075 km equatorial, 40007 km meridional)\nvar EARTH_CIRCUMFERENCE = 40.03e6;\n/**\n * Calculate distance scales in meters around current lat/lon, both for\n * degrees and pixels.\n * In mercator projection mode, the distance scales vary significantly\n * with latitude.\n */\nexport function getDistanceScales(_ref) {\n  var _ref$latitude = _ref.latitude,\n    latitude = _ref$latitude === void 0 ? 0 : _ref$latitude,\n    _ref$zoom = _ref.zoom,\n    zoom = _ref$zoom === void 0 ? 0 : _ref$zoom,\n    scale = _ref.scale,\n    _ref$highPrecision = _ref.highPrecision,\n    highPrecision = _ref$highPrecision === void 0 ? false : _ref$highPrecision,\n    _ref$flipY = _ref.flipY,\n    flipY = _ref$flipY === void 0 ? false : _ref$flipY;\n  // Calculate scale from zoom if not provided\n  scale = scale !== undefined ? scale : Math.pow(2, zoom);\n\n  // @ts-ignore\n  var result = {};\n  var worldSize = TILE_SIZE * scale;\n  var latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n\n  /**\n   * Number of pixels occupied by one degree longitude around current lat/lon:\n   *  pixelsPerDegreeX = d(lngLatToWorld([lng, lat])[0])/d(lng)\n   *     = scale * TILE_SIZE * DEGREES_TO_RADIANS / (2 * PI)\n   *   pixelsPerDegreeY = d(lngLatToWorld([lng, lat])[1])/d(lat)\n   *     = -scale * TILE_SIZE * DEGREES_TO_RADIANS / cos(lat * DEGREES_TO_RADIANS)  / (2 * PI)\n   */\n  var pixelsPerDegreeX = worldSize / 360;\n  var pixelsPerDegreeY = pixelsPerDegreeX / latCosine;\n\n  /**\n   * Number of pixels occupied by one meter around current lat/lon:\n   */\n  var altPixelsPerMeter = worldSize / EARTH_CIRCUMFERENCE / latCosine;\n\n  /**\n   * LngLat: longitude -> east and latitude -> north (bottom left)\n   * UTM meter offset: x -> east and y -> north (bottom left)\n   * World space: x -> east and y -> south (top left)\n   *\n   * Y needs to be flipped when converting delta degree/meter to delta pixels\n   */\n  result.pixelsPerMeter = [altPixelsPerMeter, -altPixelsPerMeter, altPixelsPerMeter];\n  result.metersPerPixel = [1 / altPixelsPerMeter, -1 / altPixelsPerMeter, 1 / altPixelsPerMeter];\n  result.pixelsPerDegree = [pixelsPerDegreeX, -pixelsPerDegreeY, altPixelsPerMeter];\n  result.degreesPerPixel = [1 / pixelsPerDegreeX, -1 / pixelsPerDegreeY, 1 / altPixelsPerMeter];\n\n  /**\n   * Taylor series 2nd order for 1/latCosine\n   *  f'(a) * (x - a)\n   *     = d(1/cos(lat * DEGREES_TO_RADIANS))/d(lat) * dLat\n   *     = DEGREES_TO_RADIANS * tan(lat * DEGREES_TO_RADIANS) / cos(lat * DEGREES_TO_RADIANS) * dLat\n   */\n  if (highPrecision) {\n    var latCosine2 = DEGREES_TO_RADIANS * Math.tan(latitude * DEGREES_TO_RADIANS) / latCosine;\n    var pixelsPerDegreeY2 = pixelsPerDegreeX * latCosine2 / 2;\n    var altPixelsPerDegree2 = worldSize / EARTH_CIRCUMFERENCE * latCosine2;\n    var altPixelsPerMeter2 = altPixelsPerDegree2 / pixelsPerDegreeY * altPixelsPerMeter;\n    result.pixelsPerDegree2 = [0, -pixelsPerDegreeY2, altPixelsPerDegree2];\n    result.pixelsPerMeter2 = [altPixelsPerMeter2, 0, altPixelsPerMeter2];\n    if (flipY) {\n      result.pixelsPerDegree2[1] = -result.pixelsPerDegree2[1];\n      result.pixelsPerMeter2[1] = -result.pixelsPerMeter2[1];\n    }\n  }\n  if (flipY) {\n    result.pixelsPerMeter[1] = -result.pixelsPerMeter[1];\n    result.metersPerPixel[1] = -result.metersPerPixel[1];\n    result.pixelsPerDegree[1] = -result.pixelsPerDegree[1];\n    result.degreesPerPixel[1] = -result.degreesPerPixel[1];\n  }\n\n  // Main results, used for converting meters to latlng deltas and scaling offsets\n  return result;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}