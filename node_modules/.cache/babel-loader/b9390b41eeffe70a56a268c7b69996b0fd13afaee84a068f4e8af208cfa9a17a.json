{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { each, mix } from '@antv/util';\nimport { Util } from '@antv/g6-core';\nimport Base from '../base';\nvar pointLineDistance = Util.pointLineDistance;\n// 对齐线样式\nvar alignLineStyle = {\n  stroke: '#FA8C16',\n  lineWidth: 1\n};\nvar SnapLine = /** @class */function (_super) {\n  __extends(SnapLine, _super);\n  function SnapLine(props) {\n    return _super.call(this, props) || this;\n  }\n  SnapLine.prototype.getDefaultCfgs = function () {\n    return {\n      line: alignLineStyle,\n      /**\n       * item align type\n       * @type {String|True|False}\n       */\n      itemAlignType: 'center',\n      /**\n       * tolerance to item force align\n       * @type {String|True|False}\n       */\n      tolerance: 5,\n      horizontalLines: {},\n      verticalLines: {},\n      alignLines: []\n    };\n  };\n  SnapLine.prototype.init = function () {};\n  // class-methods-use-this\n  SnapLine.prototype.getEvents = function () {\n    return {\n      'node:dragstart': 'onDragStart',\n      'node:drag': 'onDrag',\n      'node:dragend': 'onDragEnd'\n    };\n  };\n  SnapLine.prototype.onDragStart = function () {\n    this.initBoxLine();\n  };\n  SnapLine.prototype.onDrag = function (e) {\n    var item = e.item;\n    // 计算辅助线位置,拖动过程中更新辅助线\n    var delegateShape = item.get('delegateShape') || item;\n    var bbox = delegateShape.getBBox();\n    var model = item.getModel();\n    var dx = model.x - bbox.x;\n    var dy = model.y - bbox.y;\n    this.show({\n      x: bbox.minX + dx,\n      y: bbox.minY + dy\n    }, {\n      width: bbox.width,\n      height: bbox.height\n    });\n  };\n  SnapLine.prototype.onDragEnd = function () {\n    // 拖动结束时候删除辅助线\n    this.destory();\n  };\n  /**\n   * 每次开始拖动之前，计算出所有节点在水平和垂直方向上，左中右三条中线，并缓存起来\n   *\n   * @param {object} item Node节点\n   * @memberof AlignLine\n   */\n  SnapLine.prototype.initBoxLine = function () {\n    var _a = this._cfgs,\n      horizontalLines = _a.horizontalLines,\n      verticalLines = _a.verticalLines,\n      itemAlignType = _a.itemAlignType;\n    var graph = this.get('graph');\n    var nodes = graph.getNodes();\n    nodes.forEach(function (item) {\n      var bbox = item.getBBox();\n      var nodeId = item.get('id');\n      // 设置水平方向辅助线\n      if (itemAlignType === true || itemAlignType === 'horizontal') {\n        // tltr: top left top right\n        // lcrc: left center right center\n        // blbr: bottom left bottom right\n        horizontalLines[\"\".concat(nodeId, \"tltr\")] = [bbox.minX, bbox.minY, bbox.maxX, bbox.minY, item];\n        horizontalLines[\"\".concat(nodeId, \"lcrc\")] = [bbox.minX, bbox.centerY, bbox.maxX, bbox.centerY, item];\n        horizontalLines[\"\".concat(nodeId, \"blbr\")] = [bbox.minX, bbox.maxY, bbox.maxX, bbox.maxY, item];\n      } else if (itemAlignType === 'center') {\n        horizontalLines[\"\".concat(nodeId, \"lcrc\")] = [bbox.minX, bbox.centerY, bbox.maxX, bbox.centerY, item];\n      }\n      // 设置垂直方向辅助线\n      if (itemAlignType === true || itemAlignType === 'vertical') {\n        // tlbl: top left bottom left\n        // tcbc: top center bottom center\n        // trbr: top right bottom right\n        verticalLines[\"\".concat(nodeId, \"tlbl\")] = [bbox.minX, bbox.minY, bbox.minX, bbox.maxY, item];\n        verticalLines[\"\".concat(nodeId, \"tcbc\")] = [bbox.centerX, bbox.minY, bbox.centerX, bbox.maxY, item];\n        verticalLines[\"\".concat(nodeId, \"trbr\")] = [bbox.maxX, bbox.minY, bbox.maxX, bbox.maxY, item];\n      } else if (itemAlignType === 'center') {\n        verticalLines[\"\".concat(nodeId, \"tcbc\")] = [bbox.centerX, bbox.minY, bbox.centerX, bbox.maxY, item];\n      }\n    });\n  };\n  /**\n   * 显示AlignLine\n   *\n   * @param {object} point 起始点\n   * @param {object} bbox BBox\n   * @returns\n   * @memberof AlignLine\n   */\n  SnapLine.prototype.show = function (point, bbox) {\n    var originPoint = mix({}, point);\n    this.itemAlign(point, bbox, originPoint);\n    return point;\n  };\n  /**\n   * 拖动拖出中添加辅助线\n   *\n   * @param {object} point 起始点\n   * @param {object} bbox 代理形状的bbox\n   * @param {object} originPoint 原始点，同point\n   * @memberof AlignLine\n   */\n  SnapLine.prototype.itemAlign = function (point, bbox, originPoint) {\n    var _this = this;\n    var _a = this._cfgs,\n      horizontalLines = _a.horizontalLines,\n      verticalLines = _a.verticalLines,\n      tolerance = _a.tolerance;\n    var tc = {\n      x: originPoint.x + bbox.width / 2,\n      y: originPoint.y\n    };\n    var cc = {\n      x: originPoint.x + bbox.width / 2,\n      y: originPoint.y + bbox.height / 2\n    };\n    var bc = {\n      x: originPoint.x + bbox.width / 2,\n      y: originPoint.y + bbox.height\n    };\n    var lc = {\n      x: originPoint.x,\n      y: originPoint.y + bbox.height / 2\n    };\n    var rc = {\n      x: originPoint.x + bbox.width,\n      y: originPoint.y + bbox.height / 2\n    };\n    var horizontalDis = [];\n    var verticalDis = [];\n    var alignCfg = null;\n    this.clearAlignLine();\n    each(horizontalLines, function (line) {\n      if (line[4].isVisible) {\n        horizontalDis.push(_this.getLineDisObject(line, tc));\n        horizontalDis.push(_this.getLineDisObject(line, cc));\n        horizontalDis.push(_this.getLineDisObject(line, bc));\n      }\n    });\n    each(verticalLines, function (line) {\n      if (line[4].isVisible) {\n        verticalDis.push(_this.getLineDisObject(line, lc));\n        verticalDis.push(_this.getLineDisObject(line, cc));\n        verticalDis.push(_this.getLineDisObject(line, rc));\n      }\n    });\n    horizontalDis.sort(function (a, b) {\n      return a.dis - b.dis;\n    });\n    verticalDis.sort(function (a, b) {\n      return a.dis - b.dis;\n    });\n    if (horizontalDis.length !== 0 && horizontalDis[0].dis < tolerance) {\n      point.y = horizontalDis[0].line[1] - horizontalDis[0].point.y + originPoint.y;\n      alignCfg = {\n        type: 'item',\n        horizontals: [horizontalDis[0]]\n      };\n      for (var i = 1; i < 3; i++) {\n        if (horizontalDis[0].dis === horizontalDis[i].dis) {\n          alignCfg.horizontals.push(horizontalDis[i]);\n        }\n      }\n    }\n    if (verticalDis.length !== 0 && verticalDis[0].dis < tolerance) {\n      point.x = verticalDis[0].line[0] - verticalDis[0].point.x + originPoint.x;\n      if (!alignCfg) {\n        alignCfg = {\n          type: 'item',\n          verticals: [verticalDis[0]]\n        };\n      } else {\n        alignCfg.verticals = [verticalDis[0]];\n      }\n      for (var i = 1; i < 3; i++) {\n        if (verticalDis[0].dis === verticalDis[i].dis) {\n          alignCfg.verticals.push(verticalDis[i]);\n        }\n      }\n    }\n    if (alignCfg) {\n      alignCfg.bbox = bbox;\n      this.addAlignLine(alignCfg);\n    }\n  };\n  /**\n   * 根据配置项添加辅助线\n   *\n   * @param {object} cfg\n   * @memberof AlignLine\n   */\n  SnapLine.prototype.addAlignLine = function (cfg) {\n    var bbox = cfg.bbox,\n      type = cfg.type,\n      horizontals = cfg.horizontals,\n      verticals = cfg.verticals;\n    var _a = this._cfgs,\n      lineStyle = _a.line,\n      alignLines = _a.alignLines;\n    var graph = this.get('graph');\n    var group = graph.get('group');\n    if (type === 'item') {\n      if (horizontals) {\n        each(horizontals, function (horizontal) {\n          var refLine = horizontal.line,\n            refPoint = horizontal.point;\n          var lineCenterX = (refLine[0] + refLine[2]) / 2;\n          var x1;\n          var x2;\n          if (refPoint.x < lineCenterX) {\n            x1 = refPoint.x - bbox.width / 2;\n            x2 = Math.max(refLine[0], refLine[2]);\n          } else {\n            x1 = refPoint.x + bbox.width / 2;\n            x2 = Math.min(refLine[0], refLine[2]);\n          }\n          var lineAttrs = mix({\n            x1: x1,\n            y1: refLine[1],\n            x2: x2,\n            y2: refLine[1]\n          }, lineStyle);\n          var line = group.addShape('line', {\n            attrs: lineAttrs,\n            capture: false\n          });\n          alignLines.push(line);\n        });\n      }\n      if (verticals) {\n        each(verticals, function (vertical) {\n          var refLine = vertical.line,\n            refPoint = vertical.point;\n          var lineCenterY = (refLine[1] + refLine[3]) / 2;\n          var y1;\n          var y2;\n          if (refPoint.y < lineCenterY) {\n            y1 = refPoint.y - bbox.height / 2;\n            y2 = Math.max(refLine[1], refLine[3]);\n          } else {\n            y1 = refPoint.y + bbox.height / 2;\n            y2 = Math.min(refLine[1], refLine[3]);\n          }\n          var lineAtts = mix({\n            x1: refLine[0],\n            y1: y1,\n            x2: refLine[0],\n            y2: y2\n          }, lineStyle);\n          var line = group.addShape('line', {\n            attrs: lineAtts,\n            capture: false\n          });\n          alignLines.push(line);\n        });\n      }\n    }\n  };\n  /**\n   * 获取点到线的距离\n   *\n   * @param {array} line [x1, y1, x2, y2] 线的四个点\n   * @param {object} point 点的x和y坐标点 {x, y}\n   * @returns\n   * @memberof AlignLine\n   */\n  SnapLine.prototype.getLineDisObject = function (line, point) {\n    return {\n      line: line,\n      point: point,\n      dis: pointLineDistance(line, point)\n    };\n  };\n  SnapLine.prototype.getContainer = function () {\n    return this.get('container');\n  };\n  /**\n   * 拖动过程中，清楚上次绘制的线\n   *\n   * @memberof AlignLine\n   */\n  SnapLine.prototype.clearAlignLine = function () {\n    var alignLines = this._cfgs.alignLines;\n    each(alignLines, function (line) {\n      line.remove();\n    });\n    alignLines.length = 0;\n  };\n  /**\n   * 拖动结束时候，情况缓存的节点的辅助线，同时删除绘制的线\n   *\n   * @memberof AlignLine\n   */\n  SnapLine.prototype.destory = function () {\n    var _a = this._cfgs,\n      horizontalLines = _a.horizontalLines,\n      verticalLines = _a.verticalLines;\n    var graph = this.get('graph');\n    var nodes = graph.getNodes();\n    nodes.forEach(function (node) {\n      var itemId = node.get('id');\n      delete horizontalLines[\"\".concat(itemId, \"tltr\")];\n      delete horizontalLines[\"\".concat(itemId, \"lcrc\")];\n      delete horizontalLines[\"\".concat(itemId, \"blbr\")];\n      delete verticalLines[\"\".concat(itemId, \"tlbl\")];\n      delete verticalLines[\"\".concat(itemId, \"tcbc\")];\n      delete verticalLines[\"\".concat(itemId, \"trbr\")];\n    });\n    this.clearAlignLine();\n  };\n  return SnapLine;\n}(Base);\nexport default SnapLine;","map":{"version":3,"names":["__extends","_extendStatics","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","each","mix","Util","Base","pointLineDistance","alignLineStyle","stroke","lineWidth","SnapLine","_super","props","getDefaultCfgs","line","itemAlignType","tolerance","horizontalLines","verticalLines","alignLines","init","getEvents","onDragStart","initBoxLine","onDrag","e","item","delegateShape","get","bbox","getBBox","model","getModel","dx","x","dy","y","show","minX","minY","width","height","onDragEnd","destory","_a","_cfgs","graph","nodes","getNodes","forEach","nodeId","concat","maxX","centerY","maxY","centerX","point","originPoint","itemAlign","_this","tc","cc","bc","lc","rc","horizontalDis","verticalDis","alignCfg","clearAlignLine","isVisible","push","getLineDisObject","sort","a","dis","length","type","horizontals","i","verticals","addAlignLine","cfg","lineStyle","group","horizontal","refLine","refPoint","lineCenterX","x1","x2","Math","max","min","lineAttrs","y1","y2","addShape","attrs","capture","vertical","lineCenterY","lineAtts","getContainer","remove","node","itemId"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/g6-plugin/es/snapline/index.js"],"sourcesContent":["var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { each, mix } from '@antv/util';\nimport { Util } from '@antv/g6-core';\nimport Base from '../base';\nvar pointLineDistance = Util.pointLineDistance;\n// 对齐线样式\nvar alignLineStyle = {\n  stroke: '#FA8C16',\n  lineWidth: 1\n};\nvar SnapLine = /** @class */function (_super) {\n  __extends(SnapLine, _super);\n  function SnapLine(props) {\n    return _super.call(this, props) || this;\n  }\n  SnapLine.prototype.getDefaultCfgs = function () {\n    return {\n      line: alignLineStyle,\n      /**\n       * item align type\n       * @type {String|True|False}\n       */\n      itemAlignType: 'center',\n      /**\n       * tolerance to item force align\n       * @type {String|True|False}\n       */\n      tolerance: 5,\n      horizontalLines: {},\n      verticalLines: {},\n      alignLines: []\n    };\n  };\n  SnapLine.prototype.init = function () {};\n  // class-methods-use-this\n  SnapLine.prototype.getEvents = function () {\n    return {\n      'node:dragstart': 'onDragStart',\n      'node:drag': 'onDrag',\n      'node:dragend': 'onDragEnd'\n    };\n  };\n  SnapLine.prototype.onDragStart = function () {\n    this.initBoxLine();\n  };\n  SnapLine.prototype.onDrag = function (e) {\n    var item = e.item;\n    // 计算辅助线位置,拖动过程中更新辅助线\n    var delegateShape = item.get('delegateShape') || item;\n    var bbox = delegateShape.getBBox();\n    var model = item.getModel();\n    var dx = model.x - bbox.x;\n    var dy = model.y - bbox.y;\n    this.show({\n      x: bbox.minX + dx,\n      y: bbox.minY + dy\n    }, {\n      width: bbox.width,\n      height: bbox.height\n    });\n  };\n  SnapLine.prototype.onDragEnd = function () {\n    // 拖动结束时候删除辅助线\n    this.destory();\n  };\n  /**\n   * 每次开始拖动之前，计算出所有节点在水平和垂直方向上，左中右三条中线，并缓存起来\n   *\n   * @param {object} item Node节点\n   * @memberof AlignLine\n   */\n  SnapLine.prototype.initBoxLine = function () {\n    var _a = this._cfgs,\n      horizontalLines = _a.horizontalLines,\n      verticalLines = _a.verticalLines,\n      itemAlignType = _a.itemAlignType;\n    var graph = this.get('graph');\n    var nodes = graph.getNodes();\n    nodes.forEach(function (item) {\n      var bbox = item.getBBox();\n      var nodeId = item.get('id');\n      // 设置水平方向辅助线\n      if (itemAlignType === true || itemAlignType === 'horizontal') {\n        // tltr: top left top right\n        // lcrc: left center right center\n        // blbr: bottom left bottom right\n        horizontalLines[\"\".concat(nodeId, \"tltr\")] = [bbox.minX, bbox.minY, bbox.maxX, bbox.minY, item];\n        horizontalLines[\"\".concat(nodeId, \"lcrc\")] = [bbox.minX, bbox.centerY, bbox.maxX, bbox.centerY, item];\n        horizontalLines[\"\".concat(nodeId, \"blbr\")] = [bbox.minX, bbox.maxY, bbox.maxX, bbox.maxY, item];\n      } else if (itemAlignType === 'center') {\n        horizontalLines[\"\".concat(nodeId, \"lcrc\")] = [bbox.minX, bbox.centerY, bbox.maxX, bbox.centerY, item];\n      }\n      // 设置垂直方向辅助线\n      if (itemAlignType === true || itemAlignType === 'vertical') {\n        // tlbl: top left bottom left\n        // tcbc: top center bottom center\n        // trbr: top right bottom right\n        verticalLines[\"\".concat(nodeId, \"tlbl\")] = [bbox.minX, bbox.minY, bbox.minX, bbox.maxY, item];\n        verticalLines[\"\".concat(nodeId, \"tcbc\")] = [bbox.centerX, bbox.minY, bbox.centerX, bbox.maxY, item];\n        verticalLines[\"\".concat(nodeId, \"trbr\")] = [bbox.maxX, bbox.minY, bbox.maxX, bbox.maxY, item];\n      } else if (itemAlignType === 'center') {\n        verticalLines[\"\".concat(nodeId, \"tcbc\")] = [bbox.centerX, bbox.minY, bbox.centerX, bbox.maxY, item];\n      }\n    });\n  };\n  /**\n   * 显示AlignLine\n   *\n   * @param {object} point 起始点\n   * @param {object} bbox BBox\n   * @returns\n   * @memberof AlignLine\n   */\n  SnapLine.prototype.show = function (point, bbox) {\n    var originPoint = mix({}, point);\n    this.itemAlign(point, bbox, originPoint);\n    return point;\n  };\n  /**\n   * 拖动拖出中添加辅助线\n   *\n   * @param {object} point 起始点\n   * @param {object} bbox 代理形状的bbox\n   * @param {object} originPoint 原始点，同point\n   * @memberof AlignLine\n   */\n  SnapLine.prototype.itemAlign = function (point, bbox, originPoint) {\n    var _this = this;\n    var _a = this._cfgs,\n      horizontalLines = _a.horizontalLines,\n      verticalLines = _a.verticalLines,\n      tolerance = _a.tolerance;\n    var tc = {\n      x: originPoint.x + bbox.width / 2,\n      y: originPoint.y\n    };\n    var cc = {\n      x: originPoint.x + bbox.width / 2,\n      y: originPoint.y + bbox.height / 2\n    };\n    var bc = {\n      x: originPoint.x + bbox.width / 2,\n      y: originPoint.y + bbox.height\n    };\n    var lc = {\n      x: originPoint.x,\n      y: originPoint.y + bbox.height / 2\n    };\n    var rc = {\n      x: originPoint.x + bbox.width,\n      y: originPoint.y + bbox.height / 2\n    };\n    var horizontalDis = [];\n    var verticalDis = [];\n    var alignCfg = null;\n    this.clearAlignLine();\n    each(horizontalLines, function (line) {\n      if (line[4].isVisible) {\n        horizontalDis.push(_this.getLineDisObject(line, tc));\n        horizontalDis.push(_this.getLineDisObject(line, cc));\n        horizontalDis.push(_this.getLineDisObject(line, bc));\n      }\n    });\n    each(verticalLines, function (line) {\n      if (line[4].isVisible) {\n        verticalDis.push(_this.getLineDisObject(line, lc));\n        verticalDis.push(_this.getLineDisObject(line, cc));\n        verticalDis.push(_this.getLineDisObject(line, rc));\n      }\n    });\n    horizontalDis.sort(function (a, b) {\n      return a.dis - b.dis;\n    });\n    verticalDis.sort(function (a, b) {\n      return a.dis - b.dis;\n    });\n    if (horizontalDis.length !== 0 && horizontalDis[0].dis < tolerance) {\n      point.y = horizontalDis[0].line[1] - horizontalDis[0].point.y + originPoint.y;\n      alignCfg = {\n        type: 'item',\n        horizontals: [horizontalDis[0]]\n      };\n      for (var i = 1; i < 3; i++) {\n        if (horizontalDis[0].dis === horizontalDis[i].dis) {\n          alignCfg.horizontals.push(horizontalDis[i]);\n        }\n      }\n    }\n    if (verticalDis.length !== 0 && verticalDis[0].dis < tolerance) {\n      point.x = verticalDis[0].line[0] - verticalDis[0].point.x + originPoint.x;\n      if (!alignCfg) {\n        alignCfg = {\n          type: 'item',\n          verticals: [verticalDis[0]]\n        };\n      } else {\n        alignCfg.verticals = [verticalDis[0]];\n      }\n      for (var i = 1; i < 3; i++) {\n        if (verticalDis[0].dis === verticalDis[i].dis) {\n          alignCfg.verticals.push(verticalDis[i]);\n        }\n      }\n    }\n    if (alignCfg) {\n      alignCfg.bbox = bbox;\n      this.addAlignLine(alignCfg);\n    }\n  };\n  /**\n   * 根据配置项添加辅助线\n   *\n   * @param {object} cfg\n   * @memberof AlignLine\n   */\n  SnapLine.prototype.addAlignLine = function (cfg) {\n    var bbox = cfg.bbox,\n      type = cfg.type,\n      horizontals = cfg.horizontals,\n      verticals = cfg.verticals;\n    var _a = this._cfgs,\n      lineStyle = _a.line,\n      alignLines = _a.alignLines;\n    var graph = this.get('graph');\n    var group = graph.get('group');\n    if (type === 'item') {\n      if (horizontals) {\n        each(horizontals, function (horizontal) {\n          var refLine = horizontal.line,\n            refPoint = horizontal.point;\n          var lineCenterX = (refLine[0] + refLine[2]) / 2;\n          var x1;\n          var x2;\n          if (refPoint.x < lineCenterX) {\n            x1 = refPoint.x - bbox.width / 2;\n            x2 = Math.max(refLine[0], refLine[2]);\n          } else {\n            x1 = refPoint.x + bbox.width / 2;\n            x2 = Math.min(refLine[0], refLine[2]);\n          }\n          var lineAttrs = mix({\n            x1: x1,\n            y1: refLine[1],\n            x2: x2,\n            y2: refLine[1]\n          }, lineStyle);\n          var line = group.addShape('line', {\n            attrs: lineAttrs,\n            capture: false\n          });\n          alignLines.push(line);\n        });\n      }\n      if (verticals) {\n        each(verticals, function (vertical) {\n          var refLine = vertical.line,\n            refPoint = vertical.point;\n          var lineCenterY = (refLine[1] + refLine[3]) / 2;\n          var y1;\n          var y2;\n          if (refPoint.y < lineCenterY) {\n            y1 = refPoint.y - bbox.height / 2;\n            y2 = Math.max(refLine[1], refLine[3]);\n          } else {\n            y1 = refPoint.y + bbox.height / 2;\n            y2 = Math.min(refLine[1], refLine[3]);\n          }\n          var lineAtts = mix({\n            x1: refLine[0],\n            y1: y1,\n            x2: refLine[0],\n            y2: y2\n          }, lineStyle);\n          var line = group.addShape('line', {\n            attrs: lineAtts,\n            capture: false\n          });\n          alignLines.push(line);\n        });\n      }\n    }\n  };\n  /**\n   * 获取点到线的距离\n   *\n   * @param {array} line [x1, y1, x2, y2] 线的四个点\n   * @param {object} point 点的x和y坐标点 {x, y}\n   * @returns\n   * @memberof AlignLine\n   */\n  SnapLine.prototype.getLineDisObject = function (line, point) {\n    return {\n      line: line,\n      point: point,\n      dis: pointLineDistance(line, point)\n    };\n  };\n  SnapLine.prototype.getContainer = function () {\n    return this.get('container');\n  };\n  /**\n   * 拖动过程中，清楚上次绘制的线\n   *\n   * @memberof AlignLine\n   */\n  SnapLine.prototype.clearAlignLine = function () {\n    var alignLines = this._cfgs.alignLines;\n    each(alignLines, function (line) {\n      line.remove();\n    });\n    alignLines.length = 0;\n  };\n  /**\n   * 拖动结束时候，情况缓存的节点的辅助线，同时删除绘制的线\n   *\n   * @memberof AlignLine\n   */\n  SnapLine.prototype.destory = function () {\n    var _a = this._cfgs,\n      horizontalLines = _a.horizontalLines,\n      verticalLines = _a.verticalLines;\n    var graph = this.get('graph');\n    var nodes = graph.getNodes();\n    nodes.forEach(function (node) {\n      var itemId = node.get('id');\n      delete horizontalLines[\"\".concat(itemId, \"tltr\")];\n      delete horizontalLines[\"\".concat(itemId, \"lcrc\")];\n      delete horizontalLines[\"\".concat(itemId, \"blbr\")];\n      delete verticalLines[\"\".concat(itemId, \"tlbl\")];\n      delete verticalLines[\"\".concat(itemId, \"tcbc\")];\n      delete verticalLines[\"\".concat(itemId, \"trbr\")];\n    });\n    this.clearAlignLine();\n  };\n  return SnapLine;\n}(Base);\nexport default SnapLine;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}