{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _dec, _class;\nimport { injectable } from 'inversify';\nimport 'reflect-metadata';\nimport { TYPES } from \"../../types\";\nvar MarkerService = (_dec = injectable(), _dec(_class = /*#__PURE__*/function () {\n  function MarkerService() {\n    _classCallCheck(this, MarkerService);\n    _defineProperty(this, \"container\", void 0);\n    _defineProperty(this, \"scene\", void 0);\n    _defineProperty(this, \"mapsService\", void 0);\n    _defineProperty(this, \"markers\", []);\n    _defineProperty(this, \"markerLayers\", []);\n    _defineProperty(this, \"unAddMarkers\", []);\n    _defineProperty(this, \"unAddMarkerLayers\", []);\n  }\n  _createClass(MarkerService, [{\n    key: \"addMarkerLayer\",\n    value: function addMarkerLayer(markerLayer) {\n      if (this.mapsService.map && this.mapsService.getMarkerContainer()) {\n        this.markerLayers.push(markerLayer);\n        markerLayer.addTo(this.scene);\n      } else {\n        this.unAddMarkerLayers.push(markerLayer);\n      }\n    }\n  }, {\n    key: \"removeMarkerLayer\",\n    value: function removeMarkerLayer(layer) {\n      layer.destroy();\n      this.markerLayers.indexOf(layer);\n      var markerIndex = this.markerLayers.indexOf(layer);\n      if (markerIndex > -1) {\n        this.markerLayers.splice(markerIndex, 1);\n      }\n    }\n  }, {\n    key: \"addMarker\",\n    value: function addMarker(marker) {\n      if (this.mapsService.map && this.mapsService.getMarkerContainer()) {\n        this.markers.push(marker);\n        marker.addTo(this.scene);\n      } else {\n        this.unAddMarkers.push(marker);\n      }\n    }\n  }, {\n    key: \"addMarkers\",\n    value: function addMarkers() {\n      var _this = this;\n      this.unAddMarkers.forEach(function (marker) {\n        marker.addTo(_this.scene);\n        _this.markers.push(marker);\n      });\n      this.unAddMarkers = [];\n    }\n  }, {\n    key: \"addMarkerLayers\",\n    value: function addMarkerLayers() {\n      var _this2 = this;\n      this.unAddMarkerLayers.forEach(function (markerLayer) {\n        _this2.markerLayers.push(markerLayer);\n        markerLayer.addTo(_this2.scene);\n      });\n      this.unAddMarkers = [];\n    }\n  }, {\n    key: \"removeMarker\",\n    value: function removeMarker(marker) {\n      marker.remove();\n      this.markers.indexOf(marker);\n      var markerIndex = this.markers.indexOf(marker);\n      if (markerIndex > -1) {\n        this.markers.splice(markerIndex, 1);\n      }\n    }\n  }, {\n    key: \"removeAllMarkers\",\n    value: function removeAllMarkers() {\n      this.destroy();\n    }\n  }, {\n    key: \"init\",\n    value: function init(scene) {\n      // this.container = cfg.container;\n      this.scene = scene;\n      this.mapsService = scene.get(TYPES.IMapService);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.markers.forEach(function (marker) {\n        marker.remove();\n      });\n      this.markers = [];\n      this.markerLayers.forEach(function (layer) {\n        layer.destroy();\n      });\n      this.markerLayers = [];\n    }\n  }, {\n    key: \"removeMakerLayerMarker\",\n    value: function removeMakerLayerMarker(layer) {\n      layer.destroy();\n    }\n  }]);\n  return MarkerService;\n}()) || _class);\nexport { MarkerService as default };","map":{"version":3,"names":["_classCallCheck","_createClass","_defineProperty","_dec","_class","injectable","TYPES","MarkerService","key","value","addMarkerLayer","markerLayer","mapsService","map","getMarkerContainer","markerLayers","push","addTo","scene","unAddMarkerLayers","removeMarkerLayer","layer","destroy","indexOf","markerIndex","splice","addMarker","marker","markers","unAddMarkers","addMarkers","_this","forEach","addMarkerLayers","_this2","removeMarker","remove","removeAllMarkers","init","get","IMapService","removeMakerLayerMarker","default"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-core/es/services/component/MarkerService.js"],"sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _dec, _class;\nimport { injectable } from 'inversify';\nimport 'reflect-metadata';\nimport { TYPES } from \"../../types\";\nvar MarkerService = (_dec = injectable(), _dec(_class = /*#__PURE__*/function () {\n  function MarkerService() {\n    _classCallCheck(this, MarkerService);\n    _defineProperty(this, \"container\", void 0);\n    _defineProperty(this, \"scene\", void 0);\n    _defineProperty(this, \"mapsService\", void 0);\n    _defineProperty(this, \"markers\", []);\n    _defineProperty(this, \"markerLayers\", []);\n    _defineProperty(this, \"unAddMarkers\", []);\n    _defineProperty(this, \"unAddMarkerLayers\", []);\n  }\n  _createClass(MarkerService, [{\n    key: \"addMarkerLayer\",\n    value: function addMarkerLayer(markerLayer) {\n      if (this.mapsService.map && this.mapsService.getMarkerContainer()) {\n        this.markerLayers.push(markerLayer);\n        markerLayer.addTo(this.scene);\n      } else {\n        this.unAddMarkerLayers.push(markerLayer);\n      }\n    }\n  }, {\n    key: \"removeMarkerLayer\",\n    value: function removeMarkerLayer(layer) {\n      layer.destroy();\n      this.markerLayers.indexOf(layer);\n      var markerIndex = this.markerLayers.indexOf(layer);\n      if (markerIndex > -1) {\n        this.markerLayers.splice(markerIndex, 1);\n      }\n    }\n  }, {\n    key: \"addMarker\",\n    value: function addMarker(marker) {\n      if (this.mapsService.map && this.mapsService.getMarkerContainer()) {\n        this.markers.push(marker);\n        marker.addTo(this.scene);\n      } else {\n        this.unAddMarkers.push(marker);\n      }\n    }\n  }, {\n    key: \"addMarkers\",\n    value: function addMarkers() {\n      var _this = this;\n      this.unAddMarkers.forEach(function (marker) {\n        marker.addTo(_this.scene);\n        _this.markers.push(marker);\n      });\n      this.unAddMarkers = [];\n    }\n  }, {\n    key: \"addMarkerLayers\",\n    value: function addMarkerLayers() {\n      var _this2 = this;\n      this.unAddMarkerLayers.forEach(function (markerLayer) {\n        _this2.markerLayers.push(markerLayer);\n        markerLayer.addTo(_this2.scene);\n      });\n      this.unAddMarkers = [];\n    }\n  }, {\n    key: \"removeMarker\",\n    value: function removeMarker(marker) {\n      marker.remove();\n      this.markers.indexOf(marker);\n      var markerIndex = this.markers.indexOf(marker);\n      if (markerIndex > -1) {\n        this.markers.splice(markerIndex, 1);\n      }\n    }\n  }, {\n    key: \"removeAllMarkers\",\n    value: function removeAllMarkers() {\n      this.destroy();\n    }\n  }, {\n    key: \"init\",\n    value: function init(scene) {\n      // this.container = cfg.container;\n      this.scene = scene;\n      this.mapsService = scene.get(TYPES.IMapService);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.markers.forEach(function (marker) {\n        marker.remove();\n      });\n      this.markers = [];\n      this.markerLayers.forEach(function (layer) {\n        layer.destroy();\n      });\n      this.markerLayers = [];\n    }\n  }, {\n    key: \"removeMakerLayerMarker\",\n    value: function removeMakerLayerMarker(layer) {\n      layer.destroy();\n    }\n  }]);\n  return MarkerService;\n}()) || _class);\nexport { MarkerService as default };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}