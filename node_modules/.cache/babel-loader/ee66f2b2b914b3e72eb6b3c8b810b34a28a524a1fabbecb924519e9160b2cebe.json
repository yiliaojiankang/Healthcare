{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n// @ts-ignore\n\nimport DOM from \"../../utils/dom\";\nvar TwoTouchHandler = /*#__PURE__*/function () {\n  function TwoTouchHandler() {\n    _classCallCheck(this, TwoTouchHandler);\n    this.reset();\n  }\n  _createClass(TwoTouchHandler, [{\n    key: \"reset\",\n    value: function reset() {\n      this.active = false;\n      // @ts-ignore\n      delete this.firstTwoTouches;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  }, {\n    key: \"start\",\n    value: function start(points) {\n      return;\n    } // eslint-disable-line\n  }, {\n    key: \"move\",\n    value: function move(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    points,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    pinchAround,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    e) {\n      return;\n    } // eslint-disable-line\n  }, {\n    key: \"touchstart\",\n    value: function touchstart(e, points, mapTouches) {\n      // console.log(e.target, e.targetTouches.length ? e.targetTouches[0].target : null);\n      // log('touchstart', points, e.target.innerHTML, e.targetTouches.length ? e.targetTouches[0].target.innerHTML: undefined);\n      if (this.firstTwoTouches || mapTouches.length < 2) {\n        return;\n      }\n      this.firstTwoTouches = [mapTouches[0].identifier, mapTouches[1].identifier];\n\n      // implemented by child classes\n      this.start([points[0], points[1]]);\n    }\n  }, {\n    key: \"touchmove\",\n    value: function touchmove(e, points, mapTouches) {\n      if (!this.firstTwoTouches) {\n        return;\n      }\n      e.preventDefault();\n      var _this$firstTwoTouches = _slicedToArray(this.firstTwoTouches, 2),\n        idA = _this$firstTwoTouches[0],\n        idB = _this$firstTwoTouches[1];\n      var a = getTouchById(mapTouches, points, idA);\n      var b = getTouchById(mapTouches, points, idB);\n      if (!a || !b) {\n        return;\n      }\n      var pinchAround = this.aroundCenter ? null : a.add(b).div(2);\n\n      // implemented by child classes\n      return this.move([a, b], pinchAround, e);\n    }\n  }, {\n    key: \"touchend\",\n    value: function touchend(e, points, mapTouches) {\n      if (!this.firstTwoTouches) {\n        return;\n      }\n      var _this$firstTwoTouches2 = _slicedToArray(this.firstTwoTouches, 2),\n        idA = _this$firstTwoTouches2[0],\n        idB = _this$firstTwoTouches2[1];\n      var a = getTouchById(mapTouches, points, idA);\n      var b = getTouchById(mapTouches, points, idB);\n      if (a && b) {\n        return;\n      }\n      if (this.active) {\n        DOM.suppressClick();\n      }\n      this.reset();\n    }\n  }, {\n    key: \"touchcancel\",\n    value: function touchcancel() {\n      this.reset();\n    }\n  }, {\n    key: \"enable\",\n    value: function enable(options) {\n      this.enabled = true;\n      this.aroundCenter = !!options && options.around === 'center';\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.enabled = false;\n      this.reset();\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this.enabled;\n    }\n  }, {\n    key: \"isActive\",\n    value: function isActive() {\n      return this.active;\n    }\n  }]);\n  return TwoTouchHandler;\n}();\nexport { TwoTouchHandler as default };\nfunction getTouchById(mapTouches, points, identifier) {\n  for (var i = 0; i < mapTouches.length; i++) {\n    if (mapTouches[i].identifier === identifier) {\n      return points[i];\n    }\n  }\n}","map":{"version":3,"names":["_slicedToArray","_classCallCheck","_createClass","DOM","TwoTouchHandler","reset","key","value","active","firstTwoTouches","start","points","move","pinchAround","e","touchstart","mapTouches","length","identifier","touchmove","preventDefault","_this$firstTwoTouches","idA","idB","a","getTouchById","b","aroundCenter","add","div","touchend","_this$firstTwoTouches2","suppressClick","touchcancel","enable","options","enabled","around","disable","isEnabled","isActive","default","i"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-map/es/handler/touch/two_touch.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n// @ts-ignore\n\nimport DOM from \"../../utils/dom\";\nvar TwoTouchHandler = /*#__PURE__*/function () {\n  function TwoTouchHandler() {\n    _classCallCheck(this, TwoTouchHandler);\n    this.reset();\n  }\n  _createClass(TwoTouchHandler, [{\n    key: \"reset\",\n    value: function reset() {\n      this.active = false;\n      // @ts-ignore\n      delete this.firstTwoTouches;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  }, {\n    key: \"start\",\n    value: function start(points) {\n      return;\n    } // eslint-disable-line\n  }, {\n    key: \"move\",\n    value: function move(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    points,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    pinchAround,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    e) {\n      return;\n    } // eslint-disable-line\n  }, {\n    key: \"touchstart\",\n    value: function touchstart(e, points, mapTouches) {\n      // console.log(e.target, e.targetTouches.length ? e.targetTouches[0].target : null);\n      // log('touchstart', points, e.target.innerHTML, e.targetTouches.length ? e.targetTouches[0].target.innerHTML: undefined);\n      if (this.firstTwoTouches || mapTouches.length < 2) {\n        return;\n      }\n      this.firstTwoTouches = [mapTouches[0].identifier, mapTouches[1].identifier];\n\n      // implemented by child classes\n      this.start([points[0], points[1]]);\n    }\n  }, {\n    key: \"touchmove\",\n    value: function touchmove(e, points, mapTouches) {\n      if (!this.firstTwoTouches) {\n        return;\n      }\n      e.preventDefault();\n      var _this$firstTwoTouches = _slicedToArray(this.firstTwoTouches, 2),\n        idA = _this$firstTwoTouches[0],\n        idB = _this$firstTwoTouches[1];\n      var a = getTouchById(mapTouches, points, idA);\n      var b = getTouchById(mapTouches, points, idB);\n      if (!a || !b) {\n        return;\n      }\n      var pinchAround = this.aroundCenter ? null : a.add(b).div(2);\n\n      // implemented by child classes\n      return this.move([a, b], pinchAround, e);\n    }\n  }, {\n    key: \"touchend\",\n    value: function touchend(e, points, mapTouches) {\n      if (!this.firstTwoTouches) {\n        return;\n      }\n      var _this$firstTwoTouches2 = _slicedToArray(this.firstTwoTouches, 2),\n        idA = _this$firstTwoTouches2[0],\n        idB = _this$firstTwoTouches2[1];\n      var a = getTouchById(mapTouches, points, idA);\n      var b = getTouchById(mapTouches, points, idB);\n      if (a && b) {\n        return;\n      }\n      if (this.active) {\n        DOM.suppressClick();\n      }\n      this.reset();\n    }\n  }, {\n    key: \"touchcancel\",\n    value: function touchcancel() {\n      this.reset();\n    }\n  }, {\n    key: \"enable\",\n    value: function enable(options) {\n      this.enabled = true;\n      this.aroundCenter = !!options && options.around === 'center';\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.enabled = false;\n      this.reset();\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this.enabled;\n    }\n  }, {\n    key: \"isActive\",\n    value: function isActive() {\n      return this.active;\n    }\n  }]);\n  return TwoTouchHandler;\n}();\nexport { TwoTouchHandler as default };\nfunction getTouchById(mapTouches, points, identifier) {\n  for (var i = 0; i < mapTouches.length; i++) {\n    if (mapTouches[i].identifier === identifier) {\n      return points[i];\n    }\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}