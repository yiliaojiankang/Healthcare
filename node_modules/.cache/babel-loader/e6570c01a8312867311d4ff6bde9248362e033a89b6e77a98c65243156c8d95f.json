{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/**\n * @fileoverview defs\n * @author dengfuping_develop@163.com\n */\nimport { uniqueId } from '@antv/util';\nimport Gradient from './gradient';\nimport Shadow from './shadow';\nimport Arrow from './arrow';\nimport Clip from './clip';\nimport Pattern from './pattern';\nimport { createSVGElement } from '../util/dom';\nvar Defs = /** @class */function () {\n  function Defs(canvas) {\n    var el = createSVGElement('defs');\n    var id = uniqueId('defs_');\n    el.id = id;\n    canvas.appendChild(el);\n    this.children = [];\n    this.defaultArrow = {};\n    this.el = el;\n    this.canvas = canvas;\n  }\n  Defs.prototype.find = function (type, attr) {\n    var children = this.children;\n    var result = null;\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].match(type, attr)) {\n        result = children[i].id;\n        break;\n      }\n    }\n    return result;\n  };\n  Defs.prototype.findById = function (id) {\n    var children = this.children;\n    var flag = null;\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].id === id) {\n        flag = children[i];\n        break;\n      }\n    }\n    return flag;\n  };\n  Defs.prototype.add = function (item) {\n    this.children.push(item);\n    item.canvas = this.canvas;\n    item.parent = this;\n  };\n  Defs.prototype.getDefaultArrow = function (attrs, name) {\n    var stroke = attrs.stroke || attrs.strokeStyle;\n    if (this.defaultArrow[stroke]) {\n      return this.defaultArrow[stroke].id;\n    }\n    var arrow = new Arrow(attrs, name);\n    this.defaultArrow[stroke] = arrow;\n    this.el.appendChild(arrow.el);\n    this.add(arrow);\n    return arrow.id;\n  };\n  Defs.prototype.addGradient = function (cfg) {\n    var gradient = new Gradient(cfg);\n    this.el.appendChild(gradient.el);\n    this.add(gradient);\n    return gradient.id;\n  };\n  Defs.prototype.addArrow = function (attrs, name) {\n    var arrow = new Arrow(attrs, name);\n    this.el.appendChild(arrow.el);\n    this.add(arrow);\n    return arrow.id;\n  };\n  Defs.prototype.addShadow = function (cfg) {\n    var shadow = new Shadow(cfg);\n    this.el.appendChild(shadow.el);\n    this.add(shadow);\n    return shadow.id;\n  };\n  Defs.prototype.addPattern = function (cfg) {\n    var pattern = new Pattern(cfg);\n    this.el.appendChild(pattern.el);\n    this.add(pattern);\n    return pattern.id;\n  };\n  Defs.prototype.addClip = function (cfg) {\n    var clip = new Clip(cfg);\n    this.el.appendChild(clip.el);\n    this.add(clip);\n    return clip.id;\n  };\n  return Defs;\n}();\nexport default Defs;","map":{"version":3,"names":["uniqueId","Gradient","Shadow","Arrow","Clip","Pattern","createSVGElement","Defs","canvas","el","id","appendChild","children","defaultArrow","prototype","find","type","attr","result","i","length","match","findById","flag","add","item","push","parent","getDefaultArrow","attrs","name","stroke","strokeStyle","arrow","addGradient","cfg","gradient","addArrow","addShadow","shadow","addPattern","pattern","addClip","clip"],"sources":["../../src/defs/index.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}