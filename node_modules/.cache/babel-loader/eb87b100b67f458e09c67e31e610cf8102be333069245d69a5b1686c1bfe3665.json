{"ast":null,"code":"import _initializerDefineProperty from \"@babel/runtime/helpers/esm/initializerDefineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _applyDecoratedDescriptor from \"@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"@babel/runtime/helpers/esm/initializerWarningHelper\";\nvar _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4;\n/**\n * MapboxService\n */\n\nimport { CoordinateSystem, MapServiceEvent, TYPES } from '@antv/l7-core';\nimport { DOM } from '@antv/l7-utils';\nimport { inject, injectable } from 'inversify';\nimport 'reflect-metadata';\nimport { SimpleMapCoord } from \"./simpleMapCoord\";\nimport { MapTheme } from \"./theme\";\nvar EventMap = {\n  mapmove: 'move',\n  camerachange: 'move',\n  zoomchange: 'zoom',\n  dragging: 'drag'\n};\nvar LNGLAT_OFFSET_ZOOM_THRESHOLD = 12;\n/**\n * AMapService\n */\nvar BaseMapService = (_dec = injectable(), _dec2 = inject(TYPES.MapConfig), _dec3 = inject(TYPES.IGlobalConfigService), _dec4 = inject(TYPES.ICoordinateSystemService), _dec5 = inject(TYPES.IEventEmitter), _dec(_class = (_class2 = /*#__PURE__*/function () {\n  function BaseMapService() {\n    var _this = this;\n    _classCallCheck(this, BaseMapService);\n    _defineProperty(this, \"version\", 'DEFAUlTMAP');\n    _defineProperty(this, \"simpleMapCoord\", new SimpleMapCoord());\n    // 背景色\n    _defineProperty(this, \"bgColor\", 'rgba(0.0, 0.0, 0.0, 0.0)');\n    _initializerDefineProperty(this, \"config\", _descriptor, this);\n    _initializerDefineProperty(this, \"configService\", _descriptor2, this);\n    _initializerDefineProperty(this, \"coordinateSystemService\", _descriptor3, this);\n    _initializerDefineProperty(this, \"eventEmitter\", _descriptor4, this);\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _defineProperty(this, \"handleCameraChanged\", function (e) {\n      var _this$map$getCenter = _this.map.getCenter(),\n        lat = _this$map$getCenter.lat,\n        lng = _this$map$getCenter.lng;\n      // Tip: 统一触发地图变化事件\n      _this.emit('mapchange');\n      // resync\n      _this.viewport.syncWithMapCamera({\n        bearing: _this.map.getBearing(),\n        center: [lng, lat],\n        viewportHeight: _this.map.transform.height,\n        pitch: _this.map.getPitch(),\n        viewportWidth: _this.map.transform.width,\n        zoom: _this.map.getZoom(),\n        // mapbox 中固定相机高度为 viewport 高度的 1.5 倍\n        cameraHeight: 0\n      });\n      _this.updateCoordinateSystemService();\n      _this.cameraChangedCallback(_this.viewport);\n    });\n  }\n  _createClass(BaseMapService, [{\n    key: \"setBgColor\",\n    value: function setBgColor(color) {\n      this.bgColor = color;\n    }\n\n    // init\n  }, {\n    key: \"addMarkerContainer\",\n    value: function addMarkerContainer() {\n      var container = this.map.getCanvasContainer();\n      this.markerContainer = DOM.create('div', 'l7-marker-container', container);\n      this.markerContainer.setAttribute('tabindex', '-1');\n    }\n  }, {\n    key: \"getMarkerContainer\",\n    value: function getMarkerContainer() {\n      return this.markerContainer;\n    }\n  }, {\n    key: \"getOverlayContainer\",\n    value: function getOverlayContainer() {\n      return undefined;\n    }\n\n    //  map event\n  }, {\n    key: \"on\",\n    value: function on(type, handle) {\n      if (MapServiceEvent.indexOf(type) !== -1) {\n        this.eventEmitter.on(type, handle);\n      } else {\n        // 统一事件名称\n        this.map.on(EventMap[type] || type, handle);\n      }\n    }\n  }, {\n    key: \"off\",\n    value: function off(type, handle) {\n      this.map.off(EventMap[type] || type, handle);\n      this.eventEmitter.off(type, handle);\n    }\n  }, {\n    key: \"getContainer\",\n    value: function getContainer() {\n      return this.map.getContainer();\n    }\n  }, {\n    key: \"getMapCanvasContainer\",\n    value: function getMapCanvasContainer() {\n      return this.map.getCanvasContainer();\n    }\n  }, {\n    key: \"getSize\",\n    value: function getSize() {\n      if (this.version === 'SIMPLE') {\n        return this.simpleMapCoord.getSize();\n      }\n      var size = this.map.transform;\n      return [size.width, size.height];\n    }\n    // get mapStatus method\n  }, {\n    key: \"getType\",\n    value: function getType() {\n      return 'default';\n    }\n  }, {\n    key: \"getZoom\",\n    value: function getZoom() {\n      return this.map.getZoom();\n    }\n  }, {\n    key: \"setZoom\",\n    value: function setZoom(zoom) {\n      return this.map.setZoom(zoom);\n    }\n  }, {\n    key: \"getCenter\",\n    value: function getCenter() {\n      return this.map.getCenter();\n    }\n  }, {\n    key: \"setCenter\",\n    value: function setCenter(lnglat) {\n      this.map.setCenter(lnglat);\n    }\n  }, {\n    key: \"getPitch\",\n    value: function getPitch() {\n      return this.map.getPitch();\n    }\n  }, {\n    key: \"getRotation\",\n    value: function getRotation() {\n      return this.map.getBearing();\n    }\n  }, {\n    key: \"getBounds\",\n    value: function getBounds() {\n      return this.map.getBounds().toArray();\n    }\n  }, {\n    key: \"getMinZoom\",\n    value: function getMinZoom() {\n      return this.map.getMinZoom();\n    }\n  }, {\n    key: \"getMaxZoom\",\n    value: function getMaxZoom() {\n      return this.map.getMaxZoom();\n    }\n  }, {\n    key: \"setRotation\",\n    value: function setRotation(rotation) {\n      this.map.setBearing(rotation);\n    }\n  }, {\n    key: \"zoomIn\",\n    value: function zoomIn(option, eventData) {\n      this.map.zoomIn(option, eventData);\n    }\n  }, {\n    key: \"zoomOut\",\n    value: function zoomOut(option, eventData) {\n      this.map.zoomOut(option, eventData);\n    }\n  }, {\n    key: \"setPitch\",\n    value: function setPitch(pitch) {\n      return this.map.setPitch(pitch);\n    }\n  }, {\n    key: \"panTo\",\n    value: function panTo(p) {\n      this.map.panTo(p);\n    }\n  }, {\n    key: \"panBy\",\n    value: function panBy() {\n      var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      // @ts-ignore\n      this.map.panBy([x, y]);\n    }\n  }, {\n    key: \"fitBounds\",\n    value: function fitBounds(bound, fitBoundsOptions) {\n      this.map.fitBounds(bound, fitBoundsOptions);\n    }\n  }, {\n    key: \"setMaxZoom\",\n    value: function setMaxZoom(max) {\n      this.map.setMaxZoom(max);\n    }\n  }, {\n    key: \"setMinZoom\",\n    value: function setMinZoom(min) {\n      this.map.setMinZoom(min);\n    }\n  }, {\n    key: \"setMapStatus\",\n    value: function setMapStatus(option) {\n      if (option.doubleClickZoom === true) {\n        this.map.doubleClickZoom.enable();\n      }\n      if (option.doubleClickZoom === false) {\n        this.map.doubleClickZoom.disable();\n      }\n      if (option.dragEnable === false) {\n        this.map.dragPan.disable();\n      }\n      if (option.dragEnable === true) {\n        this.map.dragPan.enable();\n      }\n      if (option.rotateEnable === false) {\n        this.map.dragRotate.disable();\n      }\n      if (option.dragEnable === true) {\n        this.map.dragRotate.enable();\n      }\n      if (option.keyboardEnable === false) {\n        this.map.keyboard.disable();\n      }\n      if (option.keyboardEnable === true) {\n        this.map.keyboard.enable();\n      }\n      if (option.zoomEnable === false) {\n        this.map.scrollZoom.disable();\n      }\n      if (option.zoomEnable === true) {\n        this.map.scrollZoom.enable();\n      }\n    }\n  }, {\n    key: \"setZoomAndCenter\",\n    value: function setZoomAndCenter(zoom, center) {\n      this.map.flyTo({\n        zoom: zoom,\n        center: center\n      });\n    }\n  }, {\n    key: \"setMapStyle\",\n    value: function setMapStyle(style) {\n      this.map.setStyle(this.getMapStyleValue(style));\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  }, {\n    key: \"meterToCoord\",\n    value: function meterToCoord(center, outer) {\n      return 1.0;\n    }\n\n    // TODO: 计算像素坐标\n  }, {\n    key: \"pixelToLngLat\",\n    value: function pixelToLngLat(pixel) {\n      return this.map.unproject(pixel);\n    }\n  }, {\n    key: \"lngLatToPixel\",\n    value: function lngLatToPixel(lnglat) {\n      return this.map.project(lnglat);\n    }\n  }, {\n    key: \"containerToLngLat\",\n    value: function containerToLngLat(pixel) {\n      return this.map.unproject(pixel);\n    }\n  }, {\n    key: \"lngLatToContainer\",\n    value: function lngLatToContainer(lnglat) {\n      return this.map.project(lnglat);\n    }\n  }, {\n    key: \"getMapStyle\",\n    value: function getMapStyle() {\n      try {\n        var _this$map$getStyle$sp;\n        // @ts-ignore\n        var styleUrl = (_this$map$getStyle$sp = this.map.getStyle().sprite) !== null && _this$map$getStyle$sp !== void 0 ? _this$map$getStyle$sp : '';\n        // 将 Mapbox 返回的样式字符串转成传入 style 保持一致\n        if (/^mapbox:\\/\\/sprites\\/zcxduo\\/\\w+\\/\\w+$/.test(styleUrl)) {\n          return styleUrl === null || styleUrl === void 0 ? void 0 : styleUrl.replace(/\\/\\w+$/, '').replace(/sprites/, 'styles');\n        }\n        return styleUrl;\n      } catch (e) {\n        return '';\n      }\n    }\n  }, {\n    key: \"getMapStyleConfig\",\n    value: function getMapStyleConfig() {\n      return MapTheme;\n    }\n  }, {\n    key: \"getMapStyleValue\",\n    value: function getMapStyleValue(name) {\n      var _this$getMapStyleConf;\n      return (_this$getMapStyleConf = this.getMapStyleConfig()[name]) !== null && _this$getMapStyleConf !== void 0 ? _this$getMapStyleConf : name;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.eventEmitter.removeAllListeners();\n      if (this.map) {\n        this.map.remove();\n        this.$mapContainer = null;\n      }\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(name) {\n      var _this$eventEmitter;\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      (_this$eventEmitter = this.eventEmitter).emit.apply(_this$eventEmitter, [name].concat(args));\n    }\n  }, {\n    key: \"once\",\n    value: function once(name) {\n      var _this$eventEmitter2;\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n      (_this$eventEmitter2 = this.eventEmitter).once.apply(_this$eventEmitter2, [name].concat(args));\n    }\n  }, {\n    key: \"getMapContainer\",\n    value: function getMapContainer() {\n      return this.$mapContainer;\n    }\n  }, {\n    key: \"exportMap\",\n    value: function exportMap(type) {\n      var renderCanvas = this.map.getCanvas();\n      var layersPng = type === 'jpg' ? renderCanvas === null || renderCanvas === void 0 ? void 0 : renderCanvas.toDataURL('image/jpeg') : renderCanvas === null || renderCanvas === void 0 ? void 0 : renderCanvas.toDataURL('image/png');\n      return layersPng;\n    }\n  }, {\n    key: \"onCameraChanged\",\n    value: function onCameraChanged(callback) {\n      this.cameraChangedCallback = callback;\n    }\n  }, {\n    key: \"creatMapContainer\",\n    value: function creatMapContainer(id) {\n      var $wrapper = id;\n      if (typeof id === 'string') {\n        $wrapper = document.getElementById(id);\n      }\n      return $wrapper;\n    }\n  }, {\n    key: \"updateView\",\n    value: function updateView(viewOption) {\n      // Tip: 统一触发地图变化事件\n      this.emit('mapchange');\n      // resync\n      this.viewport.syncWithMapCamera({\n        bearing: viewOption.bearing,\n        center: viewOption.center,\n        viewportHeight: viewOption.viewportHeight,\n        pitch: viewOption.pitch,\n        viewportWidth: viewOption.viewportWidth,\n        zoom: viewOption.zoom,\n        // mapbox 中固定相机高度为 viewport 高度的 1.5 倍\n        cameraHeight: 0\n      });\n      this.updateCoordinateSystemService();\n      this.cameraChangedCallback(this.viewport);\n    }\n  }, {\n    key: \"updateCoordinateSystemService\",\n    value: function updateCoordinateSystemService() {\n      var _this$config$offsetCo = this.config.offsetCoordinate,\n        offsetCoordinate = _this$config$offsetCo === void 0 ? true : _this$config$offsetCo;\n      // set coordinate system\n      if (this.viewport.getZoom() > LNGLAT_OFFSET_ZOOM_THRESHOLD && offsetCoordinate) {\n        this.coordinateSystemService.setCoordinateSystem(CoordinateSystem.LNGLAT_OFFSET);\n      } else {\n        this.coordinateSystemService.setCoordinateSystem(CoordinateSystem.LNGLAT);\n      }\n    }\n  }]);\n  return BaseMapService;\n}(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"config\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"configService\", [_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"coordinateSystemService\", [_dec4], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, \"eventEmitter\", [_dec5], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\nexport { BaseMapService as default };","map":{"version":3,"names":["_initializerDefineProperty","_classCallCheck","_createClass","_defineProperty","_applyDecoratedDescriptor","_initializerWarningHelper","_dec","_dec2","_dec3","_dec4","_dec5","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","CoordinateSystem","MapServiceEvent","TYPES","DOM","inject","injectable","SimpleMapCoord","MapTheme","EventMap","mapmove","camerachange","zoomchange","dragging","LNGLAT_OFFSET_ZOOM_THRESHOLD","BaseMapService","MapConfig","IGlobalConfigService","ICoordinateSystemService","IEventEmitter","_this","e","_this$map$getCenter","map","getCenter","lat","lng","emit","viewport","syncWithMapCamera","bearing","getBearing","center","viewportHeight","transform","height","pitch","getPitch","viewportWidth","width","zoom","getZoom","cameraHeight","updateCoordinateSystemService","cameraChangedCallback","key","value","setBgColor","color","bgColor","addMarkerContainer","container","getCanvasContainer","markerContainer","create","setAttribute","getMarkerContainer","getOverlayContainer","undefined","on","type","handle","indexOf","eventEmitter","off","getContainer","getMapCanvasContainer","getSize","version","simpleMapCoord","size","getType","setZoom","setCenter","lnglat","getRotation","getBounds","toArray","getMinZoom","getMaxZoom","setRotation","rotation","setBearing","zoomIn","option","eventData","zoomOut","setPitch","panTo","p","panBy","x","arguments","length","y","fitBounds","bound","fitBoundsOptions","setMaxZoom","max","setMinZoom","min","setMapStatus","doubleClickZoom","enable","disable","dragEnable","dragPan","rotateEnable","dragRotate","keyboardEnable","keyboard","zoomEnable","scrollZoom","setZoomAndCenter","flyTo","setMapStyle","style","setStyle","getMapStyleValue","meterToCoord","outer","pixelToLngLat","pixel","unproject","lngLatToPixel","project","containerToLngLat","lngLatToContainer","getMapStyle","_this$map$getStyle$sp","styleUrl","getStyle","sprite","test","replace","getMapStyleConfig","name","_this$getMapStyleConf","destroy","removeAllListeners","remove","$mapContainer","_this$eventEmitter","_len","args","Array","_key","apply","concat","once","_this$eventEmitter2","_len2","_key2","getMapContainer","exportMap","renderCanvas","getCanvas","layersPng","toDataURL","onCameraChanged","callback","creatMapContainer","id","$wrapper","document","getElementById","updateView","viewOption","_this$config$offsetCo","config","offsetCoordinate","coordinateSystemService","setCoordinateSystem","LNGLAT_OFFSET","LNGLAT","prototype","configurable","enumerable","writable","initializer","default"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-maps/es/utils/BaseMapService.js"],"sourcesContent":["import _initializerDefineProperty from \"@babel/runtime/helpers/esm/initializerDefineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _applyDecoratedDescriptor from \"@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"@babel/runtime/helpers/esm/initializerWarningHelper\";\nvar _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4;\n/**\n * MapboxService\n */\n\nimport { CoordinateSystem, MapServiceEvent, TYPES } from '@antv/l7-core';\nimport { DOM } from '@antv/l7-utils';\nimport { inject, injectable } from 'inversify';\nimport 'reflect-metadata';\nimport { SimpleMapCoord } from \"./simpleMapCoord\";\nimport { MapTheme } from \"./theme\";\nvar EventMap = {\n  mapmove: 'move',\n  camerachange: 'move',\n  zoomchange: 'zoom',\n  dragging: 'drag'\n};\nvar LNGLAT_OFFSET_ZOOM_THRESHOLD = 12;\n/**\n * AMapService\n */\nvar BaseMapService = (_dec = injectable(), _dec2 = inject(TYPES.MapConfig), _dec3 = inject(TYPES.IGlobalConfigService), _dec4 = inject(TYPES.ICoordinateSystemService), _dec5 = inject(TYPES.IEventEmitter), _dec(_class = (_class2 = /*#__PURE__*/function () {\n  function BaseMapService() {\n    var _this = this;\n    _classCallCheck(this, BaseMapService);\n    _defineProperty(this, \"version\", 'DEFAUlTMAP');\n    _defineProperty(this, \"simpleMapCoord\", new SimpleMapCoord());\n    // 背景色\n    _defineProperty(this, \"bgColor\", 'rgba(0.0, 0.0, 0.0, 0.0)');\n    _initializerDefineProperty(this, \"config\", _descriptor, this);\n    _initializerDefineProperty(this, \"configService\", _descriptor2, this);\n    _initializerDefineProperty(this, \"coordinateSystemService\", _descriptor3, this);\n    _initializerDefineProperty(this, \"eventEmitter\", _descriptor4, this);\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _defineProperty(this, \"handleCameraChanged\", function (e) {\n      var _this$map$getCenter = _this.map.getCenter(),\n        lat = _this$map$getCenter.lat,\n        lng = _this$map$getCenter.lng;\n      // Tip: 统一触发地图变化事件\n      _this.emit('mapchange');\n      // resync\n      _this.viewport.syncWithMapCamera({\n        bearing: _this.map.getBearing(),\n        center: [lng, lat],\n        viewportHeight: _this.map.transform.height,\n        pitch: _this.map.getPitch(),\n        viewportWidth: _this.map.transform.width,\n        zoom: _this.map.getZoom(),\n        // mapbox 中固定相机高度为 viewport 高度的 1.5 倍\n        cameraHeight: 0\n      });\n      _this.updateCoordinateSystemService();\n      _this.cameraChangedCallback(_this.viewport);\n    });\n  }\n  _createClass(BaseMapService, [{\n    key: \"setBgColor\",\n    value: function setBgColor(color) {\n      this.bgColor = color;\n    }\n\n    // init\n  }, {\n    key: \"addMarkerContainer\",\n    value: function addMarkerContainer() {\n      var container = this.map.getCanvasContainer();\n      this.markerContainer = DOM.create('div', 'l7-marker-container', container);\n      this.markerContainer.setAttribute('tabindex', '-1');\n    }\n  }, {\n    key: \"getMarkerContainer\",\n    value: function getMarkerContainer() {\n      return this.markerContainer;\n    }\n  }, {\n    key: \"getOverlayContainer\",\n    value: function getOverlayContainer() {\n      return undefined;\n    }\n\n    //  map event\n  }, {\n    key: \"on\",\n    value: function on(type, handle) {\n      if (MapServiceEvent.indexOf(type) !== -1) {\n        this.eventEmitter.on(type, handle);\n      } else {\n        // 统一事件名称\n        this.map.on(EventMap[type] || type, handle);\n      }\n    }\n  }, {\n    key: \"off\",\n    value: function off(type, handle) {\n      this.map.off(EventMap[type] || type, handle);\n      this.eventEmitter.off(type, handle);\n    }\n  }, {\n    key: \"getContainer\",\n    value: function getContainer() {\n      return this.map.getContainer();\n    }\n  }, {\n    key: \"getMapCanvasContainer\",\n    value: function getMapCanvasContainer() {\n      return this.map.getCanvasContainer();\n    }\n  }, {\n    key: \"getSize\",\n    value: function getSize() {\n      if (this.version === 'SIMPLE') {\n        return this.simpleMapCoord.getSize();\n      }\n      var size = this.map.transform;\n      return [size.width, size.height];\n    }\n    // get mapStatus method\n  }, {\n    key: \"getType\",\n    value: function getType() {\n      return 'default';\n    }\n  }, {\n    key: \"getZoom\",\n    value: function getZoom() {\n      return this.map.getZoom();\n    }\n  }, {\n    key: \"setZoom\",\n    value: function setZoom(zoom) {\n      return this.map.setZoom(zoom);\n    }\n  }, {\n    key: \"getCenter\",\n    value: function getCenter() {\n      return this.map.getCenter();\n    }\n  }, {\n    key: \"setCenter\",\n    value: function setCenter(lnglat) {\n      this.map.setCenter(lnglat);\n    }\n  }, {\n    key: \"getPitch\",\n    value: function getPitch() {\n      return this.map.getPitch();\n    }\n  }, {\n    key: \"getRotation\",\n    value: function getRotation() {\n      return this.map.getBearing();\n    }\n  }, {\n    key: \"getBounds\",\n    value: function getBounds() {\n      return this.map.getBounds().toArray();\n    }\n  }, {\n    key: \"getMinZoom\",\n    value: function getMinZoom() {\n      return this.map.getMinZoom();\n    }\n  }, {\n    key: \"getMaxZoom\",\n    value: function getMaxZoom() {\n      return this.map.getMaxZoom();\n    }\n  }, {\n    key: \"setRotation\",\n    value: function setRotation(rotation) {\n      this.map.setBearing(rotation);\n    }\n  }, {\n    key: \"zoomIn\",\n    value: function zoomIn(option, eventData) {\n      this.map.zoomIn(option, eventData);\n    }\n  }, {\n    key: \"zoomOut\",\n    value: function zoomOut(option, eventData) {\n      this.map.zoomOut(option, eventData);\n    }\n  }, {\n    key: \"setPitch\",\n    value: function setPitch(pitch) {\n      return this.map.setPitch(pitch);\n    }\n  }, {\n    key: \"panTo\",\n    value: function panTo(p) {\n      this.map.panTo(p);\n    }\n  }, {\n    key: \"panBy\",\n    value: function panBy() {\n      var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      // @ts-ignore\n      this.map.panBy([x, y]);\n    }\n  }, {\n    key: \"fitBounds\",\n    value: function fitBounds(bound, fitBoundsOptions) {\n      this.map.fitBounds(bound, fitBoundsOptions);\n    }\n  }, {\n    key: \"setMaxZoom\",\n    value: function setMaxZoom(max) {\n      this.map.setMaxZoom(max);\n    }\n  }, {\n    key: \"setMinZoom\",\n    value: function setMinZoom(min) {\n      this.map.setMinZoom(min);\n    }\n  }, {\n    key: \"setMapStatus\",\n    value: function setMapStatus(option) {\n      if (option.doubleClickZoom === true) {\n        this.map.doubleClickZoom.enable();\n      }\n      if (option.doubleClickZoom === false) {\n        this.map.doubleClickZoom.disable();\n      }\n      if (option.dragEnable === false) {\n        this.map.dragPan.disable();\n      }\n      if (option.dragEnable === true) {\n        this.map.dragPan.enable();\n      }\n      if (option.rotateEnable === false) {\n        this.map.dragRotate.disable();\n      }\n      if (option.dragEnable === true) {\n        this.map.dragRotate.enable();\n      }\n      if (option.keyboardEnable === false) {\n        this.map.keyboard.disable();\n      }\n      if (option.keyboardEnable === true) {\n        this.map.keyboard.enable();\n      }\n      if (option.zoomEnable === false) {\n        this.map.scrollZoom.disable();\n      }\n      if (option.zoomEnable === true) {\n        this.map.scrollZoom.enable();\n      }\n    }\n  }, {\n    key: \"setZoomAndCenter\",\n    value: function setZoomAndCenter(zoom, center) {\n      this.map.flyTo({\n        zoom: zoom,\n        center: center\n      });\n    }\n  }, {\n    key: \"setMapStyle\",\n    value: function setMapStyle(style) {\n      this.map.setStyle(this.getMapStyleValue(style));\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  }, {\n    key: \"meterToCoord\",\n    value: function meterToCoord(center, outer) {\n      return 1.0;\n    }\n\n    // TODO: 计算像素坐标\n  }, {\n    key: \"pixelToLngLat\",\n    value: function pixelToLngLat(pixel) {\n      return this.map.unproject(pixel);\n    }\n  }, {\n    key: \"lngLatToPixel\",\n    value: function lngLatToPixel(lnglat) {\n      return this.map.project(lnglat);\n    }\n  }, {\n    key: \"containerToLngLat\",\n    value: function containerToLngLat(pixel) {\n      return this.map.unproject(pixel);\n    }\n  }, {\n    key: \"lngLatToContainer\",\n    value: function lngLatToContainer(lnglat) {\n      return this.map.project(lnglat);\n    }\n  }, {\n    key: \"getMapStyle\",\n    value: function getMapStyle() {\n      try {\n        var _this$map$getStyle$sp;\n        // @ts-ignore\n        var styleUrl = (_this$map$getStyle$sp = this.map.getStyle().sprite) !== null && _this$map$getStyle$sp !== void 0 ? _this$map$getStyle$sp : '';\n        // 将 Mapbox 返回的样式字符串转成传入 style 保持一致\n        if (/^mapbox:\\/\\/sprites\\/zcxduo\\/\\w+\\/\\w+$/.test(styleUrl)) {\n          return styleUrl === null || styleUrl === void 0 ? void 0 : styleUrl.replace(/\\/\\w+$/, '').replace(/sprites/, 'styles');\n        }\n        return styleUrl;\n      } catch (e) {\n        return '';\n      }\n    }\n  }, {\n    key: \"getMapStyleConfig\",\n    value: function getMapStyleConfig() {\n      return MapTheme;\n    }\n  }, {\n    key: \"getMapStyleValue\",\n    value: function getMapStyleValue(name) {\n      var _this$getMapStyleConf;\n      return (_this$getMapStyleConf = this.getMapStyleConfig()[name]) !== null && _this$getMapStyleConf !== void 0 ? _this$getMapStyleConf : name;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.eventEmitter.removeAllListeners();\n      if (this.map) {\n        this.map.remove();\n        this.$mapContainer = null;\n      }\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(name) {\n      var _this$eventEmitter;\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      (_this$eventEmitter = this.eventEmitter).emit.apply(_this$eventEmitter, [name].concat(args));\n    }\n  }, {\n    key: \"once\",\n    value: function once(name) {\n      var _this$eventEmitter2;\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n      (_this$eventEmitter2 = this.eventEmitter).once.apply(_this$eventEmitter2, [name].concat(args));\n    }\n  }, {\n    key: \"getMapContainer\",\n    value: function getMapContainer() {\n      return this.$mapContainer;\n    }\n  }, {\n    key: \"exportMap\",\n    value: function exportMap(type) {\n      var renderCanvas = this.map.getCanvas();\n      var layersPng = type === 'jpg' ? renderCanvas === null || renderCanvas === void 0 ? void 0 : renderCanvas.toDataURL('image/jpeg') : renderCanvas === null || renderCanvas === void 0 ? void 0 : renderCanvas.toDataURL('image/png');\n      return layersPng;\n    }\n  }, {\n    key: \"onCameraChanged\",\n    value: function onCameraChanged(callback) {\n      this.cameraChangedCallback = callback;\n    }\n  }, {\n    key: \"creatMapContainer\",\n    value: function creatMapContainer(id) {\n      var $wrapper = id;\n      if (typeof id === 'string') {\n        $wrapper = document.getElementById(id);\n      }\n      return $wrapper;\n    }\n  }, {\n    key: \"updateView\",\n    value: function updateView(viewOption) {\n      // Tip: 统一触发地图变化事件\n      this.emit('mapchange');\n      // resync\n      this.viewport.syncWithMapCamera({\n        bearing: viewOption.bearing,\n        center: viewOption.center,\n        viewportHeight: viewOption.viewportHeight,\n        pitch: viewOption.pitch,\n        viewportWidth: viewOption.viewportWidth,\n        zoom: viewOption.zoom,\n        // mapbox 中固定相机高度为 viewport 高度的 1.5 倍\n        cameraHeight: 0\n      });\n      this.updateCoordinateSystemService();\n      this.cameraChangedCallback(this.viewport);\n    }\n  }, {\n    key: \"updateCoordinateSystemService\",\n    value: function updateCoordinateSystemService() {\n      var _this$config$offsetCo = this.config.offsetCoordinate,\n        offsetCoordinate = _this$config$offsetCo === void 0 ? true : _this$config$offsetCo;\n      // set coordinate system\n      if (this.viewport.getZoom() > LNGLAT_OFFSET_ZOOM_THRESHOLD && offsetCoordinate) {\n        this.coordinateSystemService.setCoordinateSystem(CoordinateSystem.LNGLAT_OFFSET);\n      } else {\n        this.coordinateSystemService.setCoordinateSystem(CoordinateSystem.LNGLAT);\n      }\n    }\n  }]);\n  return BaseMapService;\n}(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"config\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"configService\", [_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"coordinateSystemService\", [_dec4], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, \"eventEmitter\", [_dec5], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\nexport { BaseMapService as default };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}