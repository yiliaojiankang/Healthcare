{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { filter, isNil, isNumber, last } from '@antv/util';\n/**\n * 计算分类 ticks\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\nexport default function calculateCatTicks(cfg) {\n  var values = cfg.values,\n    tickInterval = cfg.tickInterval,\n    tickCount = cfg.tickCount,\n    showLast = cfg.showLast;\n  if (isNumber(tickInterval)) {\n    var ticks_1 = filter(values, function (__, i) {\n      return i % tickInterval === 0;\n    });\n    var lastValue = last(values);\n    if (showLast && last(ticks_1) !== lastValue) {\n      ticks_1.push(lastValue);\n    }\n    return ticks_1;\n  }\n  var len = values.length;\n  var min = cfg.min,\n    max = cfg.max;\n  if (isNil(min)) {\n    min = 0;\n  }\n  if (isNil(max)) {\n    max = values.length - 1;\n  }\n  if (!isNumber(tickCount) || tickCount >= len) return values.slice(min, max + 1);\n  if (tickCount <= 0 || max <= 0) return [];\n  var interval = tickCount === 1 ? len : Math.floor(len / (tickCount - 1));\n  var ticks = [];\n  var idx = min;\n  for (var i = 0; i < tickCount; i++) {\n    if (idx >= max) break;\n    idx = Math.min(min + i * interval, max);\n    if (i === tickCount - 1 && showLast) ticks.push(values[max]);else ticks.push(values[idx]);\n  }\n  return ticks;\n}","map":{"version":3,"names":["filter","isNil","isNumber","last","calculateCatTicks","cfg","values","tickInterval","tickCount","showLast","ticks_1","__","i","lastValue","push","len","length","min","max","slice","interval","Math","floor","ticks","idx"],"sources":["../../src/tick-method/cat.ts"],"sourcesContent":[null],"mappings":";AAAA,SAASA,MAAM,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,IAAI,QAAQ,YAAY;AAG1D;;;;;AAKA,eAAc,SAAUC,iBAAiBA,CAACC,GAAgB;EAChD,IAAAC,MAAM,GAAwCD,GAAG,CAAAC,MAA3C;IAAEC,YAAY,GAA0BF,GAAG,CAAAE,YAA7B;IAAEC,SAAS,GAAeH,GAAG,CAAAG,SAAlB;IAAEC,QAAQ,GAAKJ,GAAG,CAAAI,QAAR;EAEjD,IAAIP,QAAQ,CAACK,YAAY,CAAC,EAAE;IAC1B,IAAMG,OAAK,GAAGV,MAAM,CAACM,MAAM,EAAE,UAACK,EAAO,EAAEC,CAAS;MAAK,OAAAA,CAAC,GAAGL,YAAY,KAAK,CAAC;IAAtB,CAAsB,CAAC;IAC5E,IAAMM,SAAS,GAAGV,IAAI,CAACG,MAAM,CAAC;IAC9B,IAAIG,QAAQ,IAAIN,IAAI,CAACO,OAAK,CAAC,KAAKG,SAAS,EAAE;MACzCH,OAAK,CAACI,IAAI,CAACD,SAAS,CAAC;;IAEvB,OAAOH,OAAK;;EAGd,IAAMK,GAAG,GAAGT,MAAM,CAACU,MAAM;EACnB,IAAAC,GAAG,GAAUZ,GAAG,CAAAY,GAAb;IAAEC,GAAG,GAAKb,GAAG,CAAAa,GAAR;EACd,IAAIjB,KAAK,CAACgB,GAAG,CAAC,EAAE;IACdA,GAAG,GAAG,CAAC;;EAET,IAAIhB,KAAK,CAACiB,GAAG,CAAC,EAAE;IACdA,GAAG,GAAGZ,MAAM,CAACU,MAAM,GAAG,CAAC;;EAGzB,IAAI,CAACd,QAAQ,CAACM,SAAS,CAAC,IAAIA,SAAS,IAAIO,GAAG,EAAE,OAAOT,MAAM,CAACa,KAAK,CAACF,GAAG,EAAEC,GAAG,GAAG,CAAC,CAAC;EAC/E,IAAIV,SAAS,IAAI,CAAC,IAAIU,GAAG,IAAI,CAAC,EAAE,OAAO,EAAE;EAEzC,IAAME,QAAQ,GAAGZ,SAAS,KAAK,CAAC,GAAGO,GAAG,GAAGM,IAAI,CAACC,KAAK,CAACP,GAAG,IAAIP,SAAS,GAAG,CAAC,CAAC,CAAC;EAC1E,IAAMe,KAAK,GAAG,EAAE;EAEhB,IAAIC,GAAG,GAAGP,GAAG;EACb,KAAK,IAAIL,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,SAAS,EAAEI,CAAC,EAAE,EAAE;IAClC,IAAIY,GAAG,IAAIN,GAAG,EAAE;IAEhBM,GAAG,GAAGH,IAAI,CAACJ,GAAG,CAACA,GAAG,GAAGL,CAAC,GAAGQ,QAAQ,EAAEF,GAAG,CAAC;IACvC,IAAIN,CAAC,KAAKJ,SAAS,GAAG,CAAC,IAAIC,QAAQ,EAAEc,KAAK,CAACT,IAAI,CAACR,MAAM,CAACY,GAAG,CAAC,CAAC,CAAC,KACxDK,KAAK,CAACT,IAAI,CAACR,MAAM,CAACkB,GAAG,CAAC,CAAC;;EAE9B,OAAOD,KAAK;AACd"},"metadata":{},"sourceType":"module","externalDependencies":[]}