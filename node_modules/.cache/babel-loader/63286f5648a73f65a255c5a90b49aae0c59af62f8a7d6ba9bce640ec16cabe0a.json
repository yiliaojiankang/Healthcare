{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { __assign, __extends, __spreadArrays } from \"tslib\";\nimport { clone, isFunction, mix, upperFirst } from '@antv/util';\nimport Theme from '../util/theme';\nimport { getValueByPercent } from '../util/util';\nimport LegendBase from './base';\nvar HANDLER_HEIGHT_RATIO = 1.4;\nvar HANDLER_TRIANGLE_RATIO = 0.4;\nvar ContinueLegend = /** @class */function (_super) {\n  __extends(ContinueLegend, _super);\n  function ContinueLegend() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  ContinueLegend.prototype.getDefaultCfg = function () {\n    var cfg = _super.prototype.getDefaultCfg.call(this);\n    return __assign(__assign({}, cfg), {\n      type: 'continue',\n      min: 0,\n      max: 100,\n      value: null,\n      colors: [],\n      track: {},\n      rail: {},\n      label: {},\n      handler: {},\n      slidable: true,\n      tip: null,\n      step: null,\n      maxWidth: null,\n      maxHeight: null,\n      defaultCfg: {\n        label: {\n          align: 'rail',\n          spacing: 5,\n          formatter: null,\n          style: {\n            fontSize: 12,\n            fill: Theme.textColor,\n            textBaseline: 'middle',\n            fontFamily: Theme.fontFamily\n          }\n        },\n        handler: {\n          size: 10,\n          style: {\n            fill: '#fff',\n            stroke: '#333'\n          }\n        },\n        track: {},\n        rail: {\n          type: 'color',\n          size: 20,\n          defaultLength: 100,\n          style: {\n            fill: '#DCDEE2'\n          }\n        },\n        title: {\n          spacing: 5,\n          style: {\n            fill: Theme.textColor,\n            fontSize: 12,\n            textAlign: 'start',\n            textBaseline: 'top'\n          }\n        }\n      }\n    });\n  };\n  ContinueLegend.prototype.isSlider = function () {\n    return true;\n  };\n  // 实现 IList 接口\n  ContinueLegend.prototype.getValue = function () {\n    return this.getCurrentValue();\n  };\n  ContinueLegend.prototype.getRange = function () {\n    return {\n      min: this.get('min'),\n      max: this.get('max')\n    };\n  };\n  // 改变 range\n  ContinueLegend.prototype.setRange = function (min, max) {\n    this.update({\n      min: min,\n      max: max\n    });\n  };\n  ContinueLegend.prototype.setValue = function (value) {\n    var originValue = this.getValue();\n    this.set('value', value);\n    var group = this.get('group');\n    this.resetTrackClip();\n    if (this.get('slidable')) {\n      this.resetHandlers(group);\n    }\n    this.delegateEmit('valuechanged', {\n      originValue: originValue,\n      value: value\n    });\n  };\n  ContinueLegend.prototype.initEvent = function () {\n    var group = this.get('group');\n    this.bindSliderEvent(group);\n    this.bindRailEvent(group);\n    this.bindTrackEvent(group);\n  };\n  ContinueLegend.prototype.drawLegendContent = function (group) {\n    this.drawRail(group);\n    this.drawLabels(group);\n    this.fixedElements(group); // 调整各个图形位置，适应宽高的限制\n    this.resetTrack(group);\n    this.resetTrackClip(group);\n    if (this.get('slidable')) {\n      this.resetHandlers(group);\n    }\n  };\n  ContinueLegend.prototype.bindSliderEvent = function (group) {\n    this.bindHandlersEvent(group);\n  };\n  ContinueLegend.prototype.bindHandlersEvent = function (group) {\n    var _this = this;\n    group.on('legend-handler-min:drag', function (ev) {\n      var minValue = _this.getValueByCanvasPoint(ev.x, ev.y);\n      var currentValue = _this.getCurrentValue();\n      var maxValue = currentValue[1];\n      if (maxValue < minValue) {\n        // 如果小于最小值，则调整最小值\n        maxValue = minValue;\n      }\n      _this.setValue([minValue, maxValue]);\n    });\n    group.on('legend-handler-max:drag', function (ev) {\n      var maxValue = _this.getValueByCanvasPoint(ev.x, ev.y);\n      var currentValue = _this.getCurrentValue();\n      var minValue = currentValue[0];\n      if (minValue > maxValue) {\n        // 如果小于最小值，则调整最小值\n        minValue = maxValue;\n      }\n      _this.setValue([minValue, maxValue]);\n    });\n  };\n  ContinueLegend.prototype.bindRailEvent = function (group) {};\n  ContinueLegend.prototype.bindTrackEvent = function (group) {\n    var _this = this;\n    var prePoint = null;\n    group.on('legend-track:dragstart', function (ev) {\n      prePoint = {\n        x: ev.x,\n        y: ev.y\n      };\n    });\n    group.on('legend-track:drag', function (ev) {\n      if (!prePoint) {\n        return;\n      }\n      var preValue = _this.getValueByCanvasPoint(prePoint.x, prePoint.y);\n      var curValue = _this.getValueByCanvasPoint(ev.x, ev.y);\n      var currentValue = _this.getCurrentValue();\n      var curDiff = currentValue[1] - currentValue[0];\n      var range = _this.getRange();\n      var dValue = curValue - preValue;\n      if (dValue < 0) {\n        // 减小, 同时未出边界\n        if (currentValue[0] + dValue > range.min) {\n          _this.setValue([currentValue[0] + dValue, currentValue[1] + dValue]);\n        } else {\n          _this.setValue([range.min, range.min + curDiff]);\n        }\n        //  && ||\n      } else if (dValue > 0) {\n        if (dValue > 0 && currentValue[1] + dValue < range.max) {\n          _this.setValue([currentValue[0] + dValue, currentValue[1] + dValue]);\n        } else {\n          _this.setValue([range.max - curDiff, range.max]);\n        }\n      }\n      prePoint = {\n        x: ev.x,\n        y: ev.y\n      };\n    });\n    group.on('legend-track:dragend', function (ev) {\n      prePoint = null;\n    });\n  };\n  ContinueLegend.prototype.drawLabels = function (group) {\n    this.drawLabel('min', group);\n    this.drawLabel('max', group);\n  };\n  ContinueLegend.prototype.drawLabel = function (name, group) {\n    var labelCfg = this.get('label');\n    var style = labelCfg.style;\n    var labelAlign = labelCfg.align;\n    var labelFormatter = labelCfg.formatter;\n    var value = this.get(name);\n    var alignAttrs = this.getLabelAlignAttrs(name, labelAlign);\n    var localId = \"label-\" + name;\n    this.addShape(group, {\n      type: 'text',\n      id: this.getElementId(localId),\n      name: \"legend-label-\" + name,\n      attrs: __assign(__assign({\n        x: 0,\n        y: 0,\n        text: isFunction(labelFormatter) ? labelFormatter(value) : value\n      }, style), alignAttrs)\n    });\n  };\n  // 获取文本的对齐方式，为了自适应真实操碎了心\n  ContinueLegend.prototype.getLabelAlignAttrs = function (name, align) {\n    var isVertical = this.isVertical();\n    var textAlign = 'center';\n    var textBaseline = 'middle';\n    if (isVertical) {\n      // 垂直布局的所有的文本都左对齐\n      textAlign = 'start';\n      if (align !== 'rail') {\n        if (name === 'min') {\n          textBaseline = 'top';\n        } else {\n          textBaseline = 'bottom';\n        }\n      } else {\n        textBaseline = 'top';\n      }\n    } else {\n      if (align !== 'rail') {\n        textBaseline = 'top';\n        if (name === 'min') {\n          textAlign = 'start';\n        } else {\n          textAlign = 'end';\n        }\n      } else {\n        textAlign = 'start';\n        textBaseline = 'middle';\n      }\n    }\n    return {\n      textAlign: textAlign,\n      textBaseline: textBaseline\n    };\n  };\n  ContinueLegend.prototype.getRailPath = function (x, y, w, h) {\n    var railCfg = this.get('rail');\n    var size = railCfg.size,\n      defaultLength = railCfg.defaultLength,\n      type = railCfg.type;\n    var isVertical = this.isVertical();\n    var length = defaultLength;\n    var width = w;\n    var height = h;\n    if (!width) {\n      width = isVertical ? size : length;\n    }\n    if (!height) {\n      height = isVertical ? length : size;\n    }\n    var path = [];\n    if (type === 'color') {\n      path.push(['M', x, y]);\n      path.push(['L', x + width, y]);\n      path.push(['L', x + width, y + height]);\n      path.push(['L', x, y + height]);\n      path.push(['Z']);\n    } else {\n      path.push(['M', x + width, y]);\n      path.push(['L', x + width, y + height]);\n      path.push(['L', x, y + height]);\n      path.push(['Z']);\n    }\n    return path;\n  };\n  ContinueLegend.prototype.drawRail = function (group) {\n    var railCfg = this.get('rail');\n    var style = railCfg.style;\n    this.addShape(group, {\n      type: 'path',\n      id: this.getElementId('rail'),\n      name: 'legend-rail',\n      attrs: __assign({\n        path: this.getRailPath(0, 0)\n      }, style)\n    });\n  };\n  // 将传入的颜色转换成渐变色\n  ContinueLegend.prototype.getTrackColor = function (colors) {\n    var count = colors.length;\n    if (!count) {\n      return null;\n    }\n    if (count === 1) {\n      return colors[0];\n    }\n    var color; // 最终形态 l(0) 0:colors[0] 0.5:colors[1] 1:colors[2];\n    if (this.isVertical()) {\n      // 根据方向设置渐变方向\n      color = 'l(90)';\n    } else {\n      color = 'l(0)';\n    }\n    for (var i = 0; i < count; i++) {\n      var percent = i / (count - 1);\n      color += \" \" + percent + \":\" + colors[i];\n    }\n    return color;\n  };\n  ContinueLegend.prototype.getTrackPath = function (group) {\n    var railShape = this.getRailShape(group);\n    var path = railShape.attr('path');\n    return clone(path);\n  };\n  ContinueLegend.prototype.getClipTrackAttrs = function (group) {\n    var value = this.getCurrentValue();\n    var min = value[0],\n      max = value[1];\n    var railBBox = this.getRailBBox(group);\n    var startPoint = this.getPointByValue(min, group);\n    var endPoint = this.getPointByValue(max, group);\n    var isVertical = this.isVertical();\n    var x;\n    var y;\n    var width;\n    var height;\n    if (isVertical) {\n      x = railBBox.minX;\n      y = startPoint.y;\n      width = railBBox.width;\n      height = endPoint.y - startPoint.y;\n    } else {\n      x = startPoint.x;\n      y = railBBox.minY;\n      width = endPoint.x - startPoint.x;\n      height = railBBox.height;\n    }\n    return {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    };\n  };\n  // 获取 track 的属性，由 path 和 颜色构成\n  ContinueLegend.prototype.getTrackAttrs = function (group) {\n    var trackCfg = this.get('track');\n    var colors = this.get('colors');\n    var path = this.getTrackPath(group);\n    return mix({\n      path: path,\n      fill: this.getTrackColor(colors)\n    }, trackCfg.style);\n  };\n  ContinueLegend.prototype.resetTrackClip = function (group) {\n    var container = group || this.get('group');\n    var trackId = this.getElementId('track');\n    var trackShape = container.findById(trackId);\n    var clipShape = trackShape.getClip();\n    var attrs = this.getClipTrackAttrs(group);\n    if (!clipShape) {\n      trackShape.setClip({\n        type: 'rect',\n        attrs: attrs\n      });\n    } else {\n      clipShape.attr(attrs);\n    }\n  };\n  ContinueLegend.prototype.resetTrack = function (group) {\n    var trackId = this.getElementId('track');\n    var trackShape = group.findById(trackId);\n    var trackAttrs = this.getTrackAttrs(group);\n    if (trackShape) {\n      trackShape.attr(trackAttrs);\n    } else {\n      this.addShape(group, {\n        type: 'path',\n        id: trackId,\n        draggable: this.get('slidable'),\n        name: 'legend-track',\n        attrs: trackAttrs\n      });\n    }\n  };\n  ContinueLegend.prototype.getPointByValue = function (value, group) {\n    var _a = this.getRange(),\n      min = _a.min,\n      max = _a.max;\n    var percent = (value - min) / (max - min);\n    var bbox = this.getRailBBox(group);\n    var isVertcal = this.isVertical();\n    var point = {\n      x: 0,\n      y: 0\n    };\n    if (isVertcal) {\n      point.x = bbox.minX + bbox.width / 2;\n      point.y = getValueByPercent(bbox.minY, bbox.maxY, percent);\n    } else {\n      point.x = getValueByPercent(bbox.minX, bbox.maxX, percent);\n      point.y = bbox.minY + bbox.height / 2;\n    }\n    return point;\n  };\n  ContinueLegend.prototype.getRailShape = function (group) {\n    var container = group || this.get('group');\n    return container.findById(this.getElementId('rail'));\n  };\n  // 获取滑轨的宽高信息\n  ContinueLegend.prototype.getRailBBox = function (group) {\n    var railShape = this.getRailShape(group);\n    var bbox = railShape.getBBox();\n    return bbox;\n  };\n  ContinueLegend.prototype.getRailCanvasBBox = function () {\n    var container = this.get('group');\n    var railShape = container.findById(this.getElementId('rail'));\n    var bbox = railShape.getCanvasBBox();\n    return bbox;\n  };\n  // 是否垂直\n  ContinueLegend.prototype.isVertical = function () {\n    return this.get('layout') === 'vertical';\n  };\n  // 用于交互时\n  ContinueLegend.prototype.getValueByCanvasPoint = function (x, y) {\n    var _a = this.getRange(),\n      min = _a.min,\n      max = _a.max;\n    var bbox = this.getRailCanvasBBox(); // 因为 x, y 是画布坐标\n    var isVertcal = this.isVertical();\n    var step = this.get('step');\n    var percent;\n    if (isVertcal) {\n      // 垂直时计算 y\n      percent = (y - bbox.minY) / bbox.height;\n    } else {\n      // 水平时计算 x\n      percent = (x - bbox.minX) / bbox.width;\n    }\n    var value = getValueByPercent(min, max, percent);\n    if (step) {\n      var count = Math.round((value - min) / step);\n      value = min + count * step; // 移动到最近的\n    }\n\n    if (value > max) {\n      value = max;\n    }\n    if (value < min) {\n      value = min;\n    }\n    return value;\n  };\n  // 当前选中的范围\n  ContinueLegend.prototype.getCurrentValue = function () {\n    var value = this.get('value');\n    if (!value) {\n      var values = this.get('values');\n      if (!values) {\n        return [this.get('min'), this.get('max')];\n      }\n      // 如果没有定义，取最大范围  最小值 为 values 中的最小值， 如果最小值 超过了 定义的最大值 则 做限制  最大值 反之\n      return [Math.max(Math.min.apply(Math, __spreadArrays(values, [this.get('max')])), this.get('min')), Math.min(Math.max.apply(Math, __spreadArrays(values, [this.get('min')])), this.get('max'))];\n    }\n    return value;\n  };\n  // 重置滑块 handler\n  ContinueLegend.prototype.resetHandlers = function (group) {\n    var currentValue = this.getCurrentValue();\n    var min = currentValue[0],\n      max = currentValue[1];\n    this.resetHandler(group, 'min', min);\n    this.resetHandler(group, 'max', max);\n  };\n  // 获取滑块的 path\n  ContinueLegend.prototype.getHandlerPath = function (handlerCfg, point) {\n    var isVertical = this.isVertical();\n    var path = [];\n    var width = handlerCfg.size;\n    var x = point.x,\n      y = point.y;\n    var height = width * HANDLER_HEIGHT_RATIO;\n    var halfWidth = width / 2;\n    var oneSixthWidth = width / 6;\n    if (isVertical) {\n      /**\n       * 竖直情况下的滑块 handler，左侧顶点是 x,y\n       *  /----|\n       *    -- |\n       *    -- |\n       *  \\----|\n       */\n      var triangleX = x + height * HANDLER_TRIANGLE_RATIO;\n      path.push(['M', x, y]);\n      path.push(['L', triangleX, y + halfWidth]);\n      path.push(['L', x + height, y + halfWidth]);\n      path.push(['L', x + height, y - halfWidth]);\n      path.push(['L', triangleX, y - halfWidth]);\n      path.push(['Z']);\n      // 绘制两条横线\n      path.push(['M', triangleX, y + oneSixthWidth]);\n      path.push(['L', x + height - 2, y + oneSixthWidth]);\n      path.push(['M', triangleX, y - oneSixthWidth]);\n      path.push(['L', x + height - 2, y - oneSixthWidth]);\n    } else {\n      /**\n       * 水平情况下的滑块，上面顶点处是 x,y\n       *  /   \\\n       * | | | |\n       * | | | |\n       *  -----\n       */\n      var triangleY = y + height * HANDLER_TRIANGLE_RATIO;\n      path.push(['M', x, y]);\n      path.push(['L', x - halfWidth, triangleY]);\n      path.push(['L', x - halfWidth, y + height]);\n      path.push(['L', x + halfWidth, y + height]);\n      path.push(['L', x + halfWidth, triangleY]);\n      path.push(['Z']);\n      // 绘制两条竖线\n      path.push(['M', x - oneSixthWidth, triangleY]);\n      path.push(['L', x - oneSixthWidth, y + height - 2]);\n      path.push(['M', x + oneSixthWidth, triangleY]);\n      path.push(['L', x + oneSixthWidth, y + height - 2]);\n    }\n    return path;\n  };\n  // 调整 handler 的位置，如果未存在则绘制\n  ContinueLegend.prototype.resetHandler = function (group, name, value) {\n    var point = this.getPointByValue(value, group);\n    var handlerCfg = this.get('handler');\n    var path = this.getHandlerPath(handlerCfg, point);\n    var id = this.getElementId(\"handler-\" + name);\n    var handlerShape = group.findById(id);\n    var isVertical = this.isVertical();\n    if (handlerShape) {\n      handlerShape.attr('path', path);\n    } else {\n      this.addShape(group, {\n        type: 'path',\n        name: \"legend-handler-\" + name,\n        draggable: true,\n        id: id,\n        attrs: __assign(__assign({\n          path: path\n        }, handlerCfg.style), {\n          cursor: isVertical ? 'ns-resize' : 'ew-resize'\n        })\n      });\n    }\n  };\n  // 当设置了 maxWidth, maxHeight 时调整 rail 的宽度，\n  // 文本的位置\n  ContinueLegend.prototype.fixedElements = function (group) {\n    var railShape = group.findById(this.getElementId('rail'));\n    var minLabel = group.findById(this.getElementId('label-min'));\n    var maxLabel = group.findById(this.getElementId('label-max'));\n    var startPoint = this.getDrawPoint();\n    if (this.isVertical()) {\n      // 横向布局\n      this.fixedVertail(minLabel, maxLabel, railShape, startPoint);\n    } else {\n      // 水平布局\n      this.fixedHorizontal(minLabel, maxLabel, railShape, startPoint);\n    }\n  };\n  ContinueLegend.prototype.fitRailLength = function (minLabelBBox, maxLabelBBox, railBBox, railShape) {\n    var isVertical = this.isVertical();\n    var lengthField = isVertical ? 'height' : 'width';\n    var labelCfg = this.get('label');\n    var labelAlign = labelCfg.align;\n    var spacing = labelCfg.spacing;\n    var maxLength = this.get(\"max\" + upperFirst(lengthField)); // get('maxWidth')\n    if (maxLength) {\n      var elementsLength = labelAlign === 'rail' ? railBBox[lengthField] + minLabelBBox[lengthField] + maxLabelBBox[lengthField] + spacing * 2 : railBBox[lengthField];\n      var diff = elementsLength - maxLength;\n      if (diff > 0) {\n        // 大于限制的长度\n        this.changeRailLength(railShape, lengthField, railBBox[lengthField] - diff);\n      }\n    }\n  };\n  ContinueLegend.prototype.changeRailLength = function (railShape, lengthField, length) {\n    var bbox = railShape.getBBox();\n    var path;\n    if (lengthField === 'height') {\n      path = this.getRailPath(bbox.x, bbox.y, bbox.width, length);\n    } else {\n      path = this.getRailPath(bbox.x, bbox.y, length, bbox.height);\n    }\n    railShape.attr('path', path);\n  };\n  ContinueLegend.prototype.changeRailPosition = function (railShape, x, y) {\n    var bbox = railShape.getBBox();\n    var path = this.getRailPath(x, y, bbox.width, bbox.height);\n    railShape.attr('path', path);\n  };\n  ContinueLegend.prototype.fixedHorizontal = function (minLabel, maxLabel, railShape, startPoint) {\n    var labelCfg = this.get('label');\n    var labelAlign = labelCfg.align;\n    var spacing = labelCfg.spacing;\n    var railBBox = railShape.getBBox();\n    var minLabelBBox = minLabel.getBBox();\n    var maxLabelBBox = maxLabel.getBBox();\n    var railHeight = railBBox.height; // 取 rail 的高度，作为高度\n    this.fitRailLength(minLabelBBox, maxLabelBBox, railBBox, railShape);\n    railBBox = railShape.getBBox();\n    if (labelAlign === 'rail') {\n      // 沿着 rail 方向\n      minLabel.attr({\n        x: startPoint.x,\n        y: startPoint.y + railHeight / 2\n      });\n      this.changeRailPosition(railShape, startPoint.x + minLabelBBox.width + spacing, startPoint.y);\n      maxLabel.attr({\n        x: startPoint.x + minLabelBBox.width + railBBox.width + spacing * 2,\n        y: startPoint.y + railHeight / 2\n      });\n    } else if (labelAlign === 'top') {\n      minLabel.attr({\n        x: startPoint.x,\n        y: startPoint.y\n      });\n      maxLabel.attr({\n        x: startPoint.x + railBBox.width,\n        y: startPoint.y\n      });\n      this.changeRailPosition(railShape, startPoint.x, startPoint.y + minLabelBBox.height + spacing);\n    } else {\n      this.changeRailPosition(railShape, startPoint.x, startPoint.y);\n      minLabel.attr({\n        x: startPoint.x,\n        y: startPoint.y + railBBox.height + spacing\n      });\n      maxLabel.attr({\n        x: startPoint.x + railBBox.width,\n        y: startPoint.y + railBBox.height + spacing\n      });\n    }\n  };\n  ContinueLegend.prototype.fixedVertail = function (minLabel, maxLabel, railShape, startPoint) {\n    var labelCfg = this.get('label');\n    var labelAlign = labelCfg.align;\n    var spacing = labelCfg.spacing;\n    var railBBox = railShape.getBBox();\n    var minLabelBBox = minLabel.getBBox();\n    var maxLabelBBox = maxLabel.getBBox();\n    this.fitRailLength(minLabelBBox, maxLabelBBox, railBBox, railShape);\n    railBBox = railShape.getBBox();\n    if (labelAlign === 'rail') {\n      // 沿着 rail 方向\n      minLabel.attr({\n        x: startPoint.x,\n        y: startPoint.y\n      });\n      this.changeRailPosition(railShape, startPoint.x, startPoint.y + minLabelBBox.height + spacing);\n      maxLabel.attr({\n        x: startPoint.x,\n        y: startPoint.y + minLabelBBox.height + railBBox.height + spacing * 2\n      });\n    } else if (labelAlign === 'right') {\n      minLabel.attr({\n        x: startPoint.x + railBBox.width + spacing,\n        y: startPoint.y\n      });\n      this.changeRailPosition(railShape, startPoint.x, startPoint.y);\n      maxLabel.attr({\n        x: startPoint.x + railBBox.width + spacing,\n        y: startPoint.y + railBBox.height\n      });\n    } else {\n      // left\n      var maxLabelWidth = Math.max(minLabelBBox.width, maxLabelBBox.width);\n      minLabel.attr({\n        x: startPoint.x,\n        y: startPoint.y\n      });\n      this.changeRailPosition(railShape, startPoint.x + maxLabelWidth + spacing, startPoint.y);\n      maxLabel.attr({\n        x: startPoint.x,\n        y: startPoint.y + railBBox.height\n      });\n    }\n  };\n  return ContinueLegend;\n}(LegendBase);\nexport default ContinueLegend;","map":{"version":3,"names":["clone","isFunction","mix","upperFirst","Theme","getValueByPercent","LegendBase","HANDLER_HEIGHT_RATIO","HANDLER_TRIANGLE_RATIO","ContinueLegend","_super","__extends","prototype","getDefaultCfg","cfg","call","__assign","type","min","max","value","colors","track","rail","label","handler","slidable","tip","step","maxWidth","maxHeight","defaultCfg","align","spacing","formatter","style","fontSize","fill","textColor","textBaseline","fontFamily","size","stroke","defaultLength","title","textAlign","isSlider","getValue","getCurrentValue","getRange","get","setRange","update","setValue","originValue","set","group","resetTrackClip","resetHandlers","delegateEmit","initEvent","bindSliderEvent","bindRailEvent","bindTrackEvent","drawLegendContent","drawRail","drawLabels","fixedElements","resetTrack","bindHandlersEvent","_this","on","ev","minValue","getValueByCanvasPoint","x","y","currentValue","maxValue","prePoint","preValue","curValue","curDiff","range","dValue","drawLabel","name","labelCfg","labelAlign","labelFormatter","alignAttrs","getLabelAlignAttrs","localId","addShape","id","getElementId","attrs","text","isVertical","getRailPath","w","h","railCfg","length","width","height","path","push","getTrackColor","count","color","i","percent","getTrackPath","railShape","getRailShape","attr","getClipTrackAttrs","railBBox","getRailBBox","startPoint","getPointByValue","endPoint","minX","minY","getTrackAttrs","trackCfg","container","trackId","trackShape","findById","clipShape","getClip","setClip","trackAttrs","draggable","_a","bbox","isVertcal","point","maxY","maxX","getBBox","getRailCanvasBBox","getCanvasBBox","Math","round","values","apply","__spreadArrays","resetHandler","getHandlerPath","handlerCfg","halfWidth","oneSixthWidth","triangleX","triangleY","handlerShape","cursor","minLabel","maxLabel","getDrawPoint","fixedVertail","fixedHorizontal","fitRailLength","minLabelBBox","maxLabelBBox","lengthField","maxLength","elementsLength","diff","changeRailLength","changeRailPosition","railHeight","maxLabelWidth"],"sources":["../../src/legend/continuous.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}