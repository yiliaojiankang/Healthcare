{"ast":null,"code":"import Graph from '../Graph';\nimport PriorityQueue from './PriorityQueue';\nvar prim = function prim(graph, weightFn) {\n  var result = new Graph();\n  var parents = new Map();\n  var pq = new PriorityQueue();\n  var v;\n  function updateNeighbors(edge) {\n    var w = edge.v === v ? edge.w : edge.v;\n    var pri = pq.priority(w);\n    if (pri !== undefined) {\n      var edgeWeight = weightFn(edge);\n      if (edgeWeight < pri) {\n        parents.set(w, v);\n        pq.decrease(w, edgeWeight);\n      }\n    }\n  }\n  if (graph.nodeCount() === 0) {\n    return result;\n  }\n  graph.nodes().forEach(function (node) {\n    pq.add(node, Number.POSITIVE_INFINITY);\n    result.setNode(node);\n  }); // Start from an arbitrary node\n\n  pq.decrease(graph.nodes()[0], 0);\n  var init = false;\n  while (pq.size() > 0) {\n    var _graph$nodeEdges;\n    v = pq.removeMin();\n    if (parents.has(v)) {\n      result.setEdge(v, parents.get(v));\n    } else if (init) {\n      throw new Error('Input graph is not connected: ' + graph.graph());\n    } else {\n      init = true;\n    }\n    (_graph$nodeEdges = graph.nodeEdges(v)) === null || _graph$nodeEdges === void 0 ? void 0 : _graph$nodeEdges.forEach(updateNeighbors);\n  }\n  return result;\n};\nexport default prim;","map":{"version":3,"names":["Graph","PriorityQueue","prim","graph","weightFn","result","parents","Map","pq","v","updateNeighbors","edge","w","pri","priority","undefined","edgeWeight","set","decrease","nodeCount","nodes","forEach","node","add","Number","POSITIVE_INFINITY","setNode","init","size","_graph$nodeEdges","removeMin","has","setEdge","get","Error","nodeEdges"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/graphlib/es/algorithm/prim.js"],"sourcesContent":["import Graph from '../Graph';\nimport PriorityQueue from './PriorityQueue';\n\nvar prim = function prim(graph, weightFn) {\n  var result = new Graph();\n  var parents = new Map();\n  var pq = new PriorityQueue();\n  var v;\n\n  function updateNeighbors(edge) {\n    var w = edge.v === v ? edge.w : edge.v;\n    var pri = pq.priority(w);\n\n    if (pri !== undefined) {\n      var edgeWeight = weightFn(edge);\n\n      if (edgeWeight < pri) {\n        parents.set(w, v);\n        pq.decrease(w, edgeWeight);\n      }\n    }\n  }\n\n  if (graph.nodeCount() === 0) {\n    return result;\n  }\n\n  graph.nodes().forEach(function (node) {\n    pq.add(node, Number.POSITIVE_INFINITY);\n    result.setNode(node);\n  }); // Start from an arbitrary node\n\n  pq.decrease(graph.nodes()[0], 0);\n  var init = false;\n\n  while (pq.size() > 0) {\n    var _graph$nodeEdges;\n\n    v = pq.removeMin();\n\n    if (parents.has(v)) {\n      result.setEdge(v, parents.get(v));\n    } else if (init) {\n      throw new Error('Input graph is not connected: ' + graph.graph());\n    } else {\n      init = true;\n    }\n\n    (_graph$nodeEdges = graph.nodeEdges(v)) === null || _graph$nodeEdges === void 0 ? void 0 : _graph$nodeEdges.forEach(updateNeighbors);\n  }\n\n  return result;\n};\n\nexport default prim;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,UAAU;AAC5B,OAAOC,aAAa,MAAM,iBAAiB;AAE3C,IAAIC,IAAI,GAAG,SAASA,IAAIA,CAACC,KAAK,EAAEC,QAAQ,EAAE;EACxC,IAAIC,MAAM,GAAG,IAAIL,KAAK,CAAC,CAAC;EACxB,IAAIM,OAAO,GAAG,IAAIC,GAAG,CAAC,CAAC;EACvB,IAAIC,EAAE,GAAG,IAAIP,aAAa,CAAC,CAAC;EAC5B,IAAIQ,CAAC;EAEL,SAASC,eAAeA,CAACC,IAAI,EAAE;IAC7B,IAAIC,CAAC,GAAGD,IAAI,CAACF,CAAC,KAAKA,CAAC,GAAGE,IAAI,CAACC,CAAC,GAAGD,IAAI,CAACF,CAAC;IACtC,IAAII,GAAG,GAAGL,EAAE,CAACM,QAAQ,CAACF,CAAC,CAAC;IAExB,IAAIC,GAAG,KAAKE,SAAS,EAAE;MACrB,IAAIC,UAAU,GAAGZ,QAAQ,CAACO,IAAI,CAAC;MAE/B,IAAIK,UAAU,GAAGH,GAAG,EAAE;QACpBP,OAAO,CAACW,GAAG,CAACL,CAAC,EAAEH,CAAC,CAAC;QACjBD,EAAE,CAACU,QAAQ,CAACN,CAAC,EAAEI,UAAU,CAAC;MAC5B;IACF;EACF;EAEA,IAAIb,KAAK,CAACgB,SAAS,CAAC,CAAC,KAAK,CAAC,EAAE;IAC3B,OAAOd,MAAM;EACf;EAEAF,KAAK,CAACiB,KAAK,CAAC,CAAC,CAACC,OAAO,CAAC,UAAUC,IAAI,EAAE;IACpCd,EAAE,CAACe,GAAG,CAACD,IAAI,EAAEE,MAAM,CAACC,iBAAiB,CAAC;IACtCpB,MAAM,CAACqB,OAAO,CAACJ,IAAI,CAAC;EACtB,CAAC,CAAC,CAAC,CAAC;;EAEJd,EAAE,CAACU,QAAQ,CAACf,KAAK,CAACiB,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;EAChC,IAAIO,IAAI,GAAG,KAAK;EAEhB,OAAOnB,EAAE,CAACoB,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE;IACpB,IAAIC,gBAAgB;IAEpBpB,CAAC,GAAGD,EAAE,CAACsB,SAAS,CAAC,CAAC;IAElB,IAAIxB,OAAO,CAACyB,GAAG,CAACtB,CAAC,CAAC,EAAE;MAClBJ,MAAM,CAAC2B,OAAO,CAACvB,CAAC,EAAEH,OAAO,CAAC2B,GAAG,CAACxB,CAAC,CAAC,CAAC;IACnC,CAAC,MAAM,IAAIkB,IAAI,EAAE;MACf,MAAM,IAAIO,KAAK,CAAC,gCAAgC,GAAG/B,KAAK,CAACA,KAAK,CAAC,CAAC,CAAC;IACnE,CAAC,MAAM;MACLwB,IAAI,GAAG,IAAI;IACb;IAEA,CAACE,gBAAgB,GAAG1B,KAAK,CAACgC,SAAS,CAAC1B,CAAC,CAAC,MAAM,IAAI,IAAIoB,gBAAgB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAACR,OAAO,CAACX,eAAe,CAAC;EACtI;EAEA,OAAOL,MAAM;AACf,CAAC;AAED,eAAeH,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}