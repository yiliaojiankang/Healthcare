{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { gl } from '@antv/g-webgpu-core';\nimport { dataTypeMap, usageMap } from './constants';\n\n/**\n * @see https://github.com/regl-project/regl/blob/gh-pages/API.md#elements\n */\nvar ReglElements = /*#__PURE__*/function () {\n  function ReglElements(reGl, options) {\n    _classCallCheck(this, ReglElements);\n    this.elements = void 0;\n    var data = options.data,\n      usage = options.usage,\n      type = options.type,\n      count = options.count;\n    this.elements = reGl.elements({\n      data: data,\n      usage: usageMap[usage || gl.STATIC_DRAW],\n      type: dataTypeMap[type || gl.UNSIGNED_BYTE],\n      count: count\n    });\n  }\n  _createClass(ReglElements, [{\n    key: \"get\",\n    value: function get() {\n      return this.elements;\n    }\n  }, {\n    key: \"subData\",\n    value: function subData(_ref) {\n      var data = _ref.data;\n      this.elements.subdata(data);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.elements.destroy();\n    }\n  }]);\n  return ReglElements;\n}();\nexport { ReglElements as default };","map":{"version":3,"names":["gl","dataTypeMap","usageMap","ReglElements","reGl","options","_classCallCheck","elements","data","usage","type","count","STATIC_DRAW","UNSIGNED_BYTE","_createClass","key","value","get","subData","_ref","subdata","destroy","default"],"sources":["../../src/webgl/ReglElements.ts"],"sourcesContent":["import {\n  gl,\n  IElements,\n  IElementsInitializationOptions,\n} from '@antv/g-webgpu-core';\nimport regl from 'regl';\nimport { dataTypeMap, usageMap } from './constants';\n\n/**\n * @see https://github.com/regl-project/regl/blob/gh-pages/API.md#elements\n */\nexport default class ReglElements implements IElements {\n  private elements: regl.Elements;\n\n  constructor(reGl: regl.Regl, options: IElementsInitializationOptions) {\n    const { data, usage, type, count } = options;\n\n    this.elements = reGl.elements({\n      data,\n      usage: usageMap[usage || gl.STATIC_DRAW],\n      type: dataTypeMap[type || gl.UNSIGNED_BYTE] as\n        | 'uint8'\n        | 'uint16'\n        | 'uint32',\n      count,\n    });\n  }\n\n  public get() {\n    return this.elements;\n  }\n\n  public subData({\n    data,\n  }: {\n    data: number[] | number[][] | Uint8Array | Uint16Array | Uint32Array;\n  }) {\n    this.elements.subdata(data);\n  }\n\n  public destroy() {\n    this.elements.destroy();\n  }\n}\n"],"mappings":";;AAAA,SACEA,EAAE,QAGG,qBAAqB;AAE5B,SAASC,WAAW,EAAEC,QAAQ,QAAQ,aAAa;;AAEnD;AACA;AACA;AAFA,IAGqBC,YAAY;EAG/B,SAAAA,aAAYC,IAAe,EAAEC,OAAuC,EAAE;IAAAC,eAAA,OAAAH,YAAA;IAAA,KAF9DI,QAAQ;IAGd,IAAQC,IAAI,GAAyBH,OAAO,CAApCG,IAAI;MAAEC,KAAK,GAAkBJ,OAAO,CAA9BI,KAAK;MAAEC,IAAI,GAAYL,OAAO,CAAvBK,IAAI;MAAEC,KAAK,GAAKN,OAAO,CAAjBM,KAAK;IAEhC,IAAI,CAACJ,QAAQ,GAAGH,IAAI,CAACG,QAAQ,CAAC;MAC5BC,IAAI,EAAJA,IAAI;MACJC,KAAK,EAAEP,QAAQ,CAACO,KAAK,IAAIT,EAAE,CAACY,WAAW,CAAC;MACxCF,IAAI,EAAET,WAAW,CAACS,IAAI,IAAIV,EAAE,CAACa,aAAa,CAG9B;MACZF,KAAK,EAALA;IACF,CAAC,CAAC;EACJ;EAACG,YAAA,CAAAX,YAAA;IAAAY,GAAA;IAAAC,KAAA,EAED,SAAAC,IAAA,EAAa;MACX,OAAO,IAAI,CAACV,QAAQ;IACtB;EAAC;IAAAQ,GAAA;IAAAC,KAAA,EAED,SAAAE,QAAAC,IAAA,EAIG;MAAA,IAHDX,IAAI,GAAAW,IAAA,CAAJX,IAAI;MAIJ,IAAI,CAACD,QAAQ,CAACa,OAAO,CAACZ,IAAI,CAAC;IAC7B;EAAC;IAAAO,GAAA;IAAAC,KAAA,EAED,SAAAK,QAAA,EAAiB;MACf,IAAI,CAACd,QAAQ,CAACc,OAAO,EAAE;IACzB;EAAC;EAAA,OAAAlB,YAAA;AAAA;AAAA,SA/BkBA,YAAY,IAAAmB,OAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}