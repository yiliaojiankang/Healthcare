{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { __assign } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport { clone, isArray, isNumber, isObject, isString } from '@antv/util';\nimport Global from '../global';\nimport letterAspectRatio from './letterAspectRatio';\nimport { applyMatrix } from './math';\nvar PI = Math.PI,\n  sin = Math.sin,\n  cos = Math.cos;\n// 一共支持8个方向的自环，每个环占的角度是45度，在计算时再二分，为22.5度\nvar SELF_LINK_SIN = sin(PI / 8);\nvar SELF_LINK_COS = cos(PI / 8);\nexport var getBBox = function getBBox(element, group) {\n  var bbox = element.getBBox();\n  var leftTop = {\n    x: bbox.minX,\n    y: bbox.minY\n  };\n  var rightBottom = {\n    x: bbox.maxX,\n    y: bbox.maxY\n  };\n  // 根据父元素变换矩阵\n  if (group) {\n    var matrix = group.getMatrix();\n    if (!matrix) {\n      matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n    leftTop = applyMatrix(leftTop, matrix);\n    rightBottom = applyMatrix(rightBottom, matrix);\n  }\n  var lx = leftTop.x,\n    ly = leftTop.y;\n  var rx = rightBottom.x,\n    ry = rightBottom.y;\n  return {\n    x: lx,\n    y: ly,\n    minX: lx,\n    minY: ly,\n    maxX: rx,\n    maxY: ry,\n    width: rx - lx,\n    height: ry - ly\n  };\n};\n/**\n * get loop edge config\n * @param cfg edge config\n */\nexport var getLoopCfgs = function getLoopCfgs(cfg) {\n  var item = cfg.sourceNode || cfg.targetNode;\n  var container = item.get('group');\n  var containerMatrix = container.getMatrix();\n  if (!containerMatrix) containerMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  var keyShape = item.getKeyShape();\n  var bbox = keyShape.getBBox();\n  var loopCfg = cfg.loopCfg || {};\n  // 距离keyShape边的最高距离\n  var dist = loopCfg.dist || Math.max(bbox.width, bbox.height) * 2;\n  // 自环边与keyShape的相对位置关系\n  var position = loopCfg.position || Global.defaultLoopPosition;\n  // 中心取节点 keyShape bbox 的中心位置 + 节点位置坐标\n  var center = [(bbox.minX + bbox.maxX) / 2 + containerMatrix[6], (bbox.minY + bbox.maxY) / 2 + containerMatrix[7]];\n  var startPoint = [cfg.startPoint.x, cfg.startPoint.y];\n  var endPoint = [cfg.endPoint.x, cfg.endPoint.y];\n  var halfOfHeight = bbox.height / 2;\n  var halfOfWidth = bbox.width / 2;\n  var rstart = halfOfHeight;\n  var rend = halfOfHeight;\n  var sinDeltaStart = rstart * SELF_LINK_SIN;\n  var cosDeltaStart = rstart * SELF_LINK_COS;\n  var sinDeltaEnd = rend * SELF_LINK_SIN;\n  var cosDeltaEnd = rend * SELF_LINK_COS;\n  var shapeType = keyShape.get('type');\n  // 美观考虑，pointPadding 默认取宽高中最小的1/4\n  var defaultPointPadding = Math.min(halfOfHeight / 2, halfOfWidth / 2);\n  var maxPointPadding = Math.min(halfOfHeight, halfOfWidth);\n  // 对于非圆形节点设置的连接点与节点中心坐标（`top-right`，`bottom-right`,`top-left`,`bottom-left`较特殊，为四个角坐标）在 x 轴或 y 轴方向的偏移量，默认为  `节点宽高中最小值的1/4`\n  var pointPadding = (loopCfg === null || loopCfg === void 0 ? void 0 : loopCfg.pointPadding) ? Math.min(maxPointPadding, loopCfg === null || loopCfg === void 0 ? void 0 : loopCfg.pointPadding) : defaultPointPadding;\n  // 如果定义了锚点的，直接用锚点坐标，否则，根据自环的 cfg 计算\n  if (startPoint[0] === endPoint[0] && startPoint[1] === endPoint[1]) {\n    switch (position) {\n      case 'top':\n        if (shapeType === 'circle') {\n          startPoint = [center[0] - sinDeltaStart, center[1] - cosDeltaStart];\n          endPoint = [center[0] + sinDeltaEnd, center[1] - cosDeltaEnd];\n        } else {\n          startPoint = [center[0] - pointPadding, center[1] - halfOfHeight];\n          endPoint = [center[0] + pointPadding, center[1] - halfOfHeight];\n        }\n        break;\n      case 'top-right':\n        rstart = halfOfHeight;\n        rend = halfOfWidth;\n        if (shapeType === 'circle') {\n          sinDeltaStart = rstart * SELF_LINK_SIN;\n          cosDeltaStart = rstart * SELF_LINK_COS;\n          sinDeltaEnd = rend * SELF_LINK_SIN;\n          cosDeltaEnd = rend * SELF_LINK_COS;\n          startPoint = [center[0] + sinDeltaStart, center[1] - cosDeltaStart];\n          endPoint = [center[0] + cosDeltaEnd, center[1] - sinDeltaEnd];\n        } else {\n          startPoint = [center[0] + halfOfWidth - pointPadding, center[1] - halfOfHeight];\n          endPoint = [center[0] + halfOfWidth, center[1] - halfOfHeight + pointPadding];\n        }\n        break;\n      case 'right':\n        rstart = halfOfWidth;\n        rend = halfOfWidth;\n        if (shapeType === 'circle') {\n          sinDeltaStart = rstart * SELF_LINK_SIN;\n          cosDeltaStart = rstart * SELF_LINK_COS;\n          sinDeltaEnd = rend * SELF_LINK_SIN;\n          cosDeltaEnd = rend * SELF_LINK_COS;\n          startPoint = [center[0] + cosDeltaStart, center[1] - sinDeltaStart];\n          endPoint = [center[0] + cosDeltaEnd, center[1] + sinDeltaEnd];\n        } else {\n          startPoint = [center[0] + halfOfWidth, center[1] - pointPadding];\n          endPoint = [center[0] + halfOfWidth, center[1] + pointPadding];\n        }\n        break;\n      case 'bottom-right':\n        rstart = halfOfWidth;\n        rend = halfOfHeight;\n        if (shapeType === 'circle') {\n          sinDeltaStart = rstart * SELF_LINK_SIN;\n          cosDeltaStart = rstart * SELF_LINK_COS;\n          sinDeltaEnd = rend * SELF_LINK_SIN;\n          cosDeltaEnd = rend * SELF_LINK_COS;\n          startPoint = [center[0] + cosDeltaStart, center[1] + sinDeltaStart];\n          endPoint = [center[0] + sinDeltaEnd, center[1] + cosDeltaEnd];\n        } else {\n          startPoint = [center[0] + halfOfWidth, center[1] + halfOfHeight - pointPadding];\n          endPoint = [center[0] + halfOfWidth - pointPadding, center[1] + halfOfHeight];\n        }\n        break;\n      case 'bottom':\n        rstart = halfOfHeight;\n        rend = halfOfHeight;\n        if (shapeType === 'circle') {\n          sinDeltaStart = rstart * SELF_LINK_SIN;\n          cosDeltaStart = rstart * SELF_LINK_COS;\n          sinDeltaEnd = rend * SELF_LINK_SIN;\n          cosDeltaEnd = rend * SELF_LINK_COS;\n          startPoint = [center[0] + sinDeltaStart, center[1] + cosDeltaStart];\n          endPoint = [center[0] - sinDeltaEnd, center[1] + cosDeltaEnd];\n        } else {\n          startPoint = [center[0] - pointPadding, center[1] + halfOfHeight];\n          endPoint = [center[0] + pointPadding, center[1] + halfOfHeight];\n        }\n        break;\n      case 'bottom-left':\n        rstart = halfOfHeight;\n        rend = halfOfWidth;\n        if (shapeType === 'circle') {\n          sinDeltaStart = rstart * SELF_LINK_SIN;\n          cosDeltaStart = rstart * SELF_LINK_COS;\n          sinDeltaEnd = rend * SELF_LINK_SIN;\n          cosDeltaEnd = rend * SELF_LINK_COS;\n          startPoint = [center[0] - sinDeltaStart, center[1] + cosDeltaStart];\n          endPoint = [center[0] - cosDeltaEnd, center[1] + sinDeltaEnd];\n        } else {\n          startPoint = [center[0] - halfOfWidth, center[1] + halfOfHeight - pointPadding];\n          endPoint = [center[0] - halfOfWidth + pointPadding, center[1] + halfOfHeight];\n        }\n        break;\n      case 'left':\n        rstart = halfOfWidth;\n        rend = halfOfWidth;\n        if (shapeType === 'circle') {\n          sinDeltaStart = rstart * SELF_LINK_SIN;\n          cosDeltaStart = rstart * SELF_LINK_COS;\n          sinDeltaEnd = rend * SELF_LINK_SIN;\n          cosDeltaEnd = rend * SELF_LINK_COS;\n          startPoint = [center[0] - cosDeltaStart, center[1] + sinDeltaStart];\n          endPoint = [center[0] - cosDeltaEnd, center[1] - sinDeltaEnd];\n        } else {\n          startPoint = [center[0] - halfOfWidth, center[1] - pointPadding];\n          endPoint = [center[0] - halfOfWidth, center[1] + pointPadding];\n        }\n        break;\n      case 'top-left':\n        rstart = halfOfWidth;\n        rend = halfOfHeight;\n        if (shapeType === 'circle') {\n          sinDeltaStart = rstart * SELF_LINK_SIN;\n          cosDeltaStart = rstart * SELF_LINK_COS;\n          sinDeltaEnd = rend * SELF_LINK_SIN;\n          cosDeltaEnd = rend * SELF_LINK_COS;\n          startPoint = [center[0] - cosDeltaStart, center[1] - sinDeltaStart];\n          endPoint = [center[0] - sinDeltaEnd, center[1] - cosDeltaEnd];\n        } else {\n          startPoint = [center[0] - halfOfWidth + pointPadding, center[1] - halfOfHeight];\n          endPoint = [center[0] - halfOfWidth, center[1] - halfOfHeight + pointPadding];\n        }\n        break;\n      default:\n        rstart = halfOfWidth;\n        rend = halfOfWidth;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] - sinDeltaStart, center[1] - cosDeltaStart];\n        endPoint = [center[0] + sinDeltaEnd, center[1] - cosDeltaEnd];\n    }\n    // 如果逆时针画，交换起点和终点\n    if (loopCfg.clockwise === false) {\n      var swap = [startPoint[0], startPoint[1]];\n      startPoint = [endPoint[0], endPoint[1]];\n      endPoint = [swap[0], swap[1]];\n    }\n  }\n  var startVec = [startPoint[0] - center[0], startPoint[1] - center[1]];\n  var scaleRateStart = (rstart + dist) / rstart;\n  var scaleRateEnd = (rend + dist) / rend;\n  if (loopCfg.clockwise === false) {\n    scaleRateStart = (rend + dist) / rend;\n    scaleRateEnd = (rstart + dist) / rstart;\n  }\n  var startExtendVec = vec2.scale([0, 0], startVec, scaleRateStart);\n  var controlPoint1 = [center[0] + startExtendVec[0], center[1] + startExtendVec[1]];\n  var endVec = [endPoint[0] - center[0], endPoint[1] - center[1]];\n  var endExtendVec = vec2.scale([0, 0], endVec, scaleRateEnd);\n  var controlPoint2 = [center[0] + endExtendVec[0], center[1] + endExtendVec[1]];\n  cfg.startPoint = {\n    x: startPoint[0],\n    y: startPoint[1]\n  };\n  cfg.endPoint = {\n    x: endPoint[0],\n    y: endPoint[1]\n  };\n  cfg.controlPoints = [{\n    x: controlPoint1[0],\n    y: controlPoint1[1]\n  }, {\n    x: controlPoint2[0],\n    y: controlPoint2[1]\n  }];\n  return cfg;\n};\n/**\n * 根据 label 所在线条的位置百分比，计算 label 坐标\n * @param {object}  pathShape  G 的 path 实例，一般是 Edge 实例的 keyShape\n * @param {number}  percent    范围 0 - 1 的线条百分比\n * @param {number}  refX     x 轴正方向为基准的 label 偏移\n * @param {number}  refY     y 轴正方向为基准的 label 偏移\n * @param {boolean} rotate     是否根据线条斜率旋转文本\n * @return {object} 文本的 x, y, 文本的旋转角度\n */\nexport var getLabelPosition = function getLabelPosition(pathShape, percent, refX, refY, rotate) {\n  var TAN_OFFSET = 0.0001;\n  var vector = [];\n  var point = pathShape === null || pathShape === void 0 ? void 0 : pathShape.getPoint(percent);\n  if (!point) {\n    return {\n      x: 0,\n      y: 0,\n      angle: 0\n    };\n  }\n  // 头尾最可能，放在最前面，使用 g path 上封装的方法\n  if (percent < TAN_OFFSET) {\n    vector = pathShape.getStartTangent().reverse();\n  } else if (percent > 1 - TAN_OFFSET) {\n    vector = pathShape.getEndTangent();\n  } else {\n    // 否则取指定位置的点,与少量偏移的点，做微分向量\n    var offsetPoint = pathShape === null || pathShape === void 0 ? void 0 : pathShape.getPoint(percent + TAN_OFFSET);\n    vector.push([point.x, point.y]);\n    vector.push([offsetPoint.x, offsetPoint.y]);\n  }\n  var rad = Math.atan2(vector[1][1] - vector[0][1], vector[1][0] - vector[0][0]);\n  if (rad < 0) {\n    rad += PI * 2;\n  }\n  if (refX) {\n    point.x += cos(rad) * refX;\n    point.y += sin(rad) * refX;\n  }\n  if (refY) {\n    // 默认方向是 x 轴正方向，法线是 求出角度 - 90°\n    var normal = rad - PI / 2;\n    // 若法线角度在 y 轴负方向，切到正方向，保证 refY 相对于 y 轴正方向\n    if (rad > 1 / 2 * PI && rad < 3 * 1 / 2 * PI) {\n      normal -= PI;\n    }\n    point.x += cos(normal) * refY;\n    point.y += sin(normal) * refY;\n  }\n  var result = {\n    x: point.x,\n    y: point.y,\n    angle: rad\n  };\n  if (rotate) {\n    if (rad > 0.5 * PI && rad < 1.5 * PI) {\n      rad -= PI;\n    }\n    return __assign({\n      rotate: rad\n    }, result);\n  }\n  return result;\n};\n/**\n * depth first traverse, from root to leaves, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\nvar traverse = function traverse(data, parent, index, fn) {\n  if (fn(data, parent, index) === false) {\n    return false;\n  }\n  if (data && data.children) {\n    for (var i = data.children.length - 1; i >= 0; i--) {\n      if (!traverse(data.children[i], data, i, fn)) return false;\n    }\n  }\n  return true;\n};\n/**\n * depth first traverse, from leaves to root, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\nvar traverseUp = function traverseUp(data, parent, index, fn) {\n  if (data && data.children) {\n    for (var i = data.children.length - 1; i >= 0; i--) {\n      if (!traverseUp(data.children[i], data, i, fn)) return;\n    }\n  }\n  if (fn(data, parent, index) === false) {\n    return false;\n  }\n  return true;\n};\n/**\n * depth first traverse, from root to leaves, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\nexport var traverseTree = function traverseTree(data, fn) {\n  if (typeof fn !== 'function') {\n    return;\n  }\n  traverse(data, null, -1, fn);\n};\n/**\n * depth first traverse, from leaves to root, children in inverse order\n * if the fn returns false, terminate the traverse\n */\nexport var traverseTreeUp = function traverseTreeUp(data, fn) {\n  if (typeof fn !== 'function') {\n    return;\n  }\n  traverseUp(data, null, -1, fn);\n};\n/**\n *\n * @param letter the letter\n * @param fontSize\n * @return the letter's width\n */\nexport var getLetterWidth = function getLetterWidth(letter, fontSize) {\n  return fontSize * (letterAspectRatio[letter] || 1);\n};\n/**\n *\n * @param text the text\n * @param fontSize\n * @return the text's size\n */\nexport var getTextSize = function getTextSize(text, fontSize) {\n  var width = 0;\n  var pattern = new RegExp(\"[\\u4E00-\\u9FA5]+\");\n  text.split('').forEach(function (letter) {\n    if (pattern.test(letter)) {\n      // 中文字符\n      width += fontSize;\n    } else {\n      width += getLetterWidth(letter, fontSize);\n    }\n  });\n  return [width, fontSize];\n};\nexport var truncateLabelByLength = function truncateLabelByLength(text, length) {\n  if (typeof length !== 'number' || length <= 0 || length >= text.length) {\n    return text;\n  }\n  return text.substring(0, length) + '...';\n};\n/**\n * construct the trees from combos data\n * @param array the combos array\n * @param nodes the nodes array\n * @return the tree\n */\nexport var plainCombosToTrees = function plainCombosToTrees(array, nodes) {\n  var result = [];\n  var addedMap = {};\n  var modelMap = {};\n  array.forEach(function (d) {\n    modelMap[d.id] = d;\n  });\n  array.forEach(function (d, i) {\n    var cd = clone(d);\n    cd.itemType = 'combo';\n    cd.children = undefined;\n    if (cd.parentId === cd.id) {\n      console.warn(\"The parentId for combo \".concat(cd.id, \" can not be the same as the combo's id\"));\n      delete cd.parentId;\n    } else if (cd.parentId && !modelMap[cd.parentId]) {\n      console.warn(\"The parent combo for combo \".concat(cd.id, \" does not exist!\"));\n      delete cd.parentId;\n    }\n    var mappedObj = addedMap[cd.id];\n    if (mappedObj) {\n      cd.children = mappedObj.children;\n      addedMap[cd.id] = cd;\n      mappedObj = cd;\n      if (!mappedObj.parentId) {\n        result.push(mappedObj);\n        return;\n      }\n      var mappedParent = addedMap[mappedObj.parentId];\n      if (mappedParent) {\n        if (mappedParent.children) mappedParent.children.push(cd);else mappedParent.children = [cd];\n      } else {\n        var parent_1 = {\n          id: mappedObj.parentId,\n          children: [mappedObj]\n        };\n        addedMap[mappedObj.parentId] = parent_1;\n        addedMap[cd.id] = cd;\n      }\n      return;\n    }\n    if (isString(d.parentId)) {\n      var parent_2 = addedMap[d.parentId];\n      if (parent_2) {\n        if (parent_2.children) parent_2.children.push(cd);else parent_2.children = [cd];\n        addedMap[cd.id] = cd;\n      } else {\n        var pa = {\n          id: d.parentId,\n          children: [cd]\n        };\n        addedMap[pa.id] = pa;\n        addedMap[cd.id] = cd;\n      }\n    } else {\n      result.push(cd);\n      addedMap[cd.id] = cd;\n    }\n  });\n  // proccess the nodes\n  var nodeMap = {};\n  (nodes || []).forEach(function (node) {\n    nodeMap[node.id] = node;\n    var combo = addedMap[node.comboId];\n    if (combo) {\n      var cnode = {\n        id: node.id,\n        comboId: node.comboId\n      };\n      if (combo.children) combo.children.push(cnode);else combo.children = [cnode];\n      cnode.itemType = 'node';\n      addedMap[node.id] = cnode;\n    }\n  });\n  // assign the depth for each element\n  var maxDepth = 0;\n  result.forEach(function (tree) {\n    tree.depth = maxDepth + 10;\n    traverseTree(tree, function (child) {\n      var parent;\n      var itemType = addedMap[child.id].itemType;\n      if (itemType === 'node') {\n        parent = addedMap[child.comboId];\n      } else {\n        parent = addedMap[child.parentId];\n      }\n      if (parent) {\n        if (itemType === 'node') child.depth = maxDepth + 1;else child.depth = maxDepth + 10;\n      } else {\n        child.depth = maxDepth + 10;\n      }\n      if (maxDepth < child.depth) maxDepth = child.depth;\n      var oriNodeModel = nodeMap[child.id];\n      if (oriNodeModel) {\n        oriNodeModel.depth = child.depth;\n      }\n      return true;\n    });\n  });\n  return result;\n};\nexport var reconstructTree = function reconstructTree(trees, subtreeId, newParentId) {\n  var _a;\n  var brothers = trees;\n  var subtree;\n  var comboChildsMap = {\n    root: {\n      children: trees\n    }\n  };\n  var foundSubTree = false;\n  var oldParentId = 'root';\n  (trees || []).forEach(function (tree) {\n    if (foundSubTree) return;\n    if (tree.id === subtreeId) {\n      subtree = tree;\n      if (tree.itemType === 'combo') {\n        subtree.parentId = newParentId;\n      } else {\n        subtree.comboId = newParentId;\n      }\n      foundSubTree = true;\n      return;\n    }\n    traverseTree(tree, function (child) {\n      var _a;\n      comboChildsMap[child.id] = {\n        children: (child === null || child === void 0 ? void 0 : child.children) || []\n      };\n      // store the old parent id to delete the subtree from the old parent's children in next recursion\n      brothers = (_a = comboChildsMap[child.parentId || child.comboId || 'root']) === null || _a === void 0 ? void 0 : _a.children;\n      if (child && (child.removed || subtreeId === child.id) && brothers) {\n        oldParentId = child.parentId || child.comboId || 'root';\n        subtree = child;\n        // re-assign the parentId or comboId for the moved subtree\n        if (child.itemType === 'combo') {\n          subtree.parentId = newParentId;\n        } else {\n          subtree.comboId = newParentId;\n        }\n        foundSubTree = true;\n        return false;\n      }\n      return true;\n    });\n  });\n  brothers = (_a = comboChildsMap[oldParentId]) === null || _a === void 0 ? void 0 : _a.children;\n  var index = brothers ? brothers.indexOf(subtree) : -1;\n  if (index > -1) brothers.splice(index, 1);\n  // 如果遍历完整棵树还没有找到，说明之前就不在树中\n  if (!foundSubTree) {\n    subtree = {\n      id: subtreeId,\n      itemType: 'node',\n      comboId: newParentId\n    };\n    comboChildsMap[subtreeId] = {\n      children: undefined\n    };\n  }\n  // append to new parent\n  if (subtreeId) {\n    var found_1 = false;\n    // newParentId is undefined means the subtree will have no parent\n    if (newParentId) {\n      var newParentDepth_1 = 0;\n      (trees || []).forEach(function (tree) {\n        if (found_1) return; // terminate\n        traverseTree(tree, function (child) {\n          // append subtree to the new parent ans assign the depth to the subtree\n          if (newParentId === child.id) {\n            found_1 = true;\n            if (child.children) child.children.push(subtree);else child.children = [subtree];\n            newParentDepth_1 = child.depth;\n            if (subtree.itemType === 'node') subtree.depth = newParentDepth_1 + 2;else subtree.depth = newParentDepth_1 + 1;\n            return false; // terminate\n          }\n\n          return true;\n        });\n      });\n    } else if ((!newParentId || !found_1) && subtree.itemType !== 'node') {\n      // if the newParentId is undefined or it is not found in the tree, add the subTree to the root\n      trees.push(subtree);\n    }\n    // update the depth of the subtree and its children from the subtree\n    var currentDepth_1 = subtree.depth;\n    traverseTree(subtree, function (child) {\n      if (child.itemType === 'node') currentDepth_1 += 2;else currentDepth_1 += 1;\n      child.depth = currentDepth_1;\n      return true;\n    });\n  }\n  return trees;\n};\nexport var getComboBBox = function getComboBBox(children, graph, combo) {\n  var comboBBox = {\n    minX: Infinity,\n    minY: Infinity,\n    maxX: -Infinity,\n    maxY: -Infinity,\n    x: undefined,\n    y: undefined,\n    width: undefined,\n    height: undefined,\n    centerX: undefined,\n    centerY: undefined\n  };\n  if (!children || children.length === 0) {\n    var comboModel = combo === null || combo === void 0 ? void 0 : combo.getModel();\n    var _a = comboModel || {},\n      x = _a.x,\n      y = _a.y,\n      fixSize = _a.fixSize,\n      collapsed = _a.collapsed,\n      fixCollapseSize = _a.fixCollapseSize;\n    var useFixSize = collapsed ? fixCollapseSize : fixSize;\n    var _b = isArray(useFixSize) ? useFixSize : [useFixSize, useFixSize],\n      width = _b[0],\n      height = _b[1];\n    var halfSize = [width / 2, height / 2];\n    return {\n      minX: x - halfSize[0],\n      minY: y - halfSize[1],\n      maxX: x + halfSize[0],\n      maxY: y + halfSize[1],\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    };\n  }\n  children.forEach(function (child) {\n    var childItem = graph.findById(child.id);\n    if (!childItem || !childItem.isVisible()) return; // ignore hidden children\n    childItem.set('bboxCanvasCache', undefined);\n    var childBBox = childItem.getCanvasBBox();\n    if (childBBox.x && comboBBox.minX > childBBox.minX) comboBBox.minX = childBBox.minX;\n    if (childBBox.y && comboBBox.minY > childBBox.minY) comboBBox.minY = childBBox.minY;\n    if (childBBox.x && comboBBox.maxX < childBBox.maxX) comboBBox.maxX = childBBox.maxX;\n    if (childBBox.y && comboBBox.maxY < childBBox.maxY) comboBBox.maxY = childBBox.maxY;\n  });\n  comboBBox.x = (comboBBox.minX + comboBBox.maxX) / 2;\n  comboBBox.y = (comboBBox.minY + comboBBox.maxY) / 2;\n  comboBBox.width = comboBBox.maxX - comboBBox.minX;\n  comboBBox.height = comboBBox.maxY - comboBBox.minY;\n  comboBBox.centerX = (comboBBox.minX + comboBBox.maxX) / 2;\n  comboBBox.centerY = (comboBBox.minY + comboBBox.maxY) / 2;\n  // if it is a circle combo, diagnal length of the children's bbox should be the diameter of the combo's bbox\n  if ((combo === null || combo === void 0 ? void 0 : combo.getKeyShape().get('type')) === 'circle') {\n    comboBBox.width = Math.hypot(comboBBox.height, comboBBox.width);\n    comboBBox.height = comboBBox.width;\n  }\n  Object.keys(comboBBox).forEach(function (key) {\n    if (comboBBox[key] === Infinity || comboBBox[key] === -Infinity) {\n      comboBBox[key] = undefined;\n    }\n  });\n  return comboBBox;\n};\nexport var shouldRefreshEdge = function shouldRefreshEdge(cfg) {\n  var refreshEdge = isNumber(cfg.x) || isNumber(cfg.y) || cfg.type || cfg.anchorPoints || cfg.size;\n  if (cfg.style) refreshEdge = refreshEdge || isNumber(cfg.style.r) || isNumber(cfg.style.width) || isNumber(cfg.style.height) || isNumber(cfg.style.rx) || isNumber(cfg.style.ry);\n  return refreshEdge;\n};\nexport var cloneBesidesImg = function cloneBesidesImg(obj) {\n  var clonedObj = {};\n  Object.keys(obj).forEach(function (key1) {\n    var obj2 = obj[key1];\n    if (key1 === 'img' && !isString(obj2)) return;\n    if (isObject(obj2) && !isArray(obj2)) {\n      var clonedObj2_1 = {};\n      Object.keys(obj2).forEach(function (key2) {\n        var v = obj2[key2];\n        if (key2 === 'img' && !isString(v)) return;\n        clonedObj2_1[key2] = clone(v);\n      });\n      clonedObj[key1] = clonedObj2_1;\n    } else {\n      clonedObj[key1] = clone(obj2);\n    }\n  });\n  return clonedObj;\n};\nexport var getAnimateCfgWithCallback = function getAnimateCfgWithCallback(_a) {\n  var animateCfg = _a.animateCfg,\n    callback = _a.callback;\n  var animateConfig;\n  if (!animateCfg) {\n    animateConfig = {\n      duration: 500,\n      callback: callback\n    };\n  } else {\n    animateConfig = clone(animateCfg);\n    if (animateCfg.callback) {\n      var animateCfgCallback_1 = animateCfg.callback;\n      animateConfig.callback = function () {\n        callback();\n        animateCfgCallback_1();\n      };\n    } else {\n      animateConfig.callback = callback;\n    }\n  }\n  return animateConfig;\n};","map":{"version":3,"names":["__assign","vec2","clone","isArray","isNumber","isObject","isString","Global","letterAspectRatio","applyMatrix","PI","Math","sin","cos","SELF_LINK_SIN","SELF_LINK_COS","getBBox","element","group","bbox","leftTop","x","minX","y","minY","rightBottom","maxX","maxY","matrix","getMatrix","lx","ly","rx","ry","width","height","getLoopCfgs","cfg","item","sourceNode","targetNode","container","get","containerMatrix","keyShape","getKeyShape","loopCfg","dist","max","position","defaultLoopPosition","center","startPoint","endPoint","halfOfHeight","halfOfWidth","rstart","rend","sinDeltaStart","cosDeltaStart","sinDeltaEnd","cosDeltaEnd","shapeType","defaultPointPadding","min","maxPointPadding","pointPadding","clockwise","swap","startVec","scaleRateStart","scaleRateEnd","startExtendVec","scale","controlPoint1","endVec","endExtendVec","controlPoint2","controlPoints","getLabelPosition","pathShape","percent","refX","refY","rotate","TAN_OFFSET","vector","point","getPoint","angle","getStartTangent","reverse","getEndTangent","offsetPoint","push","rad","atan2","normal","result","traverse","data","parent","index","fn","children","i","length","traverseUp","traverseTree","traverseTreeUp","getLetterWidth","letter","fontSize","getTextSize","text","pattern","RegExp","split","forEach","test","truncateLabelByLength","substring","plainCombosToTrees","array","nodes","addedMap","modelMap","d","id","cd","itemType","undefined","parentId","console","warn","concat","mappedObj","mappedParent","parent_1","parent_2","pa","nodeMap","node","combo","comboId","cnode","maxDepth","tree","depth","child","oriNodeModel","reconstructTree","trees","subtreeId","newParentId","_a","brothers","subtree","comboChildsMap","root","foundSubTree","oldParentId","removed","indexOf","splice","found_1","newParentDepth_1","currentDepth_1","getComboBBox","graph","comboBBox","Infinity","centerX","centerY","comboModel","getModel","fixSize","collapsed","fixCollapseSize","useFixSize","_b","halfSize","childItem","findById","isVisible","set","childBBox","getCanvasBBox","hypot","Object","keys","key","shouldRefreshEdge","refreshEdge","type","anchorPoints","size","style","r","cloneBesidesImg","obj","clonedObj","key1","obj2","clonedObj2_1","key2","v","getAnimateCfgWithCallback","animateCfg","callback","animateConfig","duration","animateCfgCallback_1"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/g6-core/es/util/graphic.js"],"sourcesContent":["import { __assign } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport { clone, isArray, isNumber, isObject, isString } from '@antv/util';\nimport Global from '../global';\nimport letterAspectRatio from './letterAspectRatio';\nimport { applyMatrix } from './math';\nvar PI = Math.PI,\n  sin = Math.sin,\n  cos = Math.cos;\n// 一共支持8个方向的自环，每个环占的角度是45度，在计算时再二分，为22.5度\nvar SELF_LINK_SIN = sin(PI / 8);\nvar SELF_LINK_COS = cos(PI / 8);\nexport var getBBox = function getBBox(element, group) {\n  var bbox = element.getBBox();\n  var leftTop = {\n    x: bbox.minX,\n    y: bbox.minY\n  };\n  var rightBottom = {\n    x: bbox.maxX,\n    y: bbox.maxY\n  };\n  // 根据父元素变换矩阵\n  if (group) {\n    var matrix = group.getMatrix();\n    if (!matrix) {\n      matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n    leftTop = applyMatrix(leftTop, matrix);\n    rightBottom = applyMatrix(rightBottom, matrix);\n  }\n  var lx = leftTop.x,\n    ly = leftTop.y;\n  var rx = rightBottom.x,\n    ry = rightBottom.y;\n  return {\n    x: lx,\n    y: ly,\n    minX: lx,\n    minY: ly,\n    maxX: rx,\n    maxY: ry,\n    width: rx - lx,\n    height: ry - ly\n  };\n};\n/**\n * get loop edge config\n * @param cfg edge config\n */\nexport var getLoopCfgs = function getLoopCfgs(cfg) {\n  var item = cfg.sourceNode || cfg.targetNode;\n  var container = item.get('group');\n  var containerMatrix = container.getMatrix();\n  if (!containerMatrix) containerMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  var keyShape = item.getKeyShape();\n  var bbox = keyShape.getBBox();\n  var loopCfg = cfg.loopCfg || {};\n  // 距离keyShape边的最高距离\n  var dist = loopCfg.dist || Math.max(bbox.width, bbox.height) * 2;\n  // 自环边与keyShape的相对位置关系\n  var position = loopCfg.position || Global.defaultLoopPosition;\n  // 中心取节点 keyShape bbox 的中心位置 + 节点位置坐标\n  var center = [(bbox.minX + bbox.maxX) / 2 + containerMatrix[6], (bbox.minY + bbox.maxY) / 2 + containerMatrix[7]];\n  var startPoint = [cfg.startPoint.x, cfg.startPoint.y];\n  var endPoint = [cfg.endPoint.x, cfg.endPoint.y];\n  var halfOfHeight = bbox.height / 2;\n  var halfOfWidth = bbox.width / 2;\n  var rstart = halfOfHeight;\n  var rend = halfOfHeight;\n  var sinDeltaStart = rstart * SELF_LINK_SIN;\n  var cosDeltaStart = rstart * SELF_LINK_COS;\n  var sinDeltaEnd = rend * SELF_LINK_SIN;\n  var cosDeltaEnd = rend * SELF_LINK_COS;\n  var shapeType = keyShape.get('type');\n  // 美观考虑，pointPadding 默认取宽高中最小的1/4\n  var defaultPointPadding = Math.min(halfOfHeight / 2, halfOfWidth / 2);\n  var maxPointPadding = Math.min(halfOfHeight, halfOfWidth);\n  // 对于非圆形节点设置的连接点与节点中心坐标（`top-right`，`bottom-right`,`top-left`,`bottom-left`较特殊，为四个角坐标）在 x 轴或 y 轴方向的偏移量，默认为  `节点宽高中最小值的1/4`\n  var pointPadding = (loopCfg === null || loopCfg === void 0 ? void 0 : loopCfg.pointPadding) ? Math.min(maxPointPadding, loopCfg === null || loopCfg === void 0 ? void 0 : loopCfg.pointPadding) : defaultPointPadding;\n  // 如果定义了锚点的，直接用锚点坐标，否则，根据自环的 cfg 计算\n  if (startPoint[0] === endPoint[0] && startPoint[1] === endPoint[1]) {\n    switch (position) {\n      case 'top':\n        if (shapeType === 'circle') {\n          startPoint = [center[0] - sinDeltaStart, center[1] - cosDeltaStart];\n          endPoint = [center[0] + sinDeltaEnd, center[1] - cosDeltaEnd];\n        } else {\n          startPoint = [center[0] - pointPadding, center[1] - halfOfHeight];\n          endPoint = [center[0] + pointPadding, center[1] - halfOfHeight];\n        }\n        break;\n      case 'top-right':\n        rstart = halfOfHeight;\n        rend = halfOfWidth;\n        if (shapeType === 'circle') {\n          sinDeltaStart = rstart * SELF_LINK_SIN;\n          cosDeltaStart = rstart * SELF_LINK_COS;\n          sinDeltaEnd = rend * SELF_LINK_SIN;\n          cosDeltaEnd = rend * SELF_LINK_COS;\n          startPoint = [center[0] + sinDeltaStart, center[1] - cosDeltaStart];\n          endPoint = [center[0] + cosDeltaEnd, center[1] - sinDeltaEnd];\n        } else {\n          startPoint = [center[0] + halfOfWidth - pointPadding, center[1] - halfOfHeight];\n          endPoint = [center[0] + halfOfWidth, center[1] - halfOfHeight + pointPadding];\n        }\n        break;\n      case 'right':\n        rstart = halfOfWidth;\n        rend = halfOfWidth;\n        if (shapeType === 'circle') {\n          sinDeltaStart = rstart * SELF_LINK_SIN;\n          cosDeltaStart = rstart * SELF_LINK_COS;\n          sinDeltaEnd = rend * SELF_LINK_SIN;\n          cosDeltaEnd = rend * SELF_LINK_COS;\n          startPoint = [center[0] + cosDeltaStart, center[1] - sinDeltaStart];\n          endPoint = [center[0] + cosDeltaEnd, center[1] + sinDeltaEnd];\n        } else {\n          startPoint = [center[0] + halfOfWidth, center[1] - pointPadding];\n          endPoint = [center[0] + halfOfWidth, center[1] + pointPadding];\n        }\n        break;\n      case 'bottom-right':\n        rstart = halfOfWidth;\n        rend = halfOfHeight;\n        if (shapeType === 'circle') {\n          sinDeltaStart = rstart * SELF_LINK_SIN;\n          cosDeltaStart = rstart * SELF_LINK_COS;\n          sinDeltaEnd = rend * SELF_LINK_SIN;\n          cosDeltaEnd = rend * SELF_LINK_COS;\n          startPoint = [center[0] + cosDeltaStart, center[1] + sinDeltaStart];\n          endPoint = [center[0] + sinDeltaEnd, center[1] + cosDeltaEnd];\n        } else {\n          startPoint = [center[0] + halfOfWidth, center[1] + halfOfHeight - pointPadding];\n          endPoint = [center[0] + halfOfWidth - pointPadding, center[1] + halfOfHeight];\n        }\n        break;\n      case 'bottom':\n        rstart = halfOfHeight;\n        rend = halfOfHeight;\n        if (shapeType === 'circle') {\n          sinDeltaStart = rstart * SELF_LINK_SIN;\n          cosDeltaStart = rstart * SELF_LINK_COS;\n          sinDeltaEnd = rend * SELF_LINK_SIN;\n          cosDeltaEnd = rend * SELF_LINK_COS;\n          startPoint = [center[0] + sinDeltaStart, center[1] + cosDeltaStart];\n          endPoint = [center[0] - sinDeltaEnd, center[1] + cosDeltaEnd];\n        } else {\n          startPoint = [center[0] - pointPadding, center[1] + halfOfHeight];\n          endPoint = [center[0] + pointPadding, center[1] + halfOfHeight];\n        }\n        break;\n      case 'bottom-left':\n        rstart = halfOfHeight;\n        rend = halfOfWidth;\n        if (shapeType === 'circle') {\n          sinDeltaStart = rstart * SELF_LINK_SIN;\n          cosDeltaStart = rstart * SELF_LINK_COS;\n          sinDeltaEnd = rend * SELF_LINK_SIN;\n          cosDeltaEnd = rend * SELF_LINK_COS;\n          startPoint = [center[0] - sinDeltaStart, center[1] + cosDeltaStart];\n          endPoint = [center[0] - cosDeltaEnd, center[1] + sinDeltaEnd];\n        } else {\n          startPoint = [center[0] - halfOfWidth, center[1] + halfOfHeight - pointPadding];\n          endPoint = [center[0] - halfOfWidth + pointPadding, center[1] + halfOfHeight];\n        }\n        break;\n      case 'left':\n        rstart = halfOfWidth;\n        rend = halfOfWidth;\n        if (shapeType === 'circle') {\n          sinDeltaStart = rstart * SELF_LINK_SIN;\n          cosDeltaStart = rstart * SELF_LINK_COS;\n          sinDeltaEnd = rend * SELF_LINK_SIN;\n          cosDeltaEnd = rend * SELF_LINK_COS;\n          startPoint = [center[0] - cosDeltaStart, center[1] + sinDeltaStart];\n          endPoint = [center[0] - cosDeltaEnd, center[1] - sinDeltaEnd];\n        } else {\n          startPoint = [center[0] - halfOfWidth, center[1] - pointPadding];\n          endPoint = [center[0] - halfOfWidth, center[1] + pointPadding];\n        }\n        break;\n      case 'top-left':\n        rstart = halfOfWidth;\n        rend = halfOfHeight;\n        if (shapeType === 'circle') {\n          sinDeltaStart = rstart * SELF_LINK_SIN;\n          cosDeltaStart = rstart * SELF_LINK_COS;\n          sinDeltaEnd = rend * SELF_LINK_SIN;\n          cosDeltaEnd = rend * SELF_LINK_COS;\n          startPoint = [center[0] - cosDeltaStart, center[1] - sinDeltaStart];\n          endPoint = [center[0] - sinDeltaEnd, center[1] - cosDeltaEnd];\n        } else {\n          startPoint = [center[0] - halfOfWidth + pointPadding, center[1] - halfOfHeight];\n          endPoint = [center[0] - halfOfWidth, center[1] - halfOfHeight + pointPadding];\n        }\n        break;\n      default:\n        rstart = halfOfWidth;\n        rend = halfOfWidth;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] - sinDeltaStart, center[1] - cosDeltaStart];\n        endPoint = [center[0] + sinDeltaEnd, center[1] - cosDeltaEnd];\n    }\n    // 如果逆时针画，交换起点和终点\n    if (loopCfg.clockwise === false) {\n      var swap = [startPoint[0], startPoint[1]];\n      startPoint = [endPoint[0], endPoint[1]];\n      endPoint = [swap[0], swap[1]];\n    }\n  }\n  var startVec = [startPoint[0] - center[0], startPoint[1] - center[1]];\n  var scaleRateStart = (rstart + dist) / rstart;\n  var scaleRateEnd = (rend + dist) / rend;\n  if (loopCfg.clockwise === false) {\n    scaleRateStart = (rend + dist) / rend;\n    scaleRateEnd = (rstart + dist) / rstart;\n  }\n  var startExtendVec = vec2.scale([0, 0], startVec, scaleRateStart);\n  var controlPoint1 = [center[0] + startExtendVec[0], center[1] + startExtendVec[1]];\n  var endVec = [endPoint[0] - center[0], endPoint[1] - center[1]];\n  var endExtendVec = vec2.scale([0, 0], endVec, scaleRateEnd);\n  var controlPoint2 = [center[0] + endExtendVec[0], center[1] + endExtendVec[1]];\n  cfg.startPoint = {\n    x: startPoint[0],\n    y: startPoint[1]\n  };\n  cfg.endPoint = {\n    x: endPoint[0],\n    y: endPoint[1]\n  };\n  cfg.controlPoints = [{\n    x: controlPoint1[0],\n    y: controlPoint1[1]\n  }, {\n    x: controlPoint2[0],\n    y: controlPoint2[1]\n  }];\n  return cfg;\n};\n/**\n * 根据 label 所在线条的位置百分比，计算 label 坐标\n * @param {object}  pathShape  G 的 path 实例，一般是 Edge 实例的 keyShape\n * @param {number}  percent    范围 0 - 1 的线条百分比\n * @param {number}  refX     x 轴正方向为基准的 label 偏移\n * @param {number}  refY     y 轴正方向为基准的 label 偏移\n * @param {boolean} rotate     是否根据线条斜率旋转文本\n * @return {object} 文本的 x, y, 文本的旋转角度\n */\nexport var getLabelPosition = function getLabelPosition(pathShape, percent, refX, refY, rotate) {\n  var TAN_OFFSET = 0.0001;\n  var vector = [];\n  var point = pathShape === null || pathShape === void 0 ? void 0 : pathShape.getPoint(percent);\n  if (!point) {\n    return {\n      x: 0,\n      y: 0,\n      angle: 0\n    };\n  }\n  // 头尾最可能，放在最前面，使用 g path 上封装的方法\n  if (percent < TAN_OFFSET) {\n    vector = pathShape.getStartTangent().reverse();\n  } else if (percent > 1 - TAN_OFFSET) {\n    vector = pathShape.getEndTangent();\n  } else {\n    // 否则取指定位置的点,与少量偏移的点，做微分向量\n    var offsetPoint = pathShape === null || pathShape === void 0 ? void 0 : pathShape.getPoint(percent + TAN_OFFSET);\n    vector.push([point.x, point.y]);\n    vector.push([offsetPoint.x, offsetPoint.y]);\n  }\n  var rad = Math.atan2(vector[1][1] - vector[0][1], vector[1][0] - vector[0][0]);\n  if (rad < 0) {\n    rad += PI * 2;\n  }\n  if (refX) {\n    point.x += cos(rad) * refX;\n    point.y += sin(rad) * refX;\n  }\n  if (refY) {\n    // 默认方向是 x 轴正方向，法线是 求出角度 - 90°\n    var normal = rad - PI / 2;\n    // 若法线角度在 y 轴负方向，切到正方向，保证 refY 相对于 y 轴正方向\n    if (rad > 1 / 2 * PI && rad < 3 * 1 / 2 * PI) {\n      normal -= PI;\n    }\n    point.x += cos(normal) * refY;\n    point.y += sin(normal) * refY;\n  }\n  var result = {\n    x: point.x,\n    y: point.y,\n    angle: rad\n  };\n  if (rotate) {\n    if (rad > 0.5 * PI && rad < 1.5 * PI) {\n      rad -= PI;\n    }\n    return __assign({\n      rotate: rad\n    }, result);\n  }\n  return result;\n};\n/**\n * depth first traverse, from root to leaves, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\nvar traverse = function traverse(data, parent, index, fn) {\n  if (fn(data, parent, index) === false) {\n    return false;\n  }\n  if (data && data.children) {\n    for (var i = data.children.length - 1; i >= 0; i--) {\n      if (!traverse(data.children[i], data, i, fn)) return false;\n    }\n  }\n  return true;\n};\n/**\n * depth first traverse, from leaves to root, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\nvar traverseUp = function traverseUp(data, parent, index, fn) {\n  if (data && data.children) {\n    for (var i = data.children.length - 1; i >= 0; i--) {\n      if (!traverseUp(data.children[i], data, i, fn)) return;\n    }\n  }\n  if (fn(data, parent, index) === false) {\n    return false;\n  }\n  return true;\n};\n/**\n * depth first traverse, from root to leaves, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\nexport var traverseTree = function traverseTree(data, fn) {\n  if (typeof fn !== 'function') {\n    return;\n  }\n  traverse(data, null, -1, fn);\n};\n/**\n * depth first traverse, from leaves to root, children in inverse order\n * if the fn returns false, terminate the traverse\n */\nexport var traverseTreeUp = function traverseTreeUp(data, fn) {\n  if (typeof fn !== 'function') {\n    return;\n  }\n  traverseUp(data, null, -1, fn);\n};\n/**\n *\n * @param letter the letter\n * @param fontSize\n * @return the letter's width\n */\nexport var getLetterWidth = function getLetterWidth(letter, fontSize) {\n  return fontSize * (letterAspectRatio[letter] || 1);\n};\n/**\n *\n * @param text the text\n * @param fontSize\n * @return the text's size\n */\nexport var getTextSize = function getTextSize(text, fontSize) {\n  var width = 0;\n  var pattern = new RegExp(\"[\\u4E00-\\u9FA5]+\");\n  text.split('').forEach(function (letter) {\n    if (pattern.test(letter)) {\n      // 中文字符\n      width += fontSize;\n    } else {\n      width += getLetterWidth(letter, fontSize);\n    }\n  });\n  return [width, fontSize];\n};\nexport var truncateLabelByLength = function truncateLabelByLength(text, length) {\n  if (typeof length !== 'number' || length <= 0 || length >= text.length) {\n    return text;\n  }\n  return text.substring(0, length) + '...';\n};\n/**\n * construct the trees from combos data\n * @param array the combos array\n * @param nodes the nodes array\n * @return the tree\n */\nexport var plainCombosToTrees = function plainCombosToTrees(array, nodes) {\n  var result = [];\n  var addedMap = {};\n  var modelMap = {};\n  array.forEach(function (d) {\n    modelMap[d.id] = d;\n  });\n  array.forEach(function (d, i) {\n    var cd = clone(d);\n    cd.itemType = 'combo';\n    cd.children = undefined;\n    if (cd.parentId === cd.id) {\n      console.warn(\"The parentId for combo \".concat(cd.id, \" can not be the same as the combo's id\"));\n      delete cd.parentId;\n    } else if (cd.parentId && !modelMap[cd.parentId]) {\n      console.warn(\"The parent combo for combo \".concat(cd.id, \" does not exist!\"));\n      delete cd.parentId;\n    }\n    var mappedObj = addedMap[cd.id];\n    if (mappedObj) {\n      cd.children = mappedObj.children;\n      addedMap[cd.id] = cd;\n      mappedObj = cd;\n      if (!mappedObj.parentId) {\n        result.push(mappedObj);\n        return;\n      }\n      var mappedParent = addedMap[mappedObj.parentId];\n      if (mappedParent) {\n        if (mappedParent.children) mappedParent.children.push(cd);else mappedParent.children = [cd];\n      } else {\n        var parent_1 = {\n          id: mappedObj.parentId,\n          children: [mappedObj]\n        };\n        addedMap[mappedObj.parentId] = parent_1;\n        addedMap[cd.id] = cd;\n      }\n      return;\n    }\n    if (isString(d.parentId)) {\n      var parent_2 = addedMap[d.parentId];\n      if (parent_2) {\n        if (parent_2.children) parent_2.children.push(cd);else parent_2.children = [cd];\n        addedMap[cd.id] = cd;\n      } else {\n        var pa = {\n          id: d.parentId,\n          children: [cd]\n        };\n        addedMap[pa.id] = pa;\n        addedMap[cd.id] = cd;\n      }\n    } else {\n      result.push(cd);\n      addedMap[cd.id] = cd;\n    }\n  });\n  // proccess the nodes\n  var nodeMap = {};\n  (nodes || []).forEach(function (node) {\n    nodeMap[node.id] = node;\n    var combo = addedMap[node.comboId];\n    if (combo) {\n      var cnode = {\n        id: node.id,\n        comboId: node.comboId\n      };\n      if (combo.children) combo.children.push(cnode);else combo.children = [cnode];\n      cnode.itemType = 'node';\n      addedMap[node.id] = cnode;\n    }\n  });\n  // assign the depth for each element\n  var maxDepth = 0;\n  result.forEach(function (tree) {\n    tree.depth = maxDepth + 10;\n    traverseTree(tree, function (child) {\n      var parent;\n      var itemType = addedMap[child.id].itemType;\n      if (itemType === 'node') {\n        parent = addedMap[child.comboId];\n      } else {\n        parent = addedMap[child.parentId];\n      }\n      if (parent) {\n        if (itemType === 'node') child.depth = maxDepth + 1;else child.depth = maxDepth + 10;\n      } else {\n        child.depth = maxDepth + 10;\n      }\n      if (maxDepth < child.depth) maxDepth = child.depth;\n      var oriNodeModel = nodeMap[child.id];\n      if (oriNodeModel) {\n        oriNodeModel.depth = child.depth;\n      }\n      return true;\n    });\n  });\n  return result;\n};\nexport var reconstructTree = function reconstructTree(trees, subtreeId, newParentId) {\n  var _a;\n  var brothers = trees;\n  var subtree;\n  var comboChildsMap = {\n    root: {\n      children: trees\n    }\n  };\n  var foundSubTree = false;\n  var oldParentId = 'root';\n  (trees || []).forEach(function (tree) {\n    if (foundSubTree) return;\n    if (tree.id === subtreeId) {\n      subtree = tree;\n      if (tree.itemType === 'combo') {\n        subtree.parentId = newParentId;\n      } else {\n        subtree.comboId = newParentId;\n      }\n      foundSubTree = true;\n      return;\n    }\n    traverseTree(tree, function (child) {\n      var _a;\n      comboChildsMap[child.id] = {\n        children: (child === null || child === void 0 ? void 0 : child.children) || []\n      };\n      // store the old parent id to delete the subtree from the old parent's children in next recursion\n      brothers = (_a = comboChildsMap[child.parentId || child.comboId || 'root']) === null || _a === void 0 ? void 0 : _a.children;\n      if (child && (child.removed || subtreeId === child.id) && brothers) {\n        oldParentId = child.parentId || child.comboId || 'root';\n        subtree = child;\n        // re-assign the parentId or comboId for the moved subtree\n        if (child.itemType === 'combo') {\n          subtree.parentId = newParentId;\n        } else {\n          subtree.comboId = newParentId;\n        }\n        foundSubTree = true;\n        return false;\n      }\n      return true;\n    });\n  });\n  brothers = (_a = comboChildsMap[oldParentId]) === null || _a === void 0 ? void 0 : _a.children;\n  var index = brothers ? brothers.indexOf(subtree) : -1;\n  if (index > -1) brothers.splice(index, 1);\n  // 如果遍历完整棵树还没有找到，说明之前就不在树中\n  if (!foundSubTree) {\n    subtree = {\n      id: subtreeId,\n      itemType: 'node',\n      comboId: newParentId\n    };\n    comboChildsMap[subtreeId] = {\n      children: undefined\n    };\n  }\n  // append to new parent\n  if (subtreeId) {\n    var found_1 = false;\n    // newParentId is undefined means the subtree will have no parent\n    if (newParentId) {\n      var newParentDepth_1 = 0;\n      (trees || []).forEach(function (tree) {\n        if (found_1) return; // terminate\n        traverseTree(tree, function (child) {\n          // append subtree to the new parent ans assign the depth to the subtree\n          if (newParentId === child.id) {\n            found_1 = true;\n            if (child.children) child.children.push(subtree);else child.children = [subtree];\n            newParentDepth_1 = child.depth;\n            if (subtree.itemType === 'node') subtree.depth = newParentDepth_1 + 2;else subtree.depth = newParentDepth_1 + 1;\n            return false; // terminate\n          }\n\n          return true;\n        });\n      });\n    } else if ((!newParentId || !found_1) && subtree.itemType !== 'node') {\n      // if the newParentId is undefined or it is not found in the tree, add the subTree to the root\n      trees.push(subtree);\n    }\n    // update the depth of the subtree and its children from the subtree\n    var currentDepth_1 = subtree.depth;\n    traverseTree(subtree, function (child) {\n      if (child.itemType === 'node') currentDepth_1 += 2;else currentDepth_1 += 1;\n      child.depth = currentDepth_1;\n      return true;\n    });\n  }\n  return trees;\n};\nexport var getComboBBox = function getComboBBox(children, graph, combo) {\n  var comboBBox = {\n    minX: Infinity,\n    minY: Infinity,\n    maxX: -Infinity,\n    maxY: -Infinity,\n    x: undefined,\n    y: undefined,\n    width: undefined,\n    height: undefined,\n    centerX: undefined,\n    centerY: undefined\n  };\n  if (!children || children.length === 0) {\n    var comboModel = combo === null || combo === void 0 ? void 0 : combo.getModel();\n    var _a = comboModel || {},\n      x = _a.x,\n      y = _a.y,\n      fixSize = _a.fixSize,\n      collapsed = _a.collapsed,\n      fixCollapseSize = _a.fixCollapseSize;\n    var useFixSize = collapsed ? fixCollapseSize : fixSize;\n    var _b = isArray(useFixSize) ? useFixSize : [useFixSize, useFixSize],\n      width = _b[0],\n      height = _b[1];\n    var halfSize = [width / 2, height / 2];\n    return {\n      minX: x - halfSize[0],\n      minY: y - halfSize[1],\n      maxX: x + halfSize[0],\n      maxY: y + halfSize[1],\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    };\n  }\n  children.forEach(function (child) {\n    var childItem = graph.findById(child.id);\n    if (!childItem || !childItem.isVisible()) return; // ignore hidden children\n    childItem.set('bboxCanvasCache', undefined);\n    var childBBox = childItem.getCanvasBBox();\n    if (childBBox.x && comboBBox.minX > childBBox.minX) comboBBox.minX = childBBox.minX;\n    if (childBBox.y && comboBBox.minY > childBBox.minY) comboBBox.minY = childBBox.minY;\n    if (childBBox.x && comboBBox.maxX < childBBox.maxX) comboBBox.maxX = childBBox.maxX;\n    if (childBBox.y && comboBBox.maxY < childBBox.maxY) comboBBox.maxY = childBBox.maxY;\n  });\n  comboBBox.x = (comboBBox.minX + comboBBox.maxX) / 2;\n  comboBBox.y = (comboBBox.minY + comboBBox.maxY) / 2;\n  comboBBox.width = comboBBox.maxX - comboBBox.minX;\n  comboBBox.height = comboBBox.maxY - comboBBox.minY;\n  comboBBox.centerX = (comboBBox.minX + comboBBox.maxX) / 2;\n  comboBBox.centerY = (comboBBox.minY + comboBBox.maxY) / 2;\n  // if it is a circle combo, diagnal length of the children's bbox should be the diameter of the combo's bbox\n  if ((combo === null || combo === void 0 ? void 0 : combo.getKeyShape().get('type')) === 'circle') {\n    comboBBox.width = Math.hypot(comboBBox.height, comboBBox.width);\n    comboBBox.height = comboBBox.width;\n  }\n  Object.keys(comboBBox).forEach(function (key) {\n    if (comboBBox[key] === Infinity || comboBBox[key] === -Infinity) {\n      comboBBox[key] = undefined;\n    }\n  });\n  return comboBBox;\n};\nexport var shouldRefreshEdge = function shouldRefreshEdge(cfg) {\n  var refreshEdge = isNumber(cfg.x) || isNumber(cfg.y) || cfg.type || cfg.anchorPoints || cfg.size;\n  if (cfg.style) refreshEdge = refreshEdge || isNumber(cfg.style.r) || isNumber(cfg.style.width) || isNumber(cfg.style.height) || isNumber(cfg.style.rx) || isNumber(cfg.style.ry);\n  return refreshEdge;\n};\nexport var cloneBesidesImg = function cloneBesidesImg(obj) {\n  var clonedObj = {};\n  Object.keys(obj).forEach(function (key1) {\n    var obj2 = obj[key1];\n    if (key1 === 'img' && !isString(obj2)) return;\n    if (isObject(obj2) && !isArray(obj2)) {\n      var clonedObj2_1 = {};\n      Object.keys(obj2).forEach(function (key2) {\n        var v = obj2[key2];\n        if (key2 === 'img' && !isString(v)) return;\n        clonedObj2_1[key2] = clone(v);\n      });\n      clonedObj[key1] = clonedObj2_1;\n    } else {\n      clonedObj[key1] = clone(obj2);\n    }\n  });\n  return clonedObj;\n};\nexport var getAnimateCfgWithCallback = function getAnimateCfgWithCallback(_a) {\n  var animateCfg = _a.animateCfg,\n    callback = _a.callback;\n  var animateConfig;\n  if (!animateCfg) {\n    animateConfig = {\n      duration: 500,\n      callback: callback\n    };\n  } else {\n    animateConfig = clone(animateCfg);\n    if (animateCfg.callback) {\n      var animateCfgCallback_1 = animateCfg.callback;\n      animateConfig.callback = function () {\n        callback();\n        animateCfgCallback_1();\n      };\n    } else {\n      animateConfig.callback = callback;\n    }\n  }\n  return animateConfig;\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}