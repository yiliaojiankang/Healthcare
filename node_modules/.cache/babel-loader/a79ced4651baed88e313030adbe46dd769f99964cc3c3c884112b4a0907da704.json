{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n/**\n * 基于 G 的时间轴组件\n */\nimport { createDom, modifyCSS } from '@antv/dom-util';\nimport { Canvas as GCanvas } from '@antv/g-canvas';\nimport { Canvas as GSVGCanvas } from '@antv/g-svg';\nimport { isString, throttle } from '@antv/util';\nimport Base from '../base';\nimport { VALUE_CHANGE } from './constant';\nimport TimeBarSlice from './timeBarSlice';\nimport TrendTimeBar from './trendTimeBar';\n// simple 版本默认高度\nvar DEFAULT_SIMPLE_HEIGHT = 4;\n// trend 版本默认高度\nvar DEFAULT_TREND_HEIGHT = 26;\nvar TimeBar = /** @class */function (_super) {\n  __extends(TimeBar, _super);\n  function TimeBar(config) {\n    var _this = _super.call(this, config) || this;\n    _this.afterrenderListener = function (e) {\n      return _this.filterData({});\n    };\n    _this.valueChangeListener = throttle(function (e) {\n      return _this.filterData(e);\n    },\n    // 不可简写，否则 filterData 中 this 指针不对\n    200, {\n      trailing: true,\n      leading: true\n    });\n    _this.changeData = function (e) {\n      var graph = _this.get('graph');\n      _this.cacheGraphData = graph.get('data');\n      _this.filterData({});\n    };\n    return _this;\n  }\n  TimeBar.prototype.getDefaultCfgs = function () {\n    return {\n      container: null,\n      className: 'g6-component-timebar',\n      padding: 10,\n      type: 'trend',\n      trend: {\n        data: [],\n        isArea: false,\n        smooth: true\n      },\n      controllerCfg: {\n        speed: 1,\n        loop: false\n      },\n      slider: {\n        start: 0.1,\n        end: 0.9,\n        minText: 'min',\n        maxText: 'max'\n      },\n      tick: {\n        start: 0.1,\n        end: 0.9,\n        data: []\n      },\n      textStyle: {},\n      filterEdge: false,\n      filterItemTypes: ['node'],\n      containerCSS: {},\n      putInGraphContainer: true\n    };\n  };\n  /**\n   * 初始化 TimeBar 的容器\n   */\n  TimeBar.prototype.initContainer = function () {\n    var graph = this.get('graph');\n    var _a = this._cfgs,\n      width = _a.width,\n      height = _a.height,\n      putInGraphContainer = _a.putInGraphContainer;\n    var className = this.get('className') || 'g6-component-timebar';\n    var container = this.get('container');\n    var timeBarContainer;\n    if (!container) {\n      timeBarContainer = createDom(\"<div class='\".concat(className, \"'></div>\"));\n      modifyCSS(timeBarContainer, {\n        position: 'relative'\n      });\n    } else {\n      if (isString(container)) {\n        container = document.getElementById(container);\n      }\n      timeBarContainer = container;\n    }\n    if (putInGraphContainer) {\n      var graphContainer = this.get('graph').get('container');\n      graphContainer.appendChild(timeBarContainer);\n    }\n    this.set('timeBarContainer', timeBarContainer);\n    var canvas;\n    var renderer = graph.get('renderer');\n    if (renderer === 'SVG') {\n      canvas = new GSVGCanvas({\n        container: timeBarContainer,\n        width: width,\n        height: height\n      });\n    } else {\n      canvas = new GCanvas({\n        container: timeBarContainer,\n        width: width,\n        height: height\n      });\n    }\n    // 根据传入的参数修改容器 CSS 样式\n    if (this.get('containerCSS')) modifyCSS(timeBarContainer, this.get('containerCSS'));\n    this.set('canvas', canvas);\n  };\n  TimeBar.prototype.init = function () {\n    this.initContainer();\n    var canvas = this.get('canvas');\n    var timeBarGroup = canvas.addGroup({\n      name: 'timebar-group'\n    });\n    this.set('timeBarGroup', timeBarGroup);\n    this.renderTrend();\n    this.initEvent();\n    var fontFamily = typeof window !== 'undefined' ? window.getComputedStyle(document.body, null).getPropertyValue('font-family') || 'Arial, sans-serif' : 'Arial, sans-serif';\n    this.set('fontFamily', fontFamily);\n  };\n  /**\n   * 触发时间轴播放\n   */\n  TimeBar.prototype.play = function () {\n    this.togglePlay(true);\n  };\n  /**\n   * 触发时间轴暂停\n   */\n  TimeBar.prototype.pause = function () {\n    this.togglePlay(false);\n  };\n  /**\n   * 时间轴播放状态（播放/暂停）的切换\n   */\n  TimeBar.prototype.togglePlay = function (play) {\n    var timebar = this.get('timebar');\n    if (!timebar) return;\n    timebar.isPlay = !!play;\n    timebar.changePlayStatus();\n  };\n  TimeBar.prototype.renderTrend = function () {\n    var _this = this;\n    var _a = this._cfgs,\n      width = _a.width,\n      x = _a.x,\n      y = _a.y,\n      padding = _a.padding,\n      type = _a.type,\n      trend = _a.trend,\n      slider = _a.slider,\n      controllerCfg = _a.controllerCfg,\n      textStyle = _a.textStyle,\n      tick = _a.tick,\n      backgroundStyle = _a.backgroundStyle,\n      foregroundStyle = _a.foregroundStyle;\n    var data = trend.data,\n      other = __rest(trend, [\"data\"]);\n    var realWidth = width - 2 * padding;\n    var defaultHeight = type === 'trend' ? DEFAULT_TREND_HEIGHT : DEFAULT_SIMPLE_HEIGHT;\n    var graph = this.get('graph');\n    var group = this.get('timeBarGroup');\n    var canvas = this.get('canvas');\n    var timebar = null;\n    if (type === 'trend' || type === 'simple') {\n      var getValue_1 = this.get('getValue');\n      timebar = new TrendTimeBar(__assign(__assign({\n        graph: graph,\n        canvas: canvas,\n        group: group,\n        type: type,\n        x: x + padding,\n        y: type === 'trend' ? y + padding : y + padding + 15,\n        width: realWidth,\n        height: defaultHeight,\n        padding: padding,\n        backgroundStyle: backgroundStyle,\n        foregroundStyle: foregroundStyle,\n        trendCfg: __assign(__assign({}, other), {\n          data: data.map(function (d) {\n            return (getValue_1 === null || getValue_1 === void 0 ? void 0 : getValue_1(d)) || d.value;\n          })\n        })\n      }, slider), {\n        tick: {\n          ticks: data,\n          tickLabelFormatter: tick.tickLabelFormatter,\n          tickLabelStyle: tick.tickLabelStyle,\n          tickLineStyle: tick.tickLineStyle\n        },\n        handlerStyle: __assign(__assign({}, slider.handlerStyle), {\n          height: slider.height || defaultHeight\n        }),\n        controllerCfg: controllerCfg,\n        textStyle: textStyle\n      }));\n    } else if (type === 'tick') {\n      // 刻度时间轴\n      timebar = new TimeBarSlice(__assign({\n        graph: graph,\n        canvas: canvas,\n        group: group,\n        x: x + padding,\n        y: y + padding,\n        width: width,\n        height: 42,\n        padding: 2,\n        controllerCfg: controllerCfg\n      }, tick));\n    }\n    // 鼠标按下左/右滑块或范围条后在任意地方释放，都触发暂停播放\n    var handleMouseUp = function handleMouseUp() {\n      var timebarInstance = _this.get('timebar');\n      timebarInstance.draggingHandler = false;\n      if (timebarInstance.isPlay) {\n        timebarInstance.isPlay = false;\n        timebarInstance.currentHandler = timebarInstance.maxHandlerShape;\n        timebarInstance.changePlayStatus();\n      }\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n    canvas.on('mousedown', function (e) {\n      if (e.target.get('name') === 'maxHandlerShape-handler' || e.target.get('name') === 'minHandlerShape-handler' || e.target === timebar.foregroundShape) {\n        document.addEventListener('mouseup', handleMouseUp);\n      }\n    });\n    this.set('timebar', timebar);\n  };\n  TimeBar.prototype.filterData = function (evt) {\n    var _a;\n    var value = evt.value;\n    if (!value) {\n      value = [];\n      var type_1 = this._cfgs.type;\n      if (!type_1 || type_1 === 'trend' || type_1 === 'simple') {\n        value[0] = this._cfgs.slider.start;\n        value[1] = this._cfgs.slider.end;\n      } else if (type_1 === 'tick') {\n        value[0] = this._cfgs.tick.start;\n        value[1] = this._cfgs.tick.end;\n      }\n    }\n    var trendData = null;\n    var type = this._cfgs.type;\n    if (type === 'trend' || type === 'simple') {\n      trendData = this._cfgs.trend.data;\n    } else if (type === 'tick') {\n      trendData = this._cfgs.tick.data;\n    }\n    if (!trendData || trendData.length === 0) {\n      console.warn('请配置 TimeBar 组件的数据');\n      return;\n    }\n    var rangeChange = this.get('rangeChange');\n    var graph = this.get('graph');\n    var min = Math.round(trendData.length * value[0]);\n    var max = Math.round(trendData.length * value[1]);\n    max = max >= trendData.length ? trendData.length - 1 : max;\n    min = min >= trendData.length ? trendData.length - 1 : min;\n    var tickLabelFormatter = (_a = this._cfgs.tick) === null || _a === void 0 ? void 0 : _a.tickLabelFormatter;\n    var minText = tickLabelFormatter ? tickLabelFormatter(trendData[min]) : trendData[min].date;\n    var maxText = tickLabelFormatter ? tickLabelFormatter(trendData[max]) : trendData[max].date;\n    if (type !== 'tick') {\n      var timebar = this.get('timebar');\n      timebar.setText(minText, maxText);\n    }\n    if (rangeChange) {\n      rangeChange(graph, minText, maxText);\n    } else {\n      // 自动过滤数据，并渲染 graph\n      if (!this.cacheGraphData || this.cacheGraphData.nodes && this.cacheGraphData.nodes.length === 0) {\n        this.cacheGraphData = graph.get('data'); // graph.save() as GraphData;\n      }\n\n      var filterItemTypes = this.get('filterItemTypes');\n      var changeData = this.get('changeData');\n      // 过滤不在 min 和 max 范围内的节点\n      var getDate_1 = this.get('getDate');\n      var shouldIgnore_1 = this.get('shouldIgnore');\n      var minDate_1 = trendData[min].date,\n        maxDate_1 = trendData[max].date;\n      if (changeData || changeData === undefined) {\n        var originNodes = this.cacheGraphData.nodes;\n        var originEdges = this.cacheGraphData.edges;\n        var currentNodeExistMap_1 = {};\n        var currentEdgeExistMap_1 = {};\n        graph.getNodes().forEach(function (node) {\n          return currentNodeExistMap_1[node.getID()] = true;\n        });\n        graph.getEdges().forEach(function (edge) {\n          return currentEdgeExistMap_1[edge.getID()] = true;\n        });\n        if (filterItemTypes.includes('node')) {\n          originNodes === null || originNodes === void 0 ? void 0 : originNodes.forEach(function (node) {\n            var date = +((getDate_1 === null || getDate_1 === void 0 ? void 0 : getDate_1(node)) || node.date);\n            var hitRange = date >= minDate_1 && date <= maxDate_1 || (shouldIgnore_1 === null || shouldIgnore_1 === void 0 ? void 0 : shouldIgnore_1('node', node, {\n              min: minDate_1,\n              max: maxDate_1\n            }));\n            var exist = currentNodeExistMap_1[node.id];\n            if (exist && !hitRange) {\n              graph.removeItem(node.id);\n              currentNodeExistMap_1[node.id] = false;\n            } else if (!exist && hitRange) {\n              graph.addItem('node', node);\n              currentNodeExistMap_1[node.id] = true;\n            }\n          });\n          // 过滤 source 或 target 不在 min 和 max 范围内的边\n          originEdges === null || originEdges === void 0 ? void 0 : originEdges.forEach(function (edge) {\n            var shouldShow = currentNodeExistMap_1[edge.source] && currentNodeExistMap_1[edge.target] || (shouldIgnore_1 === null || shouldIgnore_1 === void 0 ? void 0 : shouldIgnore_1('edge', edge, {\n              min: minDate_1,\n              max: maxDate_1\n            }));\n            var exist = !!graph.findById(edge.id);\n            if (exist && !shouldShow) {\n              graph.removeItem(edge.id);\n              currentEdgeExistMap_1[edge.id] = false;\n            } else if (!exist && shouldShow) {\n              graph.addItem('edge', edge);\n              currentEdgeExistMap_1[edge.id] = true;\n            } else if (!exist) {\n              currentEdgeExistMap_1[edge.id] = false;\n            }\n          });\n        }\n        if (this.get('filterEdge') || filterItemTypes.includes('edge')) {\n          originEdges === null || originEdges === void 0 ? void 0 : originEdges.filter(function (edge) {\n            var date = +((getDate_1 === null || getDate_1 === void 0 ? void 0 : getDate_1(edge)) || edge.date);\n            var hitRange = date >= minDate_1 && date <= maxDate_1 || (shouldIgnore_1 === null || shouldIgnore_1 === void 0 ? void 0 : shouldIgnore_1('edge', edge, {\n              min: minDate_1,\n              max: maxDate_1\n            }));\n            var endsExist = currentNodeExistMap_1[edge.source] && currentNodeExistMap_1[edge.target];\n            var shouldShow = hitRange && endsExist;\n            var exist = currentEdgeExistMap_1[edge.id];\n            if (exist && !shouldShow) {\n              currentEdgeExistMap_1[edge.id] = false;\n              graph.removeItem(edge.id);\n            } else if (!exist && shouldShow) {\n              currentEdgeExistMap_1[edge.id] = true;\n              graph.addItem('edge', edge);\n            }\n          });\n        }\n      } else {\n        if (filterItemTypes.includes('node')) {\n          graph.getNodes().forEach(function (node) {\n            var model = node.getModel();\n            if (shouldIgnore_1 === null || shouldIgnore_1 === void 0 ? void 0 : shouldIgnore_1('node', model, {\n              min: minDate_1,\n              max: maxDate_1\n            })) return;\n            var date = +((getDate_1 === null || getDate_1 === void 0 ? void 0 : getDate_1(model)) || model.date);\n            if (date < minDate_1 || date > maxDate_1) {\n              graph.hideItem(node);\n            } else {\n              graph.showItem(node);\n            }\n          });\n        }\n        if (this.get('filterEdge') || filterItemTypes.includes('edge')) {\n          graph.getEdges().forEach(function (edge) {\n            var model = edge.getModel();\n            if (shouldIgnore_1 === null || shouldIgnore_1 === void 0 ? void 0 : shouldIgnore_1('edge', model, {\n              min: trendData[min].date,\n              max: trendData[max].date\n            })) return;\n            var date = +((getDate_1 === null || getDate_1 === void 0 ? void 0 : getDate_1(model)) || model.date);\n            if (date < trendData[min].date || date > trendData[max].date) {\n              graph.hideItem(edge);\n            } else {\n              var sourceVisible = edge.getSource().isVisible();\n              var targetVisible = edge.getTarget().isVisible();\n              if (sourceVisible && targetVisible) graph.showItem(edge);\n            }\n          });\n        }\n      }\n    }\n  };\n  TimeBar.prototype.initEvent = function () {\n    var graph = this.get('graph');\n    // 图数据变化，更新时间轴的原始数据\n    graph.on('afterchangedata', this.changeData);\n    // 图渲染，触发时间轴筛选\n    graph.on('afterrender', this.afterrenderListener);\n    // 时间轴的值发生改变的事件，触发筛选\n    graph.on(VALUE_CHANGE, this.valueChangeListener);\n  };\n  TimeBar.prototype.destroy = function () {\n    var graph = this.get('graph');\n    graph.off('afterchangedata', this.changeData);\n    graph.off('afterrender', this.afterrenderListener);\n    graph.off(VALUE_CHANGE, this.valueChangeListener);\n    var timebar = this.get('timebar');\n    if (timebar && timebar.destory) {\n      timebar.destory();\n    }\n    _super.prototype.destroy.call(this);\n    var timeBarContainer = this.get('timeBarContainer');\n    if (timeBarContainer) {\n      var container = this.get('container');\n      if (!container) {\n        container = this.get('graph').get('container');\n      }\n      if (isString(container)) {\n        container = document.getElementById(container);\n      }\n      if (container === timeBarContainer) {\n        container = container.parentElement;\n      }\n      container.removeChild(timeBarContainer);\n    }\n  };\n  return TimeBar;\n}(Base);\nexport default TimeBar;","map":{"version":3,"names":["__extends","_extendStatics","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","createDom","modifyCSS","Canvas","GCanvas","GSVGCanvas","isString","throttle","Base","VALUE_CHANGE","TimeBarSlice","TrendTimeBar","DEFAULT_SIMPLE_HEIGHT","DEFAULT_TREND_HEIGHT","TimeBar","_super","config","_this","afterrenderListener","filterData","valueChangeListener","trailing","leading","changeData","graph","get","cacheGraphData","getDefaultCfgs","container","className","padding","type","trend","data","isArea","smooth","controllerCfg","speed","loop","slider","start","end","minText","maxText","tick","textStyle","filterEdge","filterItemTypes","containerCSS","putInGraphContainer","initContainer","_a","_cfgs","width","height","timeBarContainer","concat","position","document","getElementById","graphContainer","appendChild","set","canvas","renderer","init","timeBarGroup","addGroup","name","renderTrend","initEvent","fontFamily","window","getComputedStyle","body","getPropertyValue","play","togglePlay","pause","timebar","isPlay","changePlayStatus","x","y","backgroundStyle","foregroundStyle","other","realWidth","defaultHeight","group","getValue_1","trendCfg","map","value","ticks","tickLabelFormatter","tickLabelStyle","tickLineStyle","handlerStyle","handleMouseUp","timebarInstance","draggingHandler","currentHandler","maxHandlerShape","removeEventListener","on","target","foregroundShape","addEventListener","evt","type_1","trendData","console","warn","rangeChange","min","Math","round","max","date","setText","nodes","getDate_1","shouldIgnore_1","minDate_1","maxDate_1","undefined","originNodes","originEdges","edges","currentNodeExistMap_1","currentEdgeExistMap_1","getNodes","forEach","node","getID","getEdges","edge","includes","hitRange","exist","id","removeItem","addItem","shouldShow","source","findById","filter","endsExist","model","getModel","hideItem","showItem","sourceVisible","getSource","isVisible","targetVisible","getTarget","destroy","off","destory","parentElement","removeChild"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/g6-plugin/es/timeBar/index.js"],"sourcesContent":["var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n/**\n * 基于 G 的时间轴组件\n */\nimport { createDom, modifyCSS } from '@antv/dom-util';\nimport { Canvas as GCanvas } from '@antv/g-canvas';\nimport { Canvas as GSVGCanvas } from '@antv/g-svg';\nimport { isString, throttle } from '@antv/util';\nimport Base from '../base';\nimport { VALUE_CHANGE } from './constant';\nimport TimeBarSlice from './timeBarSlice';\nimport TrendTimeBar from './trendTimeBar';\n// simple 版本默认高度\nvar DEFAULT_SIMPLE_HEIGHT = 4;\n// trend 版本默认高度\nvar DEFAULT_TREND_HEIGHT = 26;\nvar TimeBar = /** @class */function (_super) {\n  __extends(TimeBar, _super);\n  function TimeBar(config) {\n    var _this = _super.call(this, config) || this;\n    _this.afterrenderListener = function (e) {\n      return _this.filterData({});\n    };\n    _this.valueChangeListener = throttle(function (e) {\n      return _this.filterData(e);\n    },\n    // 不可简写，否则 filterData 中 this 指针不对\n    200, {\n      trailing: true,\n      leading: true\n    });\n    _this.changeData = function (e) {\n      var graph = _this.get('graph');\n      _this.cacheGraphData = graph.get('data');\n      _this.filterData({});\n    };\n    return _this;\n  }\n  TimeBar.prototype.getDefaultCfgs = function () {\n    return {\n      container: null,\n      className: 'g6-component-timebar',\n      padding: 10,\n      type: 'trend',\n      trend: {\n        data: [],\n        isArea: false,\n        smooth: true\n      },\n      controllerCfg: {\n        speed: 1,\n        loop: false\n      },\n      slider: {\n        start: 0.1,\n        end: 0.9,\n        minText: 'min',\n        maxText: 'max'\n      },\n      tick: {\n        start: 0.1,\n        end: 0.9,\n        data: []\n      },\n      textStyle: {},\n      filterEdge: false,\n      filterItemTypes: ['node'],\n      containerCSS: {},\n      putInGraphContainer: true\n    };\n  };\n  /**\n   * 初始化 TimeBar 的容器\n   */\n  TimeBar.prototype.initContainer = function () {\n    var graph = this.get('graph');\n    var _a = this._cfgs,\n      width = _a.width,\n      height = _a.height,\n      putInGraphContainer = _a.putInGraphContainer;\n    var className = this.get('className') || 'g6-component-timebar';\n    var container = this.get('container');\n    var timeBarContainer;\n    if (!container) {\n      timeBarContainer = createDom(\"<div class='\".concat(className, \"'></div>\"));\n      modifyCSS(timeBarContainer, {\n        position: 'relative'\n      });\n    } else {\n      if (isString(container)) {\n        container = document.getElementById(container);\n      }\n      timeBarContainer = container;\n    }\n    if (putInGraphContainer) {\n      var graphContainer = this.get('graph').get('container');\n      graphContainer.appendChild(timeBarContainer);\n    }\n    this.set('timeBarContainer', timeBarContainer);\n    var canvas;\n    var renderer = graph.get('renderer');\n    if (renderer === 'SVG') {\n      canvas = new GSVGCanvas({\n        container: timeBarContainer,\n        width: width,\n        height: height\n      });\n    } else {\n      canvas = new GCanvas({\n        container: timeBarContainer,\n        width: width,\n        height: height\n      });\n    }\n    // 根据传入的参数修改容器 CSS 样式\n    if (this.get('containerCSS')) modifyCSS(timeBarContainer, this.get('containerCSS'));\n    this.set('canvas', canvas);\n  };\n  TimeBar.prototype.init = function () {\n    this.initContainer();\n    var canvas = this.get('canvas');\n    var timeBarGroup = canvas.addGroup({\n      name: 'timebar-group'\n    });\n    this.set('timeBarGroup', timeBarGroup);\n    this.renderTrend();\n    this.initEvent();\n    var fontFamily = typeof window !== 'undefined' ? window.getComputedStyle(document.body, null).getPropertyValue('font-family') || 'Arial, sans-serif' : 'Arial, sans-serif';\n    this.set('fontFamily', fontFamily);\n  };\n  /**\n   * 触发时间轴播放\n   */\n  TimeBar.prototype.play = function () {\n    this.togglePlay(true);\n  };\n  /**\n   * 触发时间轴暂停\n   */\n  TimeBar.prototype.pause = function () {\n    this.togglePlay(false);\n  };\n  /**\n   * 时间轴播放状态（播放/暂停）的切换\n   */\n  TimeBar.prototype.togglePlay = function (play) {\n    var timebar = this.get('timebar');\n    if (!timebar) return;\n    timebar.isPlay = !!play;\n    timebar.changePlayStatus();\n  };\n  TimeBar.prototype.renderTrend = function () {\n    var _this = this;\n    var _a = this._cfgs,\n      width = _a.width,\n      x = _a.x,\n      y = _a.y,\n      padding = _a.padding,\n      type = _a.type,\n      trend = _a.trend,\n      slider = _a.slider,\n      controllerCfg = _a.controllerCfg,\n      textStyle = _a.textStyle,\n      tick = _a.tick,\n      backgroundStyle = _a.backgroundStyle,\n      foregroundStyle = _a.foregroundStyle;\n    var data = trend.data,\n      other = __rest(trend, [\"data\"]);\n    var realWidth = width - 2 * padding;\n    var defaultHeight = type === 'trend' ? DEFAULT_TREND_HEIGHT : DEFAULT_SIMPLE_HEIGHT;\n    var graph = this.get('graph');\n    var group = this.get('timeBarGroup');\n    var canvas = this.get('canvas');\n    var timebar = null;\n    if (type === 'trend' || type === 'simple') {\n      var getValue_1 = this.get('getValue');\n      timebar = new TrendTimeBar(__assign(__assign({\n        graph: graph,\n        canvas: canvas,\n        group: group,\n        type: type,\n        x: x + padding,\n        y: type === 'trend' ? y + padding : y + padding + 15,\n        width: realWidth,\n        height: defaultHeight,\n        padding: padding,\n        backgroundStyle: backgroundStyle,\n        foregroundStyle: foregroundStyle,\n        trendCfg: __assign(__assign({}, other), {\n          data: data.map(function (d) {\n            return (getValue_1 === null || getValue_1 === void 0 ? void 0 : getValue_1(d)) || d.value;\n          })\n        })\n      }, slider), {\n        tick: {\n          ticks: data,\n          tickLabelFormatter: tick.tickLabelFormatter,\n          tickLabelStyle: tick.tickLabelStyle,\n          tickLineStyle: tick.tickLineStyle\n        },\n        handlerStyle: __assign(__assign({}, slider.handlerStyle), {\n          height: slider.height || defaultHeight\n        }),\n        controllerCfg: controllerCfg,\n        textStyle: textStyle\n      }));\n    } else if (type === 'tick') {\n      // 刻度时间轴\n      timebar = new TimeBarSlice(__assign({\n        graph: graph,\n        canvas: canvas,\n        group: group,\n        x: x + padding,\n        y: y + padding,\n        width: width,\n        height: 42,\n        padding: 2,\n        controllerCfg: controllerCfg\n      }, tick));\n    }\n    // 鼠标按下左/右滑块或范围条后在任意地方释放，都触发暂停播放\n    var handleMouseUp = function handleMouseUp() {\n      var timebarInstance = _this.get('timebar');\n      timebarInstance.draggingHandler = false;\n      if (timebarInstance.isPlay) {\n        timebarInstance.isPlay = false;\n        timebarInstance.currentHandler = timebarInstance.maxHandlerShape;\n        timebarInstance.changePlayStatus();\n      }\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n    canvas.on('mousedown', function (e) {\n      if (e.target.get('name') === 'maxHandlerShape-handler' || e.target.get('name') === 'minHandlerShape-handler' || e.target === timebar.foregroundShape) {\n        document.addEventListener('mouseup', handleMouseUp);\n      }\n    });\n    this.set('timebar', timebar);\n  };\n  TimeBar.prototype.filterData = function (evt) {\n    var _a;\n    var value = evt.value;\n    if (!value) {\n      value = [];\n      var type_1 = this._cfgs.type;\n      if (!type_1 || type_1 === 'trend' || type_1 === 'simple') {\n        value[0] = this._cfgs.slider.start;\n        value[1] = this._cfgs.slider.end;\n      } else if (type_1 === 'tick') {\n        value[0] = this._cfgs.tick.start;\n        value[1] = this._cfgs.tick.end;\n      }\n    }\n    var trendData = null;\n    var type = this._cfgs.type;\n    if (type === 'trend' || type === 'simple') {\n      trendData = this._cfgs.trend.data;\n    } else if (type === 'tick') {\n      trendData = this._cfgs.tick.data;\n    }\n    if (!trendData || trendData.length === 0) {\n      console.warn('请配置 TimeBar 组件的数据');\n      return;\n    }\n    var rangeChange = this.get('rangeChange');\n    var graph = this.get('graph');\n    var min = Math.round(trendData.length * value[0]);\n    var max = Math.round(trendData.length * value[1]);\n    max = max >= trendData.length ? trendData.length - 1 : max;\n    min = min >= trendData.length ? trendData.length - 1 : min;\n    var tickLabelFormatter = (_a = this._cfgs.tick) === null || _a === void 0 ? void 0 : _a.tickLabelFormatter;\n    var minText = tickLabelFormatter ? tickLabelFormatter(trendData[min]) : trendData[min].date;\n    var maxText = tickLabelFormatter ? tickLabelFormatter(trendData[max]) : trendData[max].date;\n    if (type !== 'tick') {\n      var timebar = this.get('timebar');\n      timebar.setText(minText, maxText);\n    }\n    if (rangeChange) {\n      rangeChange(graph, minText, maxText);\n    } else {\n      // 自动过滤数据，并渲染 graph\n      if (!this.cacheGraphData || this.cacheGraphData.nodes && this.cacheGraphData.nodes.length === 0) {\n        this.cacheGraphData = graph.get('data'); // graph.save() as GraphData;\n      }\n\n      var filterItemTypes = this.get('filterItemTypes');\n      var changeData = this.get('changeData');\n      // 过滤不在 min 和 max 范围内的节点\n      var getDate_1 = this.get('getDate');\n      var shouldIgnore_1 = this.get('shouldIgnore');\n      var minDate_1 = trendData[min].date,\n        maxDate_1 = trendData[max].date;\n      if (changeData || changeData === undefined) {\n        var originNodes = this.cacheGraphData.nodes;\n        var originEdges = this.cacheGraphData.edges;\n        var currentNodeExistMap_1 = {};\n        var currentEdgeExistMap_1 = {};\n        graph.getNodes().forEach(function (node) {\n          return currentNodeExistMap_1[node.getID()] = true;\n        });\n        graph.getEdges().forEach(function (edge) {\n          return currentEdgeExistMap_1[edge.getID()] = true;\n        });\n        if (filterItemTypes.includes('node')) {\n          originNodes === null || originNodes === void 0 ? void 0 : originNodes.forEach(function (node) {\n            var date = +((getDate_1 === null || getDate_1 === void 0 ? void 0 : getDate_1(node)) || node.date);\n            var hitRange = date >= minDate_1 && date <= maxDate_1 || (shouldIgnore_1 === null || shouldIgnore_1 === void 0 ? void 0 : shouldIgnore_1('node', node, {\n              min: minDate_1,\n              max: maxDate_1\n            }));\n            var exist = currentNodeExistMap_1[node.id];\n            if (exist && !hitRange) {\n              graph.removeItem(node.id);\n              currentNodeExistMap_1[node.id] = false;\n            } else if (!exist && hitRange) {\n              graph.addItem('node', node);\n              currentNodeExistMap_1[node.id] = true;\n            }\n          });\n          // 过滤 source 或 target 不在 min 和 max 范围内的边\n          originEdges === null || originEdges === void 0 ? void 0 : originEdges.forEach(function (edge) {\n            var shouldShow = currentNodeExistMap_1[edge.source] && currentNodeExistMap_1[edge.target] || (shouldIgnore_1 === null || shouldIgnore_1 === void 0 ? void 0 : shouldIgnore_1('edge', edge, {\n              min: minDate_1,\n              max: maxDate_1\n            }));\n            var exist = !!graph.findById(edge.id);\n            if (exist && !shouldShow) {\n              graph.removeItem(edge.id);\n              currentEdgeExistMap_1[edge.id] = false;\n            } else if (!exist && shouldShow) {\n              graph.addItem('edge', edge);\n              currentEdgeExistMap_1[edge.id] = true;\n            } else if (!exist) {\n              currentEdgeExistMap_1[edge.id] = false;\n            }\n          });\n        }\n        if (this.get('filterEdge') || filterItemTypes.includes('edge')) {\n          originEdges === null || originEdges === void 0 ? void 0 : originEdges.filter(function (edge) {\n            var date = +((getDate_1 === null || getDate_1 === void 0 ? void 0 : getDate_1(edge)) || edge.date);\n            var hitRange = date >= minDate_1 && date <= maxDate_1 || (shouldIgnore_1 === null || shouldIgnore_1 === void 0 ? void 0 : shouldIgnore_1('edge', edge, {\n              min: minDate_1,\n              max: maxDate_1\n            }));\n            var endsExist = currentNodeExistMap_1[edge.source] && currentNodeExistMap_1[edge.target];\n            var shouldShow = hitRange && endsExist;\n            var exist = currentEdgeExistMap_1[edge.id];\n            if (exist && !shouldShow) {\n              currentEdgeExistMap_1[edge.id] = false;\n              graph.removeItem(edge.id);\n            } else if (!exist && shouldShow) {\n              currentEdgeExistMap_1[edge.id] = true;\n              graph.addItem('edge', edge);\n            }\n          });\n        }\n      } else {\n        if (filterItemTypes.includes('node')) {\n          graph.getNodes().forEach(function (node) {\n            var model = node.getModel();\n            if (shouldIgnore_1 === null || shouldIgnore_1 === void 0 ? void 0 : shouldIgnore_1('node', model, {\n              min: minDate_1,\n              max: maxDate_1\n            })) return;\n            var date = +((getDate_1 === null || getDate_1 === void 0 ? void 0 : getDate_1(model)) || model.date);\n            if (date < minDate_1 || date > maxDate_1) {\n              graph.hideItem(node);\n            } else {\n              graph.showItem(node);\n            }\n          });\n        }\n        if (this.get('filterEdge') || filterItemTypes.includes('edge')) {\n          graph.getEdges().forEach(function (edge) {\n            var model = edge.getModel();\n            if (shouldIgnore_1 === null || shouldIgnore_1 === void 0 ? void 0 : shouldIgnore_1('edge', model, {\n              min: trendData[min].date,\n              max: trendData[max].date\n            })) return;\n            var date = +((getDate_1 === null || getDate_1 === void 0 ? void 0 : getDate_1(model)) || model.date);\n            if (date < trendData[min].date || date > trendData[max].date) {\n              graph.hideItem(edge);\n            } else {\n              var sourceVisible = edge.getSource().isVisible();\n              var targetVisible = edge.getTarget().isVisible();\n              if (sourceVisible && targetVisible) graph.showItem(edge);\n            }\n          });\n        }\n      }\n    }\n  };\n  TimeBar.prototype.initEvent = function () {\n    var graph = this.get('graph');\n    // 图数据变化，更新时间轴的原始数据\n    graph.on('afterchangedata', this.changeData);\n    // 图渲染，触发时间轴筛选\n    graph.on('afterrender', this.afterrenderListener);\n    // 时间轴的值发生改变的事件，触发筛选\n    graph.on(VALUE_CHANGE, this.valueChangeListener);\n  };\n  TimeBar.prototype.destroy = function () {\n    var graph = this.get('graph');\n    graph.off('afterchangedata', this.changeData);\n    graph.off('afterrender', this.afterrenderListener);\n    graph.off(VALUE_CHANGE, this.valueChangeListener);\n    var timebar = this.get('timebar');\n    if (timebar && timebar.destory) {\n      timebar.destory();\n    }\n    _super.prototype.destroy.call(this);\n    var timeBarContainer = this.get('timeBarContainer');\n    if (timeBarContainer) {\n      var container = this.get('container');\n      if (!container) {\n        container = this.get('graph').get('container');\n      }\n      if (isString(container)) {\n        container = document.getElementById(container);\n      }\n      if (container === timeBarContainer) {\n        container = container.parentElement;\n      }\n      container.removeChild(timeBarContainer);\n    }\n  };\n  return TimeBar;\n}(Base);\nexport default TimeBar;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}