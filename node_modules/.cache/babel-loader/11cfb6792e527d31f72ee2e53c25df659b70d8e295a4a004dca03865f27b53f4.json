{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { isArray, map } from '@antv/util';\nimport { TREND_DOWN, TREND_FIELD, TREND_UP, Y_FIELD } from './constant';\n/**\n * @desc 股票图数据处理\n * @param data\n * @param yField\n */\nexport function getStockData(data, yField) {\n  return map(data, function (item) {\n    var obj = item && __assign({}, item);\n    if (isArray(yField) && obj) {\n      var open_1 = yField[0],\n        close_1 = yField[1],\n        high = yField[2],\n        low = yField[3];\n      obj[TREND_FIELD] = obj[open_1] <= obj[close_1] ? TREND_UP : TREND_DOWN;\n      obj[Y_FIELD] = [obj[open_1], obj[close_1], obj[high], obj[low]];\n    }\n    return obj;\n  });\n}","map":{"version":3,"names":["isArray","map","TREND_DOWN","TREND_FIELD","TREND_UP","Y_FIELD","getStockData","data","yField","item","obj","__assign","open_1","close_1","high","low"],"sources":["../../../src/plots/stock/utils.ts"],"sourcesContent":["import { isArray, map } from '@antv/util';\nimport { TREND_DOWN, TREND_FIELD, TREND_UP, Y_FIELD } from './constant';\n\n/**\n * @desc 股票图数据处理\n * @param data\n * @param yField\n */\nexport function getStockData(data: Record<string, any>[], yField: [string, string, string, string]) {\n  return map(data, (item) => {\n    const obj = item && { ...item };\n    if (isArray(yField) && obj) {\n      const [open, close, high, low] = yField;\n      obj[TREND_FIELD] = obj[open] <= obj[close] ? TREND_UP : TREND_DOWN;\n      obj[Y_FIELD] = [obj[open], obj[close], obj[high], obj[low]];\n    }\n    return obj;\n  });\n}\n"],"mappings":";AAAA,SAASA,OAAO,EAAEC,GAAG,QAAQ,YAAY;AACzC,SAASC,UAAU,EAAEC,WAAW,EAAEC,QAAQ,EAAEC,OAAO,QAAQ,YAAY;AAEvE;;;;;AAKA,OAAM,SAAUC,YAAYA,CAACC,IAA2B,EAAEC,MAAwC;EAChG,OAAOP,GAAG,CAACM,IAAI,EAAE,UAACE,IAAI;IACpB,IAAMC,GAAG,GAAGD,IAAI,IAAAE,QAAA,KAASF,IAAI,CAAE;IAC/B,IAAIT,OAAO,CAACQ,MAAM,CAAC,IAAIE,GAAG,EAAE;MACnB,IAAAE,MAAI,GAAsBJ,MAAM,GAA5B;QAAEK,OAAK,GAAeL,MAAM,GAArB;QAAEM,IAAI,GAASN,MAAM,GAAf;QAAEO,GAAG,GAAIP,MAAM,GAAV;MAC7BE,GAAG,CAACP,WAAW,CAAC,GAAGO,GAAG,CAACE,MAAI,CAAC,IAAIF,GAAG,CAACG,OAAK,CAAC,GAAGT,QAAQ,GAAGF,UAAU;MAClEQ,GAAG,CAACL,OAAO,CAAC,GAAG,CAACK,GAAG,CAACE,MAAI,CAAC,EAAEF,GAAG,CAACG,OAAK,CAAC,EAAEH,GAAG,CAACI,IAAI,CAAC,EAAEJ,GAAG,CAACK,GAAG,CAAC,CAAC;;IAE7D,OAAOL,GAAG;EACZ,CAAC,CAAC;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}