{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/* eslint-disable */\nif (!window) {\n  throw Error('TMap JSAPI can only be used in Browser.');\n}\nvar LoadStatus = /*#__PURE__*/function (LoadStatus) {\n  LoadStatus[\"notload\"] = \"notload\";\n  LoadStatus[\"loading\"] = \"loading\";\n  LoadStatus[\"loaded\"] = \"loaded\";\n  LoadStatus[\"failed\"] = \"failed\";\n  return LoadStatus;\n}(LoadStatus || {});\nvar config = {\n  key: '',\n  version: '1.exp',\n  libraries: []\n};\nvar Status = {\n  TMap: LoadStatus.notload\n};\nvar onloadCBKs = [];\n// @ts-ignore\nvar onload = function onload(callback) {\n  if (typeof callback === 'function') {\n    if (Status.TMap === LoadStatus.loaded) {\n      callback(window.AMap);\n      return;\n    }\n    onloadCBKs.push(callback);\n  }\n};\nvar load = function load(options) {\n  return new Promise(function (resolve, reject) {\n    if (Status.TMap === LoadStatus.failed) {\n      reject('');\n    } else if (Status.TMap === LoadStatus.notload) {\n      var key = options.key,\n        version = options.version,\n        libraries = options.libraries;\n      if (!key) {\n        reject('请填写key');\n        return;\n      }\n      config.key = key;\n      config.version = version || config.version;\n      config.libraries = libraries || config.libraries;\n      Status.TMap = LoadStatus.loading;\n      window._onTMapAPILoaded = function (err) {\n        delete window._onTMapAPILoaded;\n        if (err) {\n          Status.TMap = LoadStatus.failed;\n          reject(err);\n        } else {\n          Status.TMap = LoadStatus.loaded;\n          while (onloadCBKs.length) {\n            onloadCBKs.splice(0, 1)[0](window.TMap);\n          }\n        }\n      };\n      var script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.async = false;\n      script.src = 'https://map.qq.com/api/gljs?callback=_onTMapAPILoaded&v=' + config.version + '&key=' + key + '&plugin=' + config.libraries.join(',');\n      script.onerror = function (e) {\n        Status.TMap = LoadStatus.failed;\n        reject(e);\n      };\n      var parentNode = document.body || document.head;\n      parentNode.appendChild(script);\n      onload(resolve);\n    } else if (Status.TMap === LoadStatus.loaded) {\n      if (options.key && options.key !== config.key) {\n        reject('多个不一致的 key');\n        return;\n      }\n      if (options.version && options.version !== config.version) {\n        reject('不允许多个版本 JSAPI 混用');\n        return;\n      }\n      onload(resolve);\n    }\n  });\n};\nvar reset = function reset() {\n  // @ts-ignore\n  delete window.TMap;\n  Status = {\n    TMap: LoadStatus.notload\n  };\n};\nexport default {\n  load: load,\n  reset: reset\n};","map":{"version":3,"names":["window","Error","LoadStatus","config","key","version","libraries","Status","TMap","notload","onloadCBKs","onload","callback","loaded","AMap","push","load","options","Promise","resolve","reject","failed","loading","_onTMapAPILoaded","err","length","splice","script","document","createElement","type","async","src","join","onerror","e","parentNode","body","head","appendChild","reset"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-maps/es/tmap/maploader.js"],"sourcesContent":["/* eslint-disable */\nif (!window) {\n  throw Error('TMap JSAPI can only be used in Browser.');\n}\nvar LoadStatus = /*#__PURE__*/function (LoadStatus) {\n  LoadStatus[\"notload\"] = \"notload\";\n  LoadStatus[\"loading\"] = \"loading\";\n  LoadStatus[\"loaded\"] = \"loaded\";\n  LoadStatus[\"failed\"] = \"failed\";\n  return LoadStatus;\n}(LoadStatus || {});\nvar config = {\n  key: '',\n  version: '1.exp',\n  libraries: []\n};\nvar Status = {\n  TMap: LoadStatus.notload\n};\nvar onloadCBKs = [];\n// @ts-ignore\nvar onload = function onload(callback) {\n  if (typeof callback === 'function') {\n    if (Status.TMap === LoadStatus.loaded) {\n      callback(window.AMap);\n      return;\n    }\n    onloadCBKs.push(callback);\n  }\n};\nvar load = function load(options) {\n  return new Promise(function (resolve, reject) {\n    if (Status.TMap === LoadStatus.failed) {\n      reject('');\n    } else if (Status.TMap === LoadStatus.notload) {\n      var key = options.key,\n        version = options.version,\n        libraries = options.libraries;\n      if (!key) {\n        reject('请填写key');\n        return;\n      }\n      config.key = key;\n      config.version = version || config.version;\n      config.libraries = libraries || config.libraries;\n      Status.TMap = LoadStatus.loading;\n      window._onTMapAPILoaded = function (err) {\n        delete window._onTMapAPILoaded;\n        if (err) {\n          Status.TMap = LoadStatus.failed;\n          reject(err);\n        } else {\n          Status.TMap = LoadStatus.loaded;\n          while (onloadCBKs.length) {\n            onloadCBKs.splice(0, 1)[0](window.TMap);\n          }\n        }\n      };\n      var script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.async = false;\n      script.src = 'https://map.qq.com/api/gljs?callback=_onTMapAPILoaded&v=' + config.version + '&key=' + key + '&plugin=' + config.libraries.join(',');\n      script.onerror = function (e) {\n        Status.TMap = LoadStatus.failed;\n        reject(e);\n      };\n      var parentNode = document.body || document.head;\n      parentNode.appendChild(script);\n      onload(resolve);\n    } else if (Status.TMap === LoadStatus.loaded) {\n      if (options.key && options.key !== config.key) {\n        reject('多个不一致的 key');\n        return;\n      }\n      if (options.version && options.version !== config.version) {\n        reject('不允许多个版本 JSAPI 混用');\n        return;\n      }\n      onload(resolve);\n    }\n  });\n};\nvar reset = function reset() {\n  // @ts-ignore\n  delete window.TMap;\n  Status = {\n    TMap: LoadStatus.notload\n  };\n};\nexport default {\n  load: load,\n  reset: reset\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}