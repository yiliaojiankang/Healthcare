{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { modifyCSS, createDom } from '@antv/dom-util';\nimport { clone, isString } from '@antv/util';\nimport Base from '../base';\nimport insertCss from 'insert-css';\nvar DELTA = 0.05;\ntypeof document !== 'undefined' && insertCss(\"\\n  .g6-component-toolbar {\\n    position: absolute;\\n    list-style-type: none;\\n    padding: 6px;\\n    left: 0px;\\n    top: 0px;\\n    background-color: rgba(255, 255, 255, 0.9);\\n    border: 1px solid #e2e2e2;\\n    border-radius: 4px;\\n    font-size: 12px;\\n    color: #545454;\\n    margin: 0;\\n  }\\n  .g6-component-toolbar li {\\n    float: left;\\n    text-align: center;\\n    width: 35px;\\n    height: 24px;\\n    cursor: pointer;\\n\\t\\tlist-style-type:none;\\n    list-style: none;\\n    margin-left: 0px;\\n  }\\n  .g6-component-toolbar li .icon {\\n    opacity: 0.7;\\n  }\\n  .g6-component-toolbar li .icon:hover {\\n    opacity: 1;\\n  }\\n\");\nvar getEventPath = function getEventPath(evt) {\n  if (!evt) {\n    return [];\n  }\n  if (evt.composedPath) {\n    return evt.composedPath();\n  }\n  var path = [];\n  var el = evt.target;\n  while (el) {\n    path.push(el);\n    if (el.tagName === 'HTML') {\n      path.push(document, window);\n      return path;\n    }\n    el = el.parentElement;\n  }\n  return path;\n};\nvar ToolBar = /** @class */function (_super) {\n  __extends(ToolBar, _super);\n  function ToolBar(config) {\n    return _super.call(this, config) || this;\n  }\n  ToolBar.prototype.getDefaultCfgs = function () {\n    return {\n      handleClick: undefined,\n      // 指定菜单内容，function(e) {...}\n      getContent: function getContent(graph) {\n        return \"\\n          <ul class='g6-component-toolbar'>\\n            <li code='redo'>\\n              <svg class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\">\\n                <path d=\\\"M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z\\\" fill=\\\"\\\" p-id=\\\"2041\\\"></path>\\n              </svg>\\n            </li>\\n            <li code='undo'>\\n              <svg class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\">\\n                <path d=\\\"M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z\\\" fill=\\\"\\\" p-id=\\\"2764\\\"></path>\\n              </svg>\\n            </li>\\n            <li  code='zoomOut'>\\n              <svg class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\">\\n                <path d=\\\"M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z\\\"></path>\\n              </svg>\\n            </li>\\n            <li code='zoomIn'>\\n              <svg class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\">\\n                <path d=\\\"M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z\\\" p-id=\\\"3853\\\"></path>\\n              </svg>\\n            </li>\\n            <li code='realZoom'>\\n              <svg class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"20\\\" height=\\\"24\\\">\\n                <path d=\\\"M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z\\\"></path>\\n              </svg>\\n            </li>\\n            <li code='autoZoom'>\\n              <svg class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"20\\\" height=\\\"24\\\">\\n                <path d=\\\"M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z\\\"></path>\\n              </svg>\\n            </li>\\n          </ul>\\n        \";\n      },\n      zoomSensitivity: 2\n    };\n  };\n  ToolBar.prototype.init = function () {\n    var _this = this;\n    var graph = this.get('graph');\n    var getContent = this.get('getContent');\n    var toolBar = getContent(graph);\n    var toolBarDOM = toolBar;\n    if (isString(toolBar)) {\n      toolBarDOM = createDom(toolBar);\n    }\n    var className = this.get('className');\n    toolBarDOM.setAttribute('class', className || 'g6-component-toolbar');\n    var container = this.get('container');\n    if (!container) {\n      container = this.get('graph').get('container');\n    }\n    if (isString(container)) {\n      container = document.getElementById(container);\n    }\n    container.appendChild(toolBarDOM);\n    this.set('toolBar', toolBarDOM);\n    var handleClick = this.get('handleClick');\n    toolBarDOM.addEventListener('click', function (evt) {\n      var current = getEventPath(evt).filter(function (p) {\n        return p.nodeName === 'LI';\n      });\n      if (current.length === 0) {\n        return;\n      }\n      var code = current[0].getAttribute('code');\n      if (!code) {\n        return;\n      }\n      if (handleClick) {\n        handleClick(code, graph);\n      } else {\n        _this.handleDefaultOperator(code);\n      }\n    });\n    var pos = this.get('position');\n    if (pos) {\n      modifyCSS(toolBarDOM, {\n        top: \"\".concat(pos.y, \"px\"),\n        left: \"\".concat(pos.x, \"px\")\n      });\n    }\n    this.bindUndoRedo();\n  };\n  ToolBar.prototype.bindUndoRedo = function () {\n    var graph = this.get('graph');\n    var undoDom = document.querySelector('.g6-component-toolbar li[code=\"undo\"]');\n    var undoDomIcon = document.querySelector('.g6-component-toolbar li[code=\"undo\"] svg');\n    var redoDom = document.querySelector('.g6-component-toolbar li[code=\"redo\"]');\n    var redoDomIcon = document.querySelector('.g6-component-toolbar li[code=\"redo\"] svg');\n    if (!undoDom || !undoDomIcon || !redoDom || !redoDomIcon) {\n      return;\n    }\n    // initialy disabled redo and undo icons\n    undoDom.setAttribute('style', 'cursor: not-allowed');\n    undoDomIcon.setAttribute('style', 'opacity: 0.4');\n    redoDom.setAttribute('style', 'cursor: not-allowed');\n    redoDomIcon.setAttribute('style', 'opacity: 0.4');\n    graph.on('stackchange', function (evt) {\n      var undoStack = evt.undoStack,\n        redoStack = evt.redoStack;\n      var undoStackLen = undoStack.length;\n      var redoStackLen = redoStack.length;\n      // undo 不可用\n      if (undoStackLen === 0) {\n        undoDom.setAttribute('style', 'cursor: not-allowed');\n        undoDomIcon.setAttribute('style', 'opacity: 0.4');\n      } else {\n        undoDom.removeAttribute('style');\n        undoDomIcon.removeAttribute('style');\n      }\n      // redo 不可用\n      if (redoStackLen === 0) {\n        redoDom.setAttribute('style', 'cursor: not-allowed');\n        redoDomIcon.setAttribute('style', 'opacity: 0.4');\n      } else {\n        redoDom.removeAttribute('style');\n        redoDomIcon.removeAttribute('style');\n      }\n    });\n  };\n  /**\n   * undo 操作\n   */\n  ToolBar.prototype.undo = function () {\n    var graph = this.get('graph');\n    var undoStack = graph.getUndoStack();\n    if (!undoStack || undoStack.length === 0) {\n      return;\n    }\n    var currentData = undoStack.pop();\n    if (currentData) {\n      var action = currentData.action;\n      graph.pushStack(action, clone(currentData.data), 'redo');\n      var data_1 = currentData.data.before;\n      if (action === 'add') {\n        data_1 = currentData.data.after;\n      }\n      if (!data_1) return;\n      switch (action) {\n        case 'visible':\n          {\n            Object.keys(data_1).forEach(function (key) {\n              var array = data_1[key];\n              if (!array) return;\n              array.forEach(function (model) {\n                var item = graph.findById(model.id);\n                if (model.visible) {\n                  graph.showItem(item, false);\n                } else {\n                  graph.hideItem(item, false);\n                }\n              });\n            });\n            break;\n          }\n        case 'render':\n        case 'update':\n          Object.keys(data_1).forEach(function (key) {\n            var array = data_1[key];\n            if (!array) return;\n            array.forEach(function (model) {\n              var item = graph.findById(model.id);\n              delete model.id;\n              graph.updateItem(item, model, false);\n              if (item.getType() === 'combo') graph.updateCombo(item);\n            });\n          });\n          break;\n        case 'changedata':\n          graph.changeData(data_1, false);\n          break;\n        case 'delete':\n          {\n            Object.keys(data_1).forEach(function (key) {\n              var array = data_1[key];\n              if (!array) return;\n              array.forEach(function (model) {\n                var itemType = model.itemType;\n                delete model.itemType;\n                graph.addItem(itemType, model, false);\n              });\n            });\n            break;\n          }\n        case 'add':\n          Object.keys(data_1).forEach(function (key) {\n            var array = data_1[key];\n            if (!array) return;\n            array.forEach(function (model) {\n              graph.removeItem(model.id, false);\n            });\n          });\n          break;\n        case 'updateComboTree':\n          Object.keys(data_1).forEach(function (key) {\n            var array = data_1[key];\n            if (!array) return;\n            array.forEach(function (model) {\n              graph.updateComboTree(model.id, model.parentId, false);\n            });\n          });\n          break;\n        case 'createCombo':\n          var afterCombos = currentData.data.after.combos;\n          var createdCombo = afterCombos[afterCombos.length - 1];\n          Object.keys(data_1).forEach(function (key) {\n            var array = data_1[key];\n            if (!array) return;\n            array.forEach(function (model) {\n              graph.updateComboTree(model.id, model.parentId, false);\n            });\n          });\n          graph.removeItem(createdCombo.id, false);\n          break;\n        case 'uncombo':\n          var targetCombo_1 = data_1.combos[data_1.combos.length - 1];\n          var childrenIds = data_1.nodes.concat(data_1.combos).map(function (child) {\n            return child.id;\n          }).filter(function (id) {\n            return id !== targetCombo_1.id;\n          });\n          graph.createCombo(targetCombo_1, childrenIds, false);\n          break;\n        case 'layout':\n          graph.updateLayout(data_1, undefined, undefined, false);\n          break;\n        default:\n      }\n    }\n  };\n  /**\n   * redo 操作\n   */\n  ToolBar.prototype.redo = function () {\n    var graph = this.get('graph');\n    var redoStack = graph.getRedoStack();\n    if (!redoStack || redoStack.length === 0) {\n      return;\n    }\n    var currentData = redoStack.pop();\n    if (currentData) {\n      var action = currentData.action;\n      var data_2 = currentData.data.after;\n      graph.pushStack(action, clone(currentData.data));\n      if (action === 'delete') {\n        data_2 = currentData.data.before;\n      }\n      if (!data_2) return;\n      switch (action) {\n        case 'visible':\n          {\n            Object.keys(data_2).forEach(function (key) {\n              var array = data_2[key];\n              if (!array) return;\n              array.forEach(function (model) {\n                var item = graph.findById(model.id);\n                if (model.visible) {\n                  graph.showItem(item, false);\n                } else {\n                  graph.hideItem(item, false);\n                }\n              });\n            });\n            break;\n          }\n        case 'render':\n        case 'update':\n          Object.keys(data_2).forEach(function (key) {\n            var array = data_2[key];\n            if (!array) return;\n            array.forEach(function (model) {\n              var item = graph.findById(model.id);\n              delete model.id;\n              graph.updateItem(item, model, false);\n              if (item.getType() === 'combo') graph.updateCombo(item);\n            });\n          });\n          break;\n        case 'changedata':\n          graph.changeData(data_2, false);\n          break;\n        case 'delete':\n          if (data_2.edges) {\n            data_2.edges.forEach(function (model) {\n              graph.removeItem(model.id, false);\n            });\n          }\n          if (data_2.nodes) {\n            data_2.nodes.forEach(function (model) {\n              graph.removeItem(model.id, false);\n            });\n          }\n          if (data_2.combos) {\n            data_2.combos.forEach(function (model) {\n              graph.removeItem(model.id, false);\n            });\n          }\n          break;\n        case 'add':\n          {\n            Object.keys(data_2).forEach(function (key) {\n              var array = data_2[key];\n              if (!array) return;\n              array.forEach(function (model) {\n                var itemType = model.itemType;\n                delete model.itemType;\n                graph.addItem(itemType, model, false);\n              });\n            });\n            break;\n          }\n        case 'updateComboTree':\n          Object.keys(data_2).forEach(function (key) {\n            var array = data_2[key];\n            if (!array) return;\n            array.forEach(function (model) {\n              graph.updateComboTree(model.id, model.parentId, false);\n            });\n          });\n          break;\n        case 'createCombo':\n          var createdCombo = data_2.combos[data_2.combos.length - 1];\n          graph.createCombo(createdCombo, createdCombo.children.map(function (child) {\n            return child.id;\n          }), false);\n          break;\n        case 'uncombo':\n          var beforeCombos = currentData.data.before.combos;\n          var targertCombo = beforeCombos[beforeCombos.length - 1];\n          graph.uncombo(targertCombo.id, false);\n          break;\n        case 'layout':\n          graph.updateLayout(data_2, undefined, undefined, false);\n          break;\n        default:\n      }\n    }\n  };\n  /**\n   * zoomOut 操作\n   */\n  ToolBar.prototype.zoomOut = function () {\n    var graph = this.get('graph');\n    var currentZoom = graph.getZoom();\n    var ratioOut = 1 / (1 - DELTA * this.get('zoomSensitivity'));\n    var maxZoom = this.get('maxZoom') || graph.get('maxZoom');\n    if (ratioOut * currentZoom > maxZoom) {\n      return;\n    }\n    graph.zoomTo(currentZoom * ratioOut);\n  };\n  /**\n   * zoomIn 操作\n   */\n  ToolBar.prototype.zoomIn = function () {\n    var graph = this.get('graph');\n    var currentZoom = graph.getZoom();\n    var ratioIn = 1 - DELTA * this.get('zoomSensitivity');\n    var minZoom = this.get('minZoom') || graph.get('minZoom');\n    if (ratioIn * currentZoom < minZoom) {\n      return;\n    }\n    graph.zoomTo(currentZoom * ratioIn);\n  };\n  /**\n   * realZoom 操作\n   */\n  ToolBar.prototype.realZoom = function () {\n    var graph = this.get('graph');\n    graph.zoomTo(1);\n  };\n  /**\n   * autoZoom 操作\n   */\n  ToolBar.prototype.autoZoom = function () {\n    var graph = this.get('graph');\n    graph.fitView([20, 20]);\n  };\n  /**\n   * 根据 Toolbar 上不同类型对图进行操作\n   * @param code 操作类型编码\n   * @param graph Graph 实例\n   */\n  ToolBar.prototype.handleDefaultOperator = function (code) {\n    switch (code) {\n      case 'redo':\n        this.redo();\n        break;\n      case 'undo':\n        this.undo();\n        break;\n      case 'zoomOut':\n        this.zoomOut();\n        break;\n      case 'zoomIn':\n        this.zoomIn();\n        break;\n      case 'realZoom':\n        this.realZoom();\n        break;\n      case 'autoZoom':\n        this.autoZoom();\n        break;\n      default:\n    }\n  };\n  ToolBar.prototype.destroy = function () {\n    var toolBar = this.get('toolBar');\n    if (toolBar) {\n      var container = this.get('container');\n      if (!container) {\n        container = this.get('graph').get('container');\n      }\n      if (isString(container)) {\n        container = document.getElementById(container);\n      }\n      container.removeChild(toolBar);\n    }\n    var handleClick = this.get('handleClick');\n    if (handleClick) {\n      toolBar.removeEventListener('click', handleClick);\n    }\n  };\n  return ToolBar;\n}(Base);\nexport default ToolBar;","map":{"version":3,"names":["__extends","_extendStatics","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","modifyCSS","createDom","clone","isString","Base","insertCss","DELTA","document","getEventPath","evt","composedPath","path","el","target","push","tagName","window","parentElement","ToolBar","_super","config","getDefaultCfgs","handleClick","undefined","getContent","graph","zoomSensitivity","init","_this","get","toolBar","toolBarDOM","className","setAttribute","container","getElementById","appendChild","set","addEventListener","current","filter","nodeName","length","code","getAttribute","handleDefaultOperator","pos","top","concat","y","left","x","bindUndoRedo","undoDom","querySelector","undoDomIcon","redoDom","redoDomIcon","on","undoStack","redoStack","undoStackLen","redoStackLen","removeAttribute","undo","getUndoStack","currentData","pop","action","pushStack","data","data_1","before","after","keys","forEach","key","array","model","item","findById","id","visible","showItem","hideItem","updateItem","getType","updateCombo","changeData","itemType","addItem","removeItem","updateComboTree","parentId","afterCombos","combos","createdCombo","targetCombo_1","childrenIds","nodes","map","child","createCombo","updateLayout","redo","getRedoStack","data_2","edges","children","beforeCombos","targertCombo","uncombo","zoomOut","currentZoom","getZoom","ratioOut","maxZoom","zoomTo","zoomIn","ratioIn","minZoom","realZoom","autoZoom","fitView","destroy","removeChild","removeEventListener"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/g6-plugin/es/toolBar/index.js"],"sourcesContent":["var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { modifyCSS, createDom } from '@antv/dom-util';\nimport { clone, isString } from '@antv/util';\nimport Base from '../base';\nimport insertCss from 'insert-css';\nvar DELTA = 0.05;\ntypeof document !== 'undefined' && insertCss(\"\\n  .g6-component-toolbar {\\n    position: absolute;\\n    list-style-type: none;\\n    padding: 6px;\\n    left: 0px;\\n    top: 0px;\\n    background-color: rgba(255, 255, 255, 0.9);\\n    border: 1px solid #e2e2e2;\\n    border-radius: 4px;\\n    font-size: 12px;\\n    color: #545454;\\n    margin: 0;\\n  }\\n  .g6-component-toolbar li {\\n    float: left;\\n    text-align: center;\\n    width: 35px;\\n    height: 24px;\\n    cursor: pointer;\\n\\t\\tlist-style-type:none;\\n    list-style: none;\\n    margin-left: 0px;\\n  }\\n  .g6-component-toolbar li .icon {\\n    opacity: 0.7;\\n  }\\n  .g6-component-toolbar li .icon:hover {\\n    opacity: 1;\\n  }\\n\");\nvar getEventPath = function getEventPath(evt) {\n  if (!evt) {\n    return [];\n  }\n  if (evt.composedPath) {\n    return evt.composedPath();\n  }\n  var path = [];\n  var el = evt.target;\n  while (el) {\n    path.push(el);\n    if (el.tagName === 'HTML') {\n      path.push(document, window);\n      return path;\n    }\n    el = el.parentElement;\n  }\n  return path;\n};\nvar ToolBar = /** @class */function (_super) {\n  __extends(ToolBar, _super);\n  function ToolBar(config) {\n    return _super.call(this, config) || this;\n  }\n  ToolBar.prototype.getDefaultCfgs = function () {\n    return {\n      handleClick: undefined,\n      // 指定菜单内容，function(e) {...}\n      getContent: function getContent(graph) {\n        return \"\\n          <ul class='g6-component-toolbar'>\\n            <li code='redo'>\\n              <svg class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\">\\n                <path d=\\\"M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z\\\" fill=\\\"\\\" p-id=\\\"2041\\\"></path>\\n              </svg>\\n            </li>\\n            <li code='undo'>\\n              <svg class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\">\\n                <path d=\\\"M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z\\\" fill=\\\"\\\" p-id=\\\"2764\\\"></path>\\n              </svg>\\n            </li>\\n            <li  code='zoomOut'>\\n              <svg class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\">\\n                <path d=\\\"M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z\\\"></path>\\n              </svg>\\n            </li>\\n            <li code='zoomIn'>\\n              <svg class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\">\\n                <path d=\\\"M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z\\\" p-id=\\\"3853\\\"></path>\\n              </svg>\\n            </li>\\n            <li code='realZoom'>\\n              <svg class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"20\\\" height=\\\"24\\\">\\n                <path d=\\\"M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z\\\"></path>\\n              </svg>\\n            </li>\\n            <li code='autoZoom'>\\n              <svg class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"20\\\" height=\\\"24\\\">\\n                <path d=\\\"M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z\\\"></path>\\n              </svg>\\n            </li>\\n          </ul>\\n        \";\n      },\n      zoomSensitivity: 2\n    };\n  };\n  ToolBar.prototype.init = function () {\n    var _this = this;\n    var graph = this.get('graph');\n    var getContent = this.get('getContent');\n    var toolBar = getContent(graph);\n    var toolBarDOM = toolBar;\n    if (isString(toolBar)) {\n      toolBarDOM = createDom(toolBar);\n    }\n    var className = this.get('className');\n    toolBarDOM.setAttribute('class', className || 'g6-component-toolbar');\n    var container = this.get('container');\n    if (!container) {\n      container = this.get('graph').get('container');\n    }\n    if (isString(container)) {\n      container = document.getElementById(container);\n    }\n    container.appendChild(toolBarDOM);\n    this.set('toolBar', toolBarDOM);\n    var handleClick = this.get('handleClick');\n    toolBarDOM.addEventListener('click', function (evt) {\n      var current = getEventPath(evt).filter(function (p) {\n        return p.nodeName === 'LI';\n      });\n      if (current.length === 0) {\n        return;\n      }\n      var code = current[0].getAttribute('code');\n      if (!code) {\n        return;\n      }\n      if (handleClick) {\n        handleClick(code, graph);\n      } else {\n        _this.handleDefaultOperator(code);\n      }\n    });\n    var pos = this.get('position');\n    if (pos) {\n      modifyCSS(toolBarDOM, {\n        top: \"\".concat(pos.y, \"px\"),\n        left: \"\".concat(pos.x, \"px\")\n      });\n    }\n    this.bindUndoRedo();\n  };\n  ToolBar.prototype.bindUndoRedo = function () {\n    var graph = this.get('graph');\n    var undoDom = document.querySelector('.g6-component-toolbar li[code=\"undo\"]');\n    var undoDomIcon = document.querySelector('.g6-component-toolbar li[code=\"undo\"] svg');\n    var redoDom = document.querySelector('.g6-component-toolbar li[code=\"redo\"]');\n    var redoDomIcon = document.querySelector('.g6-component-toolbar li[code=\"redo\"] svg');\n    if (!undoDom || !undoDomIcon || !redoDom || !redoDomIcon) {\n      return;\n    }\n    // initialy disabled redo and undo icons\n    undoDom.setAttribute('style', 'cursor: not-allowed');\n    undoDomIcon.setAttribute('style', 'opacity: 0.4');\n    redoDom.setAttribute('style', 'cursor: not-allowed');\n    redoDomIcon.setAttribute('style', 'opacity: 0.4');\n    graph.on('stackchange', function (evt) {\n      var undoStack = evt.undoStack,\n        redoStack = evt.redoStack;\n      var undoStackLen = undoStack.length;\n      var redoStackLen = redoStack.length;\n      // undo 不可用\n      if (undoStackLen === 0) {\n        undoDom.setAttribute('style', 'cursor: not-allowed');\n        undoDomIcon.setAttribute('style', 'opacity: 0.4');\n      } else {\n        undoDom.removeAttribute('style');\n        undoDomIcon.removeAttribute('style');\n      }\n      // redo 不可用\n      if (redoStackLen === 0) {\n        redoDom.setAttribute('style', 'cursor: not-allowed');\n        redoDomIcon.setAttribute('style', 'opacity: 0.4');\n      } else {\n        redoDom.removeAttribute('style');\n        redoDomIcon.removeAttribute('style');\n      }\n    });\n  };\n  /**\n   * undo 操作\n   */\n  ToolBar.prototype.undo = function () {\n    var graph = this.get('graph');\n    var undoStack = graph.getUndoStack();\n    if (!undoStack || undoStack.length === 0) {\n      return;\n    }\n    var currentData = undoStack.pop();\n    if (currentData) {\n      var action = currentData.action;\n      graph.pushStack(action, clone(currentData.data), 'redo');\n      var data_1 = currentData.data.before;\n      if (action === 'add') {\n        data_1 = currentData.data.after;\n      }\n      if (!data_1) return;\n      switch (action) {\n        case 'visible':\n          {\n            Object.keys(data_1).forEach(function (key) {\n              var array = data_1[key];\n              if (!array) return;\n              array.forEach(function (model) {\n                var item = graph.findById(model.id);\n                if (model.visible) {\n                  graph.showItem(item, false);\n                } else {\n                  graph.hideItem(item, false);\n                }\n              });\n            });\n            break;\n          }\n        case 'render':\n        case 'update':\n          Object.keys(data_1).forEach(function (key) {\n            var array = data_1[key];\n            if (!array) return;\n            array.forEach(function (model) {\n              var item = graph.findById(model.id);\n              delete model.id;\n              graph.updateItem(item, model, false);\n              if (item.getType() === 'combo') graph.updateCombo(item);\n            });\n          });\n          break;\n        case 'changedata':\n          graph.changeData(data_1, false);\n          break;\n        case 'delete':\n          {\n            Object.keys(data_1).forEach(function (key) {\n              var array = data_1[key];\n              if (!array) return;\n              array.forEach(function (model) {\n                var itemType = model.itemType;\n                delete model.itemType;\n                graph.addItem(itemType, model, false);\n              });\n            });\n            break;\n          }\n        case 'add':\n          Object.keys(data_1).forEach(function (key) {\n            var array = data_1[key];\n            if (!array) return;\n            array.forEach(function (model) {\n              graph.removeItem(model.id, false);\n            });\n          });\n          break;\n        case 'updateComboTree':\n          Object.keys(data_1).forEach(function (key) {\n            var array = data_1[key];\n            if (!array) return;\n            array.forEach(function (model) {\n              graph.updateComboTree(model.id, model.parentId, false);\n            });\n          });\n          break;\n        case 'createCombo':\n          var afterCombos = currentData.data.after.combos;\n          var createdCombo = afterCombos[afterCombos.length - 1];\n          Object.keys(data_1).forEach(function (key) {\n            var array = data_1[key];\n            if (!array) return;\n            array.forEach(function (model) {\n              graph.updateComboTree(model.id, model.parentId, false);\n            });\n          });\n          graph.removeItem(createdCombo.id, false);\n          break;\n        case 'uncombo':\n          var targetCombo_1 = data_1.combos[data_1.combos.length - 1];\n          var childrenIds = data_1.nodes.concat(data_1.combos).map(function (child) {\n            return child.id;\n          }).filter(function (id) {\n            return id !== targetCombo_1.id;\n          });\n          graph.createCombo(targetCombo_1, childrenIds, false);\n          break;\n        case 'layout':\n          graph.updateLayout(data_1, undefined, undefined, false);\n          break;\n        default:\n      }\n    }\n  };\n  /**\n   * redo 操作\n   */\n  ToolBar.prototype.redo = function () {\n    var graph = this.get('graph');\n    var redoStack = graph.getRedoStack();\n    if (!redoStack || redoStack.length === 0) {\n      return;\n    }\n    var currentData = redoStack.pop();\n    if (currentData) {\n      var action = currentData.action;\n      var data_2 = currentData.data.after;\n      graph.pushStack(action, clone(currentData.data));\n      if (action === 'delete') {\n        data_2 = currentData.data.before;\n      }\n      if (!data_2) return;\n      switch (action) {\n        case 'visible':\n          {\n            Object.keys(data_2).forEach(function (key) {\n              var array = data_2[key];\n              if (!array) return;\n              array.forEach(function (model) {\n                var item = graph.findById(model.id);\n                if (model.visible) {\n                  graph.showItem(item, false);\n                } else {\n                  graph.hideItem(item, false);\n                }\n              });\n            });\n            break;\n          }\n        case 'render':\n        case 'update':\n          Object.keys(data_2).forEach(function (key) {\n            var array = data_2[key];\n            if (!array) return;\n            array.forEach(function (model) {\n              var item = graph.findById(model.id);\n              delete model.id;\n              graph.updateItem(item, model, false);\n              if (item.getType() === 'combo') graph.updateCombo(item);\n            });\n          });\n          break;\n        case 'changedata':\n          graph.changeData(data_2, false);\n          break;\n        case 'delete':\n          if (data_2.edges) {\n            data_2.edges.forEach(function (model) {\n              graph.removeItem(model.id, false);\n            });\n          }\n          if (data_2.nodes) {\n            data_2.nodes.forEach(function (model) {\n              graph.removeItem(model.id, false);\n            });\n          }\n          if (data_2.combos) {\n            data_2.combos.forEach(function (model) {\n              graph.removeItem(model.id, false);\n            });\n          }\n          break;\n        case 'add':\n          {\n            Object.keys(data_2).forEach(function (key) {\n              var array = data_2[key];\n              if (!array) return;\n              array.forEach(function (model) {\n                var itemType = model.itemType;\n                delete model.itemType;\n                graph.addItem(itemType, model, false);\n              });\n            });\n            break;\n          }\n        case 'updateComboTree':\n          Object.keys(data_2).forEach(function (key) {\n            var array = data_2[key];\n            if (!array) return;\n            array.forEach(function (model) {\n              graph.updateComboTree(model.id, model.parentId, false);\n            });\n          });\n          break;\n        case 'createCombo':\n          var createdCombo = data_2.combos[data_2.combos.length - 1];\n          graph.createCombo(createdCombo, createdCombo.children.map(function (child) {\n            return child.id;\n          }), false);\n          break;\n        case 'uncombo':\n          var beforeCombos = currentData.data.before.combos;\n          var targertCombo = beforeCombos[beforeCombos.length - 1];\n          graph.uncombo(targertCombo.id, false);\n          break;\n        case 'layout':\n          graph.updateLayout(data_2, undefined, undefined, false);\n          break;\n        default:\n      }\n    }\n  };\n  /**\n   * zoomOut 操作\n   */\n  ToolBar.prototype.zoomOut = function () {\n    var graph = this.get('graph');\n    var currentZoom = graph.getZoom();\n    var ratioOut = 1 / (1 - DELTA * this.get('zoomSensitivity'));\n    var maxZoom = this.get('maxZoom') || graph.get('maxZoom');\n    if (ratioOut * currentZoom > maxZoom) {\n      return;\n    }\n    graph.zoomTo(currentZoom * ratioOut);\n  };\n  /**\n   * zoomIn 操作\n   */\n  ToolBar.prototype.zoomIn = function () {\n    var graph = this.get('graph');\n    var currentZoom = graph.getZoom();\n    var ratioIn = 1 - DELTA * this.get('zoomSensitivity');\n    var minZoom = this.get('minZoom') || graph.get('minZoom');\n    if (ratioIn * currentZoom < minZoom) {\n      return;\n    }\n    graph.zoomTo(currentZoom * ratioIn);\n  };\n  /**\n   * realZoom 操作\n   */\n  ToolBar.prototype.realZoom = function () {\n    var graph = this.get('graph');\n    graph.zoomTo(1);\n  };\n  /**\n   * autoZoom 操作\n   */\n  ToolBar.prototype.autoZoom = function () {\n    var graph = this.get('graph');\n    graph.fitView([20, 20]);\n  };\n  /**\n   * 根据 Toolbar 上不同类型对图进行操作\n   * @param code 操作类型编码\n   * @param graph Graph 实例\n   */\n  ToolBar.prototype.handleDefaultOperator = function (code) {\n    switch (code) {\n      case 'redo':\n        this.redo();\n        break;\n      case 'undo':\n        this.undo();\n        break;\n      case 'zoomOut':\n        this.zoomOut();\n        break;\n      case 'zoomIn':\n        this.zoomIn();\n        break;\n      case 'realZoom':\n        this.realZoom();\n        break;\n      case 'autoZoom':\n        this.autoZoom();\n        break;\n      default:\n    }\n  };\n  ToolBar.prototype.destroy = function () {\n    var toolBar = this.get('toolBar');\n    if (toolBar) {\n      var container = this.get('container');\n      if (!container) {\n        container = this.get('graph').get('container');\n      }\n      if (isString(container)) {\n        container = document.getElementById(container);\n      }\n      container.removeChild(toolBar);\n    }\n    var handleClick = this.get('handleClick');\n    if (handleClick) {\n      toolBar.removeEventListener('click', handleClick);\n    }\n  };\n  return ToolBar;\n}(Base);\nexport default ToolBar;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}