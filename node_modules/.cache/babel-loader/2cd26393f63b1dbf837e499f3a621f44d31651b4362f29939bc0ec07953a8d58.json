{"ast":null,"code":"import { clone, isPlainObject, lowerCase, mix } from '@antv/util';\nimport GrammarInteraction from './grammar-interaction';\nvar Interactions = {};\n/**\n * 根据交互行为名字获取对应的交互类\n * @param name 交互名字\n * @returns 交互类\n */\nexport function getInteraction(name) {\n  return Interactions[lowerCase(name)];\n}\n/**\n * 注册交互行为\n * @param name 交互行为名字\n * @param interaction 交互类\n */\nexport function registerInteraction(name, interaction) {\n  Interactions[lowerCase(name)] = interaction;\n}\n/**\n * 创建交互实例\n * @param name 交互名\n * @param view 交互应用的 View 实例\n * @param cfg 交互行为配置\n */\nexport function createInteraction(name, view, cfg) {\n  var interaciton = getInteraction(name);\n  if (!interaciton) {\n    return null;\n  }\n  if (isPlainObject(interaciton)) {\n    // 如果不 clone 则会多个 interaction 实例共享 step 的定义\n    var steps = mix(clone(interaciton), cfg);\n    return new GrammarInteraction(view, steps);\n  } else {\n    var cls = interaciton;\n    return new cls(view, cfg);\n  }\n}\nexport { default as Interaction } from './interaction';\nexport { Action, registerAction, getActionClass } from './action';","map":{"version":3,"names":["clone","isPlainObject","lowerCase","mix","GrammarInteraction","Interactions","getInteraction","name","registerInteraction","interaction","createInteraction","view","cfg","interaciton","steps","cls","default","Interaction","Action","registerAction","getActionClass"],"sources":["../../src/interaction/index.ts"],"sourcesContent":["import { clone, isPlainObject, lowerCase, mix } from '@antv/util';\nimport { View } from '../chart';\nimport { LooseObject } from '../interface';\nimport GrammarInteraction, { InteractionSteps } from './grammar-interaction';\nimport { InteractionConstructor } from './interaction';\n\nconst Interactions: LooseObject = {};\n\n/**\n * 根据交互行为名字获取对应的交互类\n * @param name 交互名字\n * @returns 交互类\n */\nexport function getInteraction(name: string): InteractionSteps | InteractionConstructor {\n  return Interactions[lowerCase(name)];\n}\n\n/**\n * 注册交互行为\n * @param name 交互行为名字\n * @param interaction 交互类\n */\nexport function registerInteraction(name: string, interaction: InteractionSteps | InteractionConstructor) {\n  Interactions[lowerCase(name)] = interaction;\n}\n\n/**\n * 创建交互实例\n * @param name 交互名\n * @param view 交互应用的 View 实例\n * @param cfg 交互行为配置\n */\nexport function createInteraction(name: string, view: View, cfg?: LooseObject) {\n  const interaciton = getInteraction(name);\n  if (!interaciton) {\n    return null;\n  }\n  if (isPlainObject(interaciton)) {\n    // 如果不 clone 则会多个 interaction 实例共享 step 的定义\n    const steps = mix(clone(interaciton), cfg) as InteractionSteps;\n    return new GrammarInteraction(view, steps);\n  } else {\n    const cls = interaciton as InteractionConstructor;\n    return new cls(view, cfg);\n  }\n}\n\nexport { default as Interaction } from './interaction';\nexport { Action, registerAction, getActionClass } from './action';\n"],"mappings":"AAAA,SAASA,KAAK,EAAEC,aAAa,EAAEC,SAAS,EAAEC,GAAG,QAAQ,YAAY;AAGjE,OAAOC,kBAAwC,MAAM,uBAAuB;AAG5E,IAAMC,YAAY,GAAgB,EAAE;AAEpC;;;;;AAKA,OAAM,SAAUC,cAAcA,CAACC,IAAY;EACzC,OAAOF,YAAY,CAACH,SAAS,CAACK,IAAI,CAAC,CAAC;AACtC;AAEA;;;;;AAKA,OAAM,SAAUC,mBAAmBA,CAACD,IAAY,EAAEE,WAAsD;EACtGJ,YAAY,CAACH,SAAS,CAACK,IAAI,CAAC,CAAC,GAAGE,WAAW;AAC7C;AAEA;;;;;;AAMA,OAAM,SAAUC,iBAAiBA,CAACH,IAAY,EAAEI,IAAU,EAAEC,GAAiB;EAC3E,IAAMC,WAAW,GAAGP,cAAc,CAACC,IAAI,CAAC;EACxC,IAAI,CAACM,WAAW,EAAE;IAChB,OAAO,IAAI;;EAEb,IAAIZ,aAAa,CAACY,WAAW,CAAC,EAAE;IAC9B;IACA,IAAMC,KAAK,GAAGX,GAAG,CAACH,KAAK,CAACa,WAAW,CAAC,EAAED,GAAG,CAAqB;IAC9D,OAAO,IAAIR,kBAAkB,CAACO,IAAI,EAAEG,KAAK,CAAC;GAC3C,MAAM;IACL,IAAMC,GAAG,GAAGF,WAAqC;IACjD,OAAO,IAAIE,GAAG,CAACJ,IAAI,EAAEC,GAAG,CAAC;;AAE7B;AAEA,SAASI,OAAO,IAAIC,WAAW,QAAQ,eAAe;AACtD,SAASC,MAAM,EAAEC,cAAc,EAAEC,cAAc,QAAQ,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}