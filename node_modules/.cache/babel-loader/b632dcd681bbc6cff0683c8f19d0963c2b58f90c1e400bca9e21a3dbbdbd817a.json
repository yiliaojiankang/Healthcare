{"ast":null,"code":"\"use strict\";\n\n/**\n * @fileOverview random layout\n * @author shiwu.wyy@antfin.com\n */\nrequire(\"core-js/modules/es.array.push.js\");\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RadialLayout = void 0;\nvar util_1 = require(\"../../util\");\nvar base_1 = require(\"../base\");\nvar mds_1 = __importDefault(require(\"./mds\"));\nvar radialNonoverlapForce_1 = __importDefault(require(\"./radialNonoverlapForce\"));\nfunction getWeightMatrix(M) {\n  var rows = M.length;\n  var cols = M[0].length;\n  var result = [];\n  for (var i = 0; i < rows; i++) {\n    var row = [];\n    for (var j = 0; j < cols; j++) {\n      if (M[i][j] !== 0) {\n        row.push(1 / (M[i][j] * M[i][j]));\n      } else {\n        row.push(0);\n      }\n    }\n    result.push(row);\n  }\n  return result;\n}\nfunction getIndexById(array, id) {\n  var index = -1;\n  array.forEach(function (a, i) {\n    if (a.id === id) {\n      index = i;\n    }\n  });\n  return index;\n}\nfunction getEDistance(p1, p2) {\n  return Math.sqrt((p1[0] - p2[0]) * (p1[0] - p2[0]) + (p1[1] - p2[1]) * (p1[1] - p2[1]));\n}\n/**\n * 辐射状布局\n */\nvar RadialLayout = /** @class */function (_super) {\n  __extends(RadialLayout, _super);\n  function RadialLayout(options) {\n    var _this = _super.call(this) || this;\n    /** 停止迭代的最大迭代数 */\n    _this.maxIteration = 1000;\n    /** 中心点，默认为数据中第一个点 */\n    _this.focusNode = null;\n    /** 每一圈半径 */\n    _this.unitRadius = null;\n    /** 默认边长度 */\n    _this.linkDistance = 50;\n    /** 是否防止重叠 */\n    _this.preventOverlap = false;\n    /** 是否必须是严格的 radial 布局，即每一层的节点严格布局在一个环上。preventOverlap 为 true 时生效 */\n    _this.strictRadial = true;\n    /** 防止重叠步骤的最大迭代次数 */\n    _this.maxPreventOverlapIteration = 200;\n    _this.sortStrength = 10;\n    _this.nodes = [];\n    _this.edges = [];\n    _this.updateCfg(options);\n    return _this;\n  }\n  RadialLayout.prototype.getDefaultCfg = function () {\n    return {\n      maxIteration: 1000,\n      focusNode: null,\n      unitRadius: null,\n      linkDistance: 50,\n      preventOverlap: false,\n      nodeSize: undefined,\n      nodeSpacing: undefined,\n      strictRadial: true,\n      maxPreventOverlapIteration: 200,\n      sortBy: undefined,\n      sortStrength: 10\n    };\n  };\n  /**\n   * 执行布局\n   */\n  RadialLayout.prototype.execute = function () {\n    var self = this;\n    var nodes = self.nodes;\n    var edges = self.edges || [];\n    if (!nodes || nodes.length === 0) {\n      if (self.onLayoutEnd) self.onLayoutEnd();\n      return;\n    }\n    if (!self.width && typeof window !== \"undefined\") {\n      self.width = window.innerWidth;\n    }\n    if (!self.height && typeof window !== \"undefined\") {\n      self.height = window.innerHeight;\n    }\n    if (!self.center) {\n      self.center = [self.width / 2, self.height / 2];\n    }\n    var center = self.center;\n    if (nodes.length === 1) {\n      nodes[0].x = center[0];\n      nodes[0].y = center[1];\n      if (self.onLayoutEnd) self.onLayoutEnd();\n      return;\n    }\n    var linkDistance = self.linkDistance;\n    // layout\n    var focusNode = null;\n    if ((0, util_1.isString)(self.focusNode)) {\n      var found = false;\n      for (var i = 0; i < nodes.length; i++) {\n        if (nodes[i].id === self.focusNode) {\n          focusNode = nodes[i];\n          self.focusNode = focusNode;\n          found = true;\n          i = nodes.length;\n        }\n      }\n      if (!found) {\n        focusNode = null;\n      }\n    } else {\n      focusNode = self.focusNode;\n    }\n    // default focus node\n    if (!focusNode) {\n      focusNode = nodes[0];\n      self.focusNode = focusNode;\n    }\n    // the index of the focusNode in data\n    var focusIndex = getIndexById(nodes, focusNode.id);\n    if (focusIndex < 0) focusIndex = 0;\n    self.focusIndex = focusIndex;\n    // the graph-theoretic distance (shortest path distance) matrix\n    var adjMatrix = (0, util_1.getAdjMatrix)({\n      nodes: nodes,\n      edges: edges\n    }, false);\n    var D = (0, util_1.floydWarshall)(adjMatrix);\n    var maxDistance = self.maxToFocus(D, focusIndex);\n    // replace first node in unconnected component to the circle at (maxDistance + 1)\n    self.handleInfinity(D, focusIndex, maxDistance + 1);\n    self.distances = D;\n    // the shortest path distance from each node to focusNode\n    var focusNodeD = D[focusIndex];\n    var width = self.width || 500;\n    var height = self.height || 500;\n    var semiWidth = width - center[0] > center[0] ? center[0] : width - center[0];\n    var semiHeight = height - center[1] > center[1] ? center[1] : height - center[1];\n    if (semiWidth === 0) {\n      semiWidth = width / 2;\n    }\n    if (semiHeight === 0) {\n      semiHeight = height / 2;\n    }\n    // the maxRadius of the graph\n    var maxRadius = semiHeight > semiWidth ? semiWidth : semiHeight;\n    var maxD = Math.max.apply(Math, focusNodeD);\n    // the radius for each nodes away from focusNode\n    var radii = [];\n    focusNodeD.forEach(function (value, i) {\n      if (!self.unitRadius) {\n        self.unitRadius = maxRadius / maxD;\n      }\n      radii[i] = value * self.unitRadius;\n    });\n    self.radii = radii;\n    var eIdealD = self.eIdealDisMatrix();\n    // const eIdealD = scaleMatrix(D, linkDistance);\n    self.eIdealDistances = eIdealD;\n    // the weight matrix, Wij = 1 / dij^(-2)\n    var W = getWeightMatrix(eIdealD);\n    self.weights = W;\n    // the initial positions from mds\n    var mds = new mds_1.default({\n      linkDistance: linkDistance,\n      distances: eIdealD\n    });\n    var positions = mds.layout();\n    positions.forEach(function (p) {\n      if ((0, util_1.isNaN)(p[0])) {\n        p[0] = Math.random() * linkDistance;\n      }\n      if ((0, util_1.isNaN)(p[1])) {\n        p[1] = Math.random() * linkDistance;\n      }\n    });\n    self.positions = positions;\n    positions.forEach(function (p, i) {\n      nodes[i].x = p[0] + center[0];\n      nodes[i].y = p[1] + center[1];\n    });\n    // move the graph to origin, centered at focusNode\n    positions.forEach(function (p) {\n      p[0] -= positions[focusIndex][0];\n      p[1] -= positions[focusIndex][1];\n    });\n    self.run();\n    var preventOverlap = self.preventOverlap;\n    var nodeSize = self.nodeSize;\n    var nodeSizeFunc;\n    var strictRadial = self.strictRadial;\n    // stagger the overlapped nodes\n    if (preventOverlap) {\n      var nodeSpacing_1 = self.nodeSpacing;\n      var nodeSpacingFunc_1;\n      if ((0, util_1.isNumber)(nodeSpacing_1)) {\n        nodeSpacingFunc_1 = function () {\n          return nodeSpacing_1;\n        };\n      } else if ((0, util_1.isFunction)(nodeSpacing_1)) {\n        nodeSpacingFunc_1 = nodeSpacing_1;\n      } else {\n        nodeSpacingFunc_1 = function () {\n          return 0;\n        };\n      }\n      if (!nodeSize) {\n        nodeSizeFunc = function (d) {\n          if (d.size) {\n            if ((0, util_1.isArray)(d.size)) {\n              var res = d.size[0] > d.size[1] ? d.size[0] : d.size[1];\n              return res + nodeSpacingFunc_1(d);\n            }\n            if ((0, util_1.isObject)(d.size)) {\n              var res = d.size.width > d.size.height ? d.size.width : d.size.height;\n              return res + nodeSpacingFunc_1(d);\n            }\n            return d.size + nodeSpacingFunc_1(d);\n          }\n          return 10 + nodeSpacingFunc_1(d);\n        };\n      } else if ((0, util_1.isArray)(nodeSize)) {\n        nodeSizeFunc = function (d) {\n          var res = nodeSize[0] > nodeSize[1] ? nodeSize[0] : nodeSize[1];\n          return res + nodeSpacingFunc_1(d);\n        };\n      } else {\n        nodeSizeFunc = function (d) {\n          return nodeSize + nodeSpacingFunc_1(d);\n        };\n      }\n      var nonoverlapForceParams = {\n        nodes: nodes,\n        nodeSizeFunc: nodeSizeFunc,\n        adjMatrix: adjMatrix,\n        positions: positions,\n        radii: radii,\n        height: height,\n        width: width,\n        strictRadial: strictRadial,\n        focusID: focusIndex,\n        iterations: self.maxPreventOverlapIteration || 200,\n        k: positions.length / 4.5\n      };\n      var nonoverlapForce = new radialNonoverlapForce_1.default(nonoverlapForceParams);\n      positions = nonoverlapForce.layout();\n    }\n    // move the graph to center\n    positions.forEach(function (p, i) {\n      nodes[i].x = p[0] + center[0];\n      nodes[i].y = p[1] + center[1];\n    });\n    if (self.onLayoutEnd) self.onLayoutEnd();\n    return {\n      nodes: nodes,\n      edges: edges\n    };\n  };\n  RadialLayout.prototype.run = function () {\n    var self = this;\n    var maxIteration = self.maxIteration;\n    var positions = self.positions || [];\n    var W = self.weights || [];\n    var eIdealDis = self.eIdealDistances || [];\n    var radii = self.radii || [];\n    for (var i = 0; i <= maxIteration; i++) {\n      var param = i / maxIteration;\n      self.oneIteration(param, positions, radii, eIdealDis, W);\n    }\n  };\n  RadialLayout.prototype.oneIteration = function (param, positions, radii, D, W) {\n    var self = this;\n    var vparam = 1 - param;\n    var focusIndex = self.focusIndex;\n    positions.forEach(function (v, i) {\n      // v\n      var originDis = getEDistance(v, [0, 0]);\n      var reciODis = originDis === 0 ? 0 : 1 / originDis;\n      if (i === focusIndex) {\n        return;\n      }\n      var xMolecule = 0;\n      var yMolecule = 0;\n      var denominator = 0;\n      positions.forEach(function (u, j) {\n        // u\n        if (i === j) {\n          return;\n        }\n        // the euclidean distance between v and u\n        var edis = getEDistance(v, u);\n        var reciEdis = edis === 0 ? 0 : 1 / edis;\n        var idealDis = D[j][i];\n        // same for x and y\n        denominator += W[i][j];\n        // x\n        xMolecule += W[i][j] * (u[0] + idealDis * (v[0] - u[0]) * reciEdis);\n        // y\n        yMolecule += W[i][j] * (u[1] + idealDis * (v[1] - u[1]) * reciEdis);\n      });\n      var reciR = radii[i] === 0 ? 0 : 1 / radii[i];\n      denominator *= vparam;\n      denominator += param * reciR * reciR;\n      // x\n      xMolecule *= vparam;\n      xMolecule += param * reciR * v[0] * reciODis;\n      v[0] = xMolecule / denominator;\n      // y\n      yMolecule *= vparam;\n      yMolecule += param * reciR * v[1] * reciODis;\n      v[1] = yMolecule / denominator;\n    });\n  };\n  RadialLayout.prototype.eIdealDisMatrix = function () {\n    var self = this;\n    var nodes = self.nodes;\n    if (!nodes) return [];\n    var D = self.distances;\n    var linkDis = self.linkDistance;\n    var radii = self.radii || [];\n    var unitRadius = self.unitRadius || 50;\n    var result = [];\n    if (D) {\n      D.forEach(function (row, i) {\n        var newRow = [];\n        row.forEach(function (v, j) {\n          if (i === j) {\n            newRow.push(0);\n          } else if (radii[i] === radii[j]) {\n            // i and j are on the same circle\n            if (self.sortBy === \"data\") {\n              // sort the nodes on the same circle according to the ordering of the data\n              newRow.push(v * (Math.abs(i - j) * self.sortStrength) / (radii[i] / unitRadius));\n            } else if (self.sortBy) {\n              // sort the nodes on the same circle according to the attributes\n              var iValue = nodes[i][self.sortBy] || 0;\n              var jValue = nodes[j][self.sortBy] || 0;\n              if ((0, util_1.isString)(iValue)) {\n                iValue = iValue.charCodeAt(0);\n              }\n              if ((0, util_1.isString)(jValue)) {\n                jValue = jValue.charCodeAt(0);\n              }\n              newRow.push(v * (Math.abs(iValue - jValue) * self.sortStrength) / (radii[i] / unitRadius));\n            } else {\n              newRow.push(v * linkDis / (radii[i] / unitRadius));\n            }\n          } else {\n            // i and j are on different circle\n            // i and j are on different circle\n            var link = (linkDis + unitRadius) / 2;\n            newRow.push(v * link);\n          }\n        });\n        result.push(newRow);\n      });\n    }\n    return result;\n  };\n  RadialLayout.prototype.handleInfinity = function (matrix, focusIndex, step) {\n    var length = matrix.length;\n    // 遍历 matrix 中遍历 focus 对应行\n    for (var i = 0; i < length; i++) {\n      // matrix 关注点对应行的 Inf 项\n      if (matrix[focusIndex][i] === Infinity) {\n        matrix[focusIndex][i] = step;\n        matrix[i][focusIndex] = step;\n        // 遍历 matrix 中的 i 行，i 行中非 Inf 项若在 focus 行为 Inf，则替换 focus 行的那个 Inf\n        for (var j = 0; j < length; j++) {\n          if (matrix[i][j] !== Infinity && matrix[focusIndex][j] === Infinity) {\n            matrix[focusIndex][j] = step + matrix[i][j];\n            matrix[j][focusIndex] = step + matrix[i][j];\n          }\n        }\n      }\n    }\n    // 处理其他行的 Inf。根据该行对应点与 focus 距离以及 Inf 项点 与 focus 距离，决定替换值\n    for (var i = 0; i < length; i++) {\n      if (i === focusIndex) {\n        continue;\n      }\n      for (var j = 0; j < length; j++) {\n        if (matrix[i][j] === Infinity) {\n          var minus = Math.abs(matrix[focusIndex][i] - matrix[focusIndex][j]);\n          minus = minus === 0 ? 1 : minus;\n          matrix[i][j] = minus;\n        }\n      }\n    }\n  };\n  RadialLayout.prototype.maxToFocus = function (matrix, focusIndex) {\n    var max = 0;\n    for (var i = 0; i < matrix[focusIndex].length; i++) {\n      if (matrix[focusIndex][i] === Infinity) {\n        continue;\n      }\n      max = matrix[focusIndex][i] > max ? matrix[focusIndex][i] : max;\n    }\n    return max;\n  };\n  RadialLayout.prototype.getType = function () {\n    return \"radial\";\n  };\n  return RadialLayout;\n}(base_1.Base);\nexports.RadialLayout = RadialLayout;","map":{"version":3,"names":["require","util_1","base_1","mds_1","__importDefault","radialNonoverlapForce_1","getWeightMatrix","M","rows","length","cols","result","i","row","j","push","getIndexById","array","id","index","forEach","a","getEDistance","p1","p2","Math","sqrt","RadialLayout","_super","__extends","options","_this","call","maxIteration","focusNode","unitRadius","linkDistance","preventOverlap","strictRadial","maxPreventOverlapIteration","sortStrength","nodes","edges","updateCfg","prototype","getDefaultCfg","nodeSize","undefined","nodeSpacing","sortBy","execute","self","onLayoutEnd","width","window","innerWidth","height","innerHeight","center","x","y","isString","found","focusIndex","adjMatrix","getAdjMatrix","D","floydWarshall","maxDistance","maxToFocus","handleInfinity","distances","focusNodeD","semiWidth","semiHeight","maxRadius","maxD","max","apply","radii","value","eIdealD","eIdealDisMatrix","eIdealDistances","W","weights","mds","default","positions","layout","p","isNaN","random","run","nodeSizeFunc","nodeSpacing_1","nodeSpacingFunc_1","isNumber","isFunction","d","size","isArray","res","isObject","nonoverlapForceParams","focusID","iterations","k","nonoverlapForce","eIdealDis","param","oneIteration","vparam","v","originDis","reciODis","xMolecule","yMolecule","denominator","u","edis","reciEdis","idealDis","reciR","linkDis","newRow","abs","iValue","jValue","charCodeAt","link","matrix","step","Infinity","minus","getType","Base","exports"],"sources":["../../../src/layout/radial/radial.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}