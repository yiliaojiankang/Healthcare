{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport WebMercatorViewport from 'viewport-mercator-project';\nvar Viewport = /*#__PURE__*/function () {\n  function Viewport() {\n    _classCallCheck(this, Viewport);\n  }\n  _createClass(Viewport, [{\n    key: \"syncWithMapCamera\",\n    value: function syncWithMapCamera(mapCamera) {\n      var center = mapCamera.center,\n        zoom = mapCamera.zoom,\n        pitch = mapCamera.pitch,\n        bearing = mapCamera.bearing,\n        viewportHeight = mapCamera.viewportHeight,\n        viewportWidth = mapCamera.viewportWidth;\n      var preView = this.viewport ? {\n        width: this.viewport.width,\n        height: this.viewport.height,\n        longitude: this.viewport.center[0],\n        latitude: this.viewport.center[1],\n        zoom: this.viewport.zoom,\n        pitch: this.viewport.pitch,\n        bearing: this.viewport.bearing\n      } : {};\n\n      /**\n       * Deck.gl 使用的也是 Mapbox 同步相机，相机参数保持一致\n       * 例如相机高度固定为 height * 1.5，因此不需要传\n       */\n      this.viewport = new WebMercatorViewport(_objectSpread(_objectSpread({}, preView), {}, {\n        width: viewportWidth,\n        height: viewportHeight,\n        longitude: center && center[0],\n        latitude: center && center[1],\n        zoom: zoom,\n        pitch: pitch,\n        bearing: bearing\n      }));\n    }\n  }, {\n    key: \"getZoom\",\n    value: function getZoom() {\n      return this.viewport.zoom;\n    }\n  }, {\n    key: \"getZoomScale\",\n    value: function getZoomScale() {\n      return Math.pow(2, this.getZoom());\n    }\n  }, {\n    key: \"getCenter\",\n    value: function getCenter() {\n      return [this.viewport.longitude, this.viewport.latitude];\n    }\n  }, {\n    key: \"getProjectionMatrix\",\n    value: function getProjectionMatrix() {\n      return this.viewport.projectionMatrix;\n    }\n  }, {\n    key: \"getModelMatrix\",\n    value: function getModelMatrix() {\n      return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n    }\n  }, {\n    key: \"getViewMatrix\",\n    value: function getViewMatrix() {\n      return this.viewport.viewMatrix;\n    }\n  }, {\n    key: \"getViewMatrixUncentered\",\n    value: function getViewMatrixUncentered() {\n      // @ts-ignore\n      return this.viewport.viewMatrixUncentered;\n    }\n  }, {\n    key: \"getViewProjectionMatrix\",\n    value: function getViewProjectionMatrix() {\n      // @ts-ignore\n      return this.viewport.viewProjectionMatrix;\n    }\n  }, {\n    key: \"getViewProjectionMatrixUncentered\",\n    value: function getViewProjectionMatrixUncentered() {\n      // @ts-ignore\n      return this.viewport.viewProjectionMatrix;\n    }\n  }, {\n    key: \"getFocalDistance\",\n    value: function getFocalDistance() {\n      return 1;\n    }\n\n    /**\n     * P20 坐标系，固定 scale\n     */\n  }, {\n    key: \"projectFlat\",\n    value: function projectFlat(lngLat, scale) {\n      return this.viewport.projectFlat(lngLat, scale);\n    }\n  }]);\n  return Viewport;\n}();\nexport { Viewport as default };","map":{"version":3,"names":["_objectSpread","_classCallCheck","_createClass","WebMercatorViewport","Viewport","key","value","syncWithMapCamera","mapCamera","center","zoom","pitch","bearing","viewportHeight","viewportWidth","preView","viewport","width","height","longitude","latitude","getZoom","getZoomScale","Math","pow","getCenter","getProjectionMatrix","projectionMatrix","getModelMatrix","getViewMatrix","viewMatrix","getViewMatrixUncentered","viewMatrixUncentered","getViewProjectionMatrix","viewProjectionMatrix","getViewProjectionMatrixUncentered","getFocalDistance","projectFlat","lngLat","scale","default"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-maps/es/utils/Viewport.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport WebMercatorViewport from 'viewport-mercator-project';\nvar Viewport = /*#__PURE__*/function () {\n  function Viewport() {\n    _classCallCheck(this, Viewport);\n  }\n  _createClass(Viewport, [{\n    key: \"syncWithMapCamera\",\n    value: function syncWithMapCamera(mapCamera) {\n      var center = mapCamera.center,\n        zoom = mapCamera.zoom,\n        pitch = mapCamera.pitch,\n        bearing = mapCamera.bearing,\n        viewportHeight = mapCamera.viewportHeight,\n        viewportWidth = mapCamera.viewportWidth;\n      var preView = this.viewport ? {\n        width: this.viewport.width,\n        height: this.viewport.height,\n        longitude: this.viewport.center[0],\n        latitude: this.viewport.center[1],\n        zoom: this.viewport.zoom,\n        pitch: this.viewport.pitch,\n        bearing: this.viewport.bearing\n      } : {};\n\n      /**\n       * Deck.gl 使用的也是 Mapbox 同步相机，相机参数保持一致\n       * 例如相机高度固定为 height * 1.5，因此不需要传\n       */\n      this.viewport = new WebMercatorViewport(_objectSpread(_objectSpread({}, preView), {}, {\n        width: viewportWidth,\n        height: viewportHeight,\n        longitude: center && center[0],\n        latitude: center && center[1],\n        zoom: zoom,\n        pitch: pitch,\n        bearing: bearing\n      }));\n    }\n  }, {\n    key: \"getZoom\",\n    value: function getZoom() {\n      return this.viewport.zoom;\n    }\n  }, {\n    key: \"getZoomScale\",\n    value: function getZoomScale() {\n      return Math.pow(2, this.getZoom());\n    }\n  }, {\n    key: \"getCenter\",\n    value: function getCenter() {\n      return [this.viewport.longitude, this.viewport.latitude];\n    }\n  }, {\n    key: \"getProjectionMatrix\",\n    value: function getProjectionMatrix() {\n      return this.viewport.projectionMatrix;\n    }\n  }, {\n    key: \"getModelMatrix\",\n    value: function getModelMatrix() {\n      return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n    }\n  }, {\n    key: \"getViewMatrix\",\n    value: function getViewMatrix() {\n      return this.viewport.viewMatrix;\n    }\n  }, {\n    key: \"getViewMatrixUncentered\",\n    value: function getViewMatrixUncentered() {\n      // @ts-ignore\n      return this.viewport.viewMatrixUncentered;\n    }\n  }, {\n    key: \"getViewProjectionMatrix\",\n    value: function getViewProjectionMatrix() {\n      // @ts-ignore\n      return this.viewport.viewProjectionMatrix;\n    }\n  }, {\n    key: \"getViewProjectionMatrixUncentered\",\n    value: function getViewProjectionMatrixUncentered() {\n      // @ts-ignore\n      return this.viewport.viewProjectionMatrix;\n    }\n  }, {\n    key: \"getFocalDistance\",\n    value: function getFocalDistance() {\n      return 1;\n    }\n\n    /**\n     * P20 坐标系，固定 scale\n     */\n  }, {\n    key: \"projectFlat\",\n    value: function projectFlat(lngLat, scale) {\n      return this.viewport.projectFlat(lngLat, scale);\n    }\n  }]);\n  return Viewport;\n}();\nexport { Viewport as default };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}