{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _get from \"@babel/runtime/helpers/esm/get\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nimport { TYPES, createLayerContainer } from '@antv/l7-core';\nimport { PolygonLayer } from '@antv/l7-layers';\nimport { DOM } from '@antv/l7-utils';\nimport { Control } from \"./baseControl\";\nexport { Swipe };\nvar Swipe = /*#__PURE__*/function (_Control) {\n  _inherits(Swipe, _Control);\n  var _super = _createSuper(Swipe);\n  function Swipe() {\n    var _this;\n    _classCallCheck(this, Swipe);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    /**\n     * 是否正在拖动卷帘\n     */\n    _defineProperty(_assertThisInitialized(_this), \"isMoving\", false);\n    _defineProperty(_assertThisInitialized(_this), \"move\", function (e) {\n      // 阻止事件冒泡到地图上\n      e.stopPropagation();\n      switch (e.type) {\n        case 'touchcancel':\n        case 'touchend':\n        case 'mouseup':\n          {\n            var _this$scene;\n            _this.isMoving = false;\n            ['mouseup', 'mousemove', 'touchend', 'touchcancel', 'touchmove'].forEach(function (eventName) {\n              document.removeEventListener(eventName, _this.move);\n            });\n            (_this$scene = _this.scene) === null || _this$scene === void 0 || _this$scene.render();\n            break;\n          }\n        case 'mousedown':\n        case 'touchstart':\n          {\n            _this.isMoving = true;\n            ['mouseup', 'mousemove', 'touchend', 'touchcancel', 'touchmove'].forEach(function (eventName) {\n              document.addEventListener(eventName, _this.move);\n            });\n            // fallthrough\n          }\n\n        case 'mousemove':\n        case 'touchmove':\n          {\n            if (_this.isMoving) {\n              if (_this.controlOption.orientation === 'vertical') {\n                var pageX;\n                if ('pageX' in e) {\n                  pageX = e.pageX;\n                } else if (e.touches && e.touches.length && e.touches[0].pageX) {\n                  pageX = e.touches[0].pageX;\n                } else if (e.changedTouches && e.changedTouches.length) {\n                  pageX = e.changedTouches[0].pageX;\n                }\n                if (!pageX) {\n                  break;\n                }\n                var containerRect = _this.getContainerDOMRect();\n                var containerSize = _this.getContainerSize();\n                var containerWidth = containerSize[0];\n                var containerRectLeft = (containerRect === null || containerRect === void 0 ? void 0 : containerRect.left) || 0;\n                var offsetX = pageX - containerRectLeft + window.scrollX - document.documentElement.clientLeft;\n                var width = containerWidth - Math.min(Math.max(0, containerWidth - offsetX), containerWidth);\n                var ratio = width / containerWidth;\n                _this.setOptions({\n                  ratio: ratio\n                });\n                _this.emit('moving', {\n                  size: [width, containerSize[1]],\n                  ratio: [ratio, 0]\n                });\n              } else {\n                var pageY;\n                if ('pageY' in e) {\n                  pageY = e.pageY;\n                } else if (e.touches && e.touches.length && e.touches[0].pageY) {\n                  pageY = e.touches[0].pageY;\n                } else if (e.changedTouches && e.changedTouches.length) {\n                  pageY = e.changedTouches[0].pageY;\n                }\n                if (!pageY) {\n                  break;\n                }\n                var _containerRect = _this.getContainerDOMRect();\n                var _containerSize = _this.getContainerSize();\n                var containerHeight = _containerSize[1];\n                var _containerRectLeft = (_containerRect === null || _containerRect === void 0 ? void 0 : _containerRect.top) || 0;\n                var offsetY = pageY - _containerRectLeft + window.scrollY - document.documentElement.clientTop;\n                var height = containerHeight - Math.min(Math.max(0, containerHeight - offsetY), containerHeight);\n                var _ratio = height / containerHeight;\n                _this.setOptions({\n                  ratio: _ratio\n                });\n                _this.emit('moving', {\n                  size: [_containerSize[0], height],\n                  ratio: [0, _ratio]\n                });\n              }\n            }\n            break;\n          }\n        default:\n          break;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getMaskLayer\", function () {\n      return new PolygonLayer({\n        visible: false\n      }).source({\n        type: 'FeatureCollection',\n        features: []\n      }).shape('fill').color('red').style({\n        opacity: 0.1\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"updateMask\", function () {\n      var _this$maskLayer;\n      if (!_this.mapsService) return;\n      var geoJSON = _this.getMaskGeoData();\n      (_this$maskLayer = _this.maskLayer) === null || _this$maskLayer === void 0 || _this$maskLayer.setData(geoJSON);\n    });\n    return _this;\n  }\n  _createClass(Swipe, [{\n    key: \"getDefault\",\n    value:\n    /**\n     * 掩膜图层实例\n     */\n\n    function getDefault() {\n      return _objectSpread(_objectSpread({}, _get(_getPrototypeOf(Swipe.prototype), \"getDefault\", this).call(this)), {}, {\n        layers: [],\n        rightLayers: [],\n        ratio: 0.5,\n        orientation: 'vertical'\n      });\n    }\n  }, {\n    key: \"onAdd\",\n    value: function onAdd() {\n      var container = DOM.create('div', 'l7-control-swipe');\n      DOM.create('button', 'l7-control-swipe__button', container);\n      var _this$controlOption = this.controlOption,\n        _this$controlOption$o = _this$controlOption.orientation,\n        orientation = _this$controlOption$o === void 0 ? 'vertical' : _this$controlOption$o,\n        _this$controlOption$r = _this$controlOption.ratio,\n        ratio = _this$controlOption$r === void 0 ? 0.5 : _this$controlOption$r;\n      if (orientation === 'horizontal') {\n        container.style.top = ratio * 100 + '%';\n        container.style.left = '';\n      } else {\n        container.style.left = ratio * 100 + '%';\n        container.style.top = '';\n      }\n      container.classList.add(orientation);\n      return container;\n    }\n  }, {\n    key: \"addTo\",\n    value: function addTo(sceneContainer) {\n      // 初始化各个 Service 实例\n      this.mapsService = sceneContainer.get(TYPES.IMapService);\n      this.renderService = sceneContainer.get(TYPES.IRendererService);\n      this.layerService = sceneContainer.get(TYPES.ILayerService);\n      this.controlService = sceneContainer.get(TYPES.IControlService);\n      this.configService = sceneContainer.get(TYPES.IGlobalConfigService);\n      this.scene = sceneContainer.get(TYPES.ISceneService);\n      this.sceneContainer = sceneContainer;\n      this.isShow = true;\n\n      // 初始化 container\n      this.container = this.onAdd();\n      var _this$controlOption2 = this.controlOption,\n        className = _this$controlOption2.className,\n        style = _this$controlOption2.style,\n        layers = _this$controlOption2.layers,\n        rightLayers = _this$controlOption2.rightLayers;\n      if (className) {\n        this.setClassName(className);\n      }\n      if (style) {\n        this.setStyle(style);\n      }\n\n      // 将 container 插入容器中\n      // this.scene.getSceneContainer().appendChild(this.container);\n      this.mapsService.getMarkerContainer().appendChild(this.container);\n      this.maskLayer = this.getMaskLayer();\n      this.updateMask();\n      this.registerEvent();\n\n      // 给图层挂载掩膜\n      this.addMaskToLayers(layers, false);\n      this.addMaskToLayers(rightLayers, true);\n\n      // 添加掩膜图层到 scene\n      var layerContainer = createLayerContainer(sceneContainer);\n      this.maskLayer.setContainer(layerContainer, sceneContainer);\n      this.scene.addLayer(this.maskLayer);\n      this.emit('add', this);\n      return this;\n    }\n  }, {\n    key: \"onRemove\",\n    value: function onRemove() {\n      if (this.maskLayer) {\n        var _this$layerService;\n        var _this$controlOption3 = this.controlOption,\n          layers = _this$controlOption3.layers,\n          rightLayers = _this$controlOption3.rightLayers;\n        this.removeMaskFromLayers(layers);\n        this.removeMaskFromLayers(rightLayers);\n        (_this$layerService = this.layerService) === null || _this$layerService === void 0 || _this$layerService.remove(this.maskLayer);\n      }\n      this.unRegisterEvent();\n      this.removeAllListeners();\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      var _this$scene2;\n      var container = this.container;\n      DOM.removeClass(container, 'l7-control-swipe_hide');\n      // 启用掩膜\n      var _this$controlOption4 = this.controlOption,\n        layers = _this$controlOption4.layers,\n        rightLayers = _this$controlOption4.rightLayers;\n      layers.forEach(function (layer) {\n        return layer.enableMask();\n      });\n      rightLayers.forEach(function (layer) {\n        return layer.enableMask();\n      });\n      (_this$scene2 = this.scene) === null || _this$scene2 === void 0 || _this$scene2.render();\n      this.isShow = true;\n      this.emit('show', this);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      var _this$scene3;\n      var container = this.container;\n      DOM.addClass(container, 'l7-control-swipe_hide');\n      // 禁用掩膜\n      var _this$controlOption5 = this.controlOption,\n        layers = _this$controlOption5.layers,\n        rightLayers = _this$controlOption5.rightLayers;\n      layers.forEach(function (layer) {\n        return layer.disableMask();\n      });\n      rightLayers.forEach(function (layer) {\n        return layer.disableMask();\n      });\n      (_this$scene3 = this.scene) === null || _this$scene3 === void 0 || _this$scene3.render();\n      this.isShow = false;\n      this.emit('hide', this);\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(newOptions) {\n      var controlOption = _objectSpread(_objectSpread({}, this.controlOption), newOptions);\n      if (newOptions.className) {\n        this.setClassName(newOptions.className);\n      }\n      if (newOptions.style) {\n        this.setStyle(newOptions.style);\n      }\n      if (newOptions.orientation || newOptions.ratio !== undefined) {\n        this.setOrientationAndRatio(controlOption.orientation, controlOption.ratio);\n      }\n      if (newOptions.layers) {\n        var newLayers = newOptions.layers;\n        var oldLayers = this.controlOption.layers;\n        this.setLayers(newLayers, oldLayers, false);\n      }\n      if (newOptions.rightLayers) {\n        var _newLayers = newOptions.rightLayers;\n        var _oldLayers = this.controlOption.rightLayers;\n        this.setLayers(_newLayers, _oldLayers, true);\n      }\n      this.controlOption = controlOption;\n      this.updateMask();\n    }\n  }, {\n    key: \"registerEvent\",\n    value: function registerEvent() {\n      this.container.addEventListener('mousedown', this.move);\n      this.container.addEventListener('touchstart', this.move);\n      this.mapsService.on('camerachange', this.updateMask);\n    }\n  }, {\n    key: \"unRegisterEvent\",\n    value: function unRegisterEvent() {\n      var _this$mapsService;\n      this.container.removeEventListener('mousedown', this.move);\n      this.container.removeEventListener('touchstart', this.move);\n      (_this$mapsService = this.mapsService) === null || _this$mapsService === void 0 || _this$mapsService.off('camerachange', this.updateMask);\n    }\n  }, {\n    key: \"setOrientationAndRatio\",\n    value: function setOrientationAndRatio() {\n      var orientation = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'vertical';\n      var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.5;\n      this.container.classList.remove('horizontal', 'vertical');\n      this.container.classList.add(orientation);\n      if (orientation === 'horizontal') {\n        this.container.style.top = ratio * 100 + '%';\n        this.container.style.left = '';\n      } else {\n        this.container.style.left = ratio * 100 + '%';\n        this.container.style.top = '';\n      }\n    }\n  }, {\n    key: \"setLayers\",\n    value: function setLayers(newLayers, oldLayers) {\n      var isRightLayer = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var addLayers = newLayers.filter(function (layer) {\n        return oldLayers.includes(layer) === false;\n      });\n      var removeLayers = oldLayers.filter(function (layer) {\n        return newLayers.includes(layer) === false;\n      });\n      this.addMaskToLayers(addLayers, isRightLayer);\n      this.removeMaskFromLayers(removeLayers);\n    }\n  }, {\n    key: \"addMaskToLayers\",\n    value: function addMaskToLayers(layers, isRightLayer) {\n      var _this2 = this;\n      layers.forEach(function (layer) {\n        layer.updateLayerConfig({\n          maskInside: isRightLayer ? false : true\n        });\n        layer.addMask(_this2.maskLayer);\n      });\n    }\n  }, {\n    key: \"removeMaskFromLayers\",\n    value: function removeMaskFromLayers(layers) {\n      var _this3 = this;\n      layers.forEach(function (layer) {\n        // reset default is true\n        layer.updateLayerConfig({\n          maskInside: true\n        });\n        layer.removeMask(_this3.maskLayer);\n      });\n    }\n  }, {\n    key: \"getMaskGeoData\",\n    value: function getMaskGeoData() {\n      var _this$controlOption6 = this.controlOption,\n        _this$controlOption6$ = _this$controlOption6.ratio,\n        ratio = _this$controlOption6$ === void 0 ? 0.5 : _this$controlOption6$,\n        _this$controlOption6$2 = _this$controlOption6.orientation,\n        orientation = _this$controlOption6$2 === void 0 ? 'vertical' : _this$controlOption6$2;\n      var isVertical = orientation === 'vertical';\n      var _this$getBounds = this.getBounds(),\n        _this$getBounds2 = _slicedToArray(_this$getBounds, 2),\n        sw = _this$getBounds2[0],\n        ne = _this$getBounds2[1];\n      var _sw = _slicedToArray(sw, 2),\n        swLng = _sw[0],\n        swLat = _sw[1];\n      var _ne = _slicedToArray(ne, 2),\n        neLng = _ne[0],\n        neLat = _ne[1];\n      var coordinate;\n      if (isVertical) {\n        var centerLng = swLng + (neLng - swLng) * ratio;\n        coordinate = [[swLng, neLat], [centerLng, neLat], [centerLng, swLat], sw, [swLng, neLat]];\n      } else {\n        var size = this.getContainerSize();\n        var lngLat = this.mapsService.containerToLngLat([size[0], size[1] * ratio]);\n        var centerLat = lngLat.lat;\n        coordinate = [[swLng, neLat], ne, [neLng, centerLat], [swLng, centerLat], [swLng, neLat]];\n      }\n      var geoJSON = {\n        type: 'FeatureCollection',\n        features: [{\n          type: 'Feature',\n          properties: {},\n          geometry: {\n            type: 'Polygon',\n            coordinates: [coordinate]\n          }\n        }]\n      };\n      return geoJSON;\n    }\n  }, {\n    key: \"getContainerDOMRect\",\n    value: function getContainerDOMRect() {\n      var _this$mapsService$get;\n      var rect = (_this$mapsService$get = this.mapsService.getContainer()) === null || _this$mapsService$get === void 0 ? void 0 : _this$mapsService$get.getBoundingClientRect();\n      return rect;\n    }\n  }, {\n    key: \"getContainerSize\",\n    value: function getContainerSize() {\n      var size = this.mapsService.getSize();\n      return size;\n    }\n  }, {\n    key: \"getBounds\",\n    value: function getBounds() {\n      var bounds = this.mapsService.getBounds();\n      return bounds;\n    }\n\n    /**\n     * 添加要剪裁的图层\n     * @param layer 剪裁的图层\n     * @param addRight 是否添加图层到右侧, 默认添加到左侧.\n     */\n  }, {\n    key: \"addLayer\",\n    value: function addLayer(layer) {\n      var addRight = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var layers = Array.isArray(layer) ? layer : [layer];\n      if (addRight) {\n        var _this$controlOption$r2;\n        var rightLayers = (_this$controlOption$r2 = this.controlOption.rightLayers).concat.apply(_this$controlOption$r2, _toConsumableArray(layers));\n        this.setOptions({\n          rightLayers: rightLayers\n        });\n      } else {\n        var _this$controlOption$l;\n        var leftLayers = (_this$controlOption$l = this.controlOption.layers).concat.apply(_this$controlOption$l, _toConsumableArray(layers));\n        this.setOptions({\n          layers: leftLayers\n        });\n      }\n    }\n\n    /**\n     * 移除剪裁的图层\n     */\n  }, {\n    key: \"removeLayer\",\n    value: function removeLayer(layer) {\n      var layers = Array.isArray(layer) ? layer : [layer];\n      var leftLayers = this.controlOption.layers.filter(function (layer) {\n        return layers.includes(layer);\n      });\n      var rightLayers = this.controlOption.rightLayers.filter(function (layer) {\n        return layers.includes(layer);\n      });\n      this.setOptions({\n        layers: leftLayers,\n        rightLayers: rightLayers\n      });\n    }\n\n    /**\n     * 清除所有图层\n     */\n  }, {\n    key: \"removeLayers\",\n    value: function removeLayers() {\n      this.setOptions({\n        layers: [],\n        rightLayers: []\n      });\n    }\n  }]);\n  return Swipe;\n}(Control);\nexport { Swipe as default };","map":{"version":3,"names":["_toConsumableArray","_slicedToArray","_objectSpread","_classCallCheck","_createClass","_assertThisInitialized","_get","_inherits","_possibleConstructorReturn","_getPrototypeOf","_defineProperty","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Boolean","prototype","valueOf","call","e","TYPES","createLayerContainer","PolygonLayer","DOM","Control","Swipe","_Control","_super","_this","_len","length","args","Array","_key","concat","stopPropagation","type","_this$scene","isMoving","forEach","eventName","document","removeEventListener","move","scene","render","addEventListener","controlOption","orientation","pageX","touches","changedTouches","containerRect","getContainerDOMRect","containerSize","getContainerSize","containerWidth","containerRectLeft","left","offsetX","window","scrollX","documentElement","clientLeft","width","Math","min","max","ratio","setOptions","emit","size","pageY","_containerRect","_containerSize","containerHeight","_containerRectLeft","top","offsetY","scrollY","clientTop","height","_ratio","visible","source","features","shape","color","style","opacity","_this$maskLayer","mapsService","geoJSON","getMaskGeoData","maskLayer","setData","key","value","getDefault","layers","rightLayers","onAdd","container","create","_this$controlOption","_this$controlOption$o","_this$controlOption$r","classList","add","addTo","sceneContainer","get","IMapService","renderService","IRendererService","layerService","ILayerService","controlService","IControlService","configService","IGlobalConfigService","ISceneService","isShow","_this$controlOption2","className","setClassName","setStyle","getMarkerContainer","appendChild","getMaskLayer","updateMask","registerEvent","addMaskToLayers","layerContainer","setContainer","addLayer","onRemove","_this$layerService","_this$controlOption3","removeMaskFromLayers","remove","unRegisterEvent","removeAllListeners","show","_this$scene2","removeClass","_this$controlOption4","layer","enableMask","hide","_this$scene3","addClass","_this$controlOption5","disableMask","newOptions","undefined","setOrientationAndRatio","newLayers","oldLayers","setLayers","_newLayers","_oldLayers","on","_this$mapsService","off","isRightLayer","addLayers","filter","includes","removeLayers","_this2","updateLayerConfig","maskInside","addMask","_this3","removeMask","_this$controlOption6","_this$controlOption6$","_this$controlOption6$2","isVertical","_this$getBounds","getBounds","_this$getBounds2","sw","ne","_sw","swLng","swLat","_ne","neLng","neLat","coordinate","centerLng","lngLat","containerToLngLat","centerLat","lat","properties","geometry","coordinates","_this$mapsService$get","rect","getContainer","getBoundingClientRect","getSize","bounds","addRight","isArray","_this$controlOption$r2","_this$controlOption$l","leftLayers","removeLayer","default"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-component/es/control/swipe.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _get from \"@babel/runtime/helpers/esm/get\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport { TYPES, createLayerContainer } from '@antv/l7-core';\nimport { PolygonLayer } from '@antv/l7-layers';\nimport { DOM } from '@antv/l7-utils';\nimport { Control } from \"./baseControl\";\nexport { Swipe };\nvar Swipe = /*#__PURE__*/function (_Control) {\n  _inherits(Swipe, _Control);\n  var _super = _createSuper(Swipe);\n  function Swipe() {\n    var _this;\n    _classCallCheck(this, Swipe);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    /**\n     * 是否正在拖动卷帘\n     */\n    _defineProperty(_assertThisInitialized(_this), \"isMoving\", false);\n    _defineProperty(_assertThisInitialized(_this), \"move\", function (e) {\n      // 阻止事件冒泡到地图上\n      e.stopPropagation();\n      switch (e.type) {\n        case 'touchcancel':\n        case 'touchend':\n        case 'mouseup':\n          {\n            var _this$scene;\n            _this.isMoving = false;\n            ['mouseup', 'mousemove', 'touchend', 'touchcancel', 'touchmove'].forEach(function (eventName) {\n              document.removeEventListener(eventName, _this.move);\n            });\n            (_this$scene = _this.scene) === null || _this$scene === void 0 || _this$scene.render();\n            break;\n          }\n        case 'mousedown':\n        case 'touchstart':\n          {\n            _this.isMoving = true;\n            ['mouseup', 'mousemove', 'touchend', 'touchcancel', 'touchmove'].forEach(function (eventName) {\n              document.addEventListener(eventName, _this.move);\n            });\n            // fallthrough\n          }\n\n        case 'mousemove':\n        case 'touchmove':\n          {\n            if (_this.isMoving) {\n              if (_this.controlOption.orientation === 'vertical') {\n                var pageX;\n                if ('pageX' in e) {\n                  pageX = e.pageX;\n                } else if (e.touches && e.touches.length && e.touches[0].pageX) {\n                  pageX = e.touches[0].pageX;\n                } else if (e.changedTouches && e.changedTouches.length) {\n                  pageX = e.changedTouches[0].pageX;\n                }\n                if (!pageX) {\n                  break;\n                }\n                var containerRect = _this.getContainerDOMRect();\n                var containerSize = _this.getContainerSize();\n                var containerWidth = containerSize[0];\n                var containerRectLeft = (containerRect === null || containerRect === void 0 ? void 0 : containerRect.left) || 0;\n                var offsetX = pageX - containerRectLeft + window.scrollX - document.documentElement.clientLeft;\n                var width = containerWidth - Math.min(Math.max(0, containerWidth - offsetX), containerWidth);\n                var ratio = width / containerWidth;\n                _this.setOptions({\n                  ratio: ratio\n                });\n                _this.emit('moving', {\n                  size: [width, containerSize[1]],\n                  ratio: [ratio, 0]\n                });\n              } else {\n                var pageY;\n                if ('pageY' in e) {\n                  pageY = e.pageY;\n                } else if (e.touches && e.touches.length && e.touches[0].pageY) {\n                  pageY = e.touches[0].pageY;\n                } else if (e.changedTouches && e.changedTouches.length) {\n                  pageY = e.changedTouches[0].pageY;\n                }\n                if (!pageY) {\n                  break;\n                }\n                var _containerRect = _this.getContainerDOMRect();\n                var _containerSize = _this.getContainerSize();\n                var containerHeight = _containerSize[1];\n                var _containerRectLeft = (_containerRect === null || _containerRect === void 0 ? void 0 : _containerRect.top) || 0;\n                var offsetY = pageY - _containerRectLeft + window.scrollY - document.documentElement.clientTop;\n                var height = containerHeight - Math.min(Math.max(0, containerHeight - offsetY), containerHeight);\n                var _ratio = height / containerHeight;\n                _this.setOptions({\n                  ratio: _ratio\n                });\n                _this.emit('moving', {\n                  size: [_containerSize[0], height],\n                  ratio: [0, _ratio]\n                });\n              }\n            }\n            break;\n          }\n        default:\n          break;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getMaskLayer\", function () {\n      return new PolygonLayer({\n        visible: false\n      }).source({\n        type: 'FeatureCollection',\n        features: []\n      }).shape('fill').color('red').style({\n        opacity: 0.1\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"updateMask\", function () {\n      var _this$maskLayer;\n      if (!_this.mapsService) return;\n      var geoJSON = _this.getMaskGeoData();\n      (_this$maskLayer = _this.maskLayer) === null || _this$maskLayer === void 0 || _this$maskLayer.setData(geoJSON);\n    });\n    return _this;\n  }\n  _createClass(Swipe, [{\n    key: \"getDefault\",\n    value:\n    /**\n     * 掩膜图层实例\n     */\n\n    function getDefault() {\n      return _objectSpread(_objectSpread({}, _get(_getPrototypeOf(Swipe.prototype), \"getDefault\", this).call(this)), {}, {\n        layers: [],\n        rightLayers: [],\n        ratio: 0.5,\n        orientation: 'vertical'\n      });\n    }\n  }, {\n    key: \"onAdd\",\n    value: function onAdd() {\n      var container = DOM.create('div', 'l7-control-swipe');\n      DOM.create('button', 'l7-control-swipe__button', container);\n      var _this$controlOption = this.controlOption,\n        _this$controlOption$o = _this$controlOption.orientation,\n        orientation = _this$controlOption$o === void 0 ? 'vertical' : _this$controlOption$o,\n        _this$controlOption$r = _this$controlOption.ratio,\n        ratio = _this$controlOption$r === void 0 ? 0.5 : _this$controlOption$r;\n      if (orientation === 'horizontal') {\n        container.style.top = ratio * 100 + '%';\n        container.style.left = '';\n      } else {\n        container.style.left = ratio * 100 + '%';\n        container.style.top = '';\n      }\n      container.classList.add(orientation);\n      return container;\n    }\n  }, {\n    key: \"addTo\",\n    value: function addTo(sceneContainer) {\n      // 初始化各个 Service 实例\n      this.mapsService = sceneContainer.get(TYPES.IMapService);\n      this.renderService = sceneContainer.get(TYPES.IRendererService);\n      this.layerService = sceneContainer.get(TYPES.ILayerService);\n      this.controlService = sceneContainer.get(TYPES.IControlService);\n      this.configService = sceneContainer.get(TYPES.IGlobalConfigService);\n      this.scene = sceneContainer.get(TYPES.ISceneService);\n      this.sceneContainer = sceneContainer;\n      this.isShow = true;\n\n      // 初始化 container\n      this.container = this.onAdd();\n      var _this$controlOption2 = this.controlOption,\n        className = _this$controlOption2.className,\n        style = _this$controlOption2.style,\n        layers = _this$controlOption2.layers,\n        rightLayers = _this$controlOption2.rightLayers;\n      if (className) {\n        this.setClassName(className);\n      }\n      if (style) {\n        this.setStyle(style);\n      }\n\n      // 将 container 插入容器中\n      // this.scene.getSceneContainer().appendChild(this.container);\n      this.mapsService.getMarkerContainer().appendChild(this.container);\n      this.maskLayer = this.getMaskLayer();\n      this.updateMask();\n      this.registerEvent();\n\n      // 给图层挂载掩膜\n      this.addMaskToLayers(layers, false);\n      this.addMaskToLayers(rightLayers, true);\n\n      // 添加掩膜图层到 scene\n      var layerContainer = createLayerContainer(sceneContainer);\n      this.maskLayer.setContainer(layerContainer, sceneContainer);\n      this.scene.addLayer(this.maskLayer);\n      this.emit('add', this);\n      return this;\n    }\n  }, {\n    key: \"onRemove\",\n    value: function onRemove() {\n      if (this.maskLayer) {\n        var _this$layerService;\n        var _this$controlOption3 = this.controlOption,\n          layers = _this$controlOption3.layers,\n          rightLayers = _this$controlOption3.rightLayers;\n        this.removeMaskFromLayers(layers);\n        this.removeMaskFromLayers(rightLayers);\n        (_this$layerService = this.layerService) === null || _this$layerService === void 0 || _this$layerService.remove(this.maskLayer);\n      }\n      this.unRegisterEvent();\n      this.removeAllListeners();\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      var _this$scene2;\n      var container = this.container;\n      DOM.removeClass(container, 'l7-control-swipe_hide');\n      // 启用掩膜\n      var _this$controlOption4 = this.controlOption,\n        layers = _this$controlOption4.layers,\n        rightLayers = _this$controlOption4.rightLayers;\n      layers.forEach(function (layer) {\n        return layer.enableMask();\n      });\n      rightLayers.forEach(function (layer) {\n        return layer.enableMask();\n      });\n      (_this$scene2 = this.scene) === null || _this$scene2 === void 0 || _this$scene2.render();\n      this.isShow = true;\n      this.emit('show', this);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      var _this$scene3;\n      var container = this.container;\n      DOM.addClass(container, 'l7-control-swipe_hide');\n      // 禁用掩膜\n      var _this$controlOption5 = this.controlOption,\n        layers = _this$controlOption5.layers,\n        rightLayers = _this$controlOption5.rightLayers;\n      layers.forEach(function (layer) {\n        return layer.disableMask();\n      });\n      rightLayers.forEach(function (layer) {\n        return layer.disableMask();\n      });\n      (_this$scene3 = this.scene) === null || _this$scene3 === void 0 || _this$scene3.render();\n      this.isShow = false;\n      this.emit('hide', this);\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(newOptions) {\n      var controlOption = _objectSpread(_objectSpread({}, this.controlOption), newOptions);\n      if (newOptions.className) {\n        this.setClassName(newOptions.className);\n      }\n      if (newOptions.style) {\n        this.setStyle(newOptions.style);\n      }\n      if (newOptions.orientation || newOptions.ratio !== undefined) {\n        this.setOrientationAndRatio(controlOption.orientation, controlOption.ratio);\n      }\n      if (newOptions.layers) {\n        var newLayers = newOptions.layers;\n        var oldLayers = this.controlOption.layers;\n        this.setLayers(newLayers, oldLayers, false);\n      }\n      if (newOptions.rightLayers) {\n        var _newLayers = newOptions.rightLayers;\n        var _oldLayers = this.controlOption.rightLayers;\n        this.setLayers(_newLayers, _oldLayers, true);\n      }\n      this.controlOption = controlOption;\n      this.updateMask();\n    }\n  }, {\n    key: \"registerEvent\",\n    value: function registerEvent() {\n      this.container.addEventListener('mousedown', this.move);\n      this.container.addEventListener('touchstart', this.move);\n      this.mapsService.on('camerachange', this.updateMask);\n    }\n  }, {\n    key: \"unRegisterEvent\",\n    value: function unRegisterEvent() {\n      var _this$mapsService;\n      this.container.removeEventListener('mousedown', this.move);\n      this.container.removeEventListener('touchstart', this.move);\n      (_this$mapsService = this.mapsService) === null || _this$mapsService === void 0 || _this$mapsService.off('camerachange', this.updateMask);\n    }\n  }, {\n    key: \"setOrientationAndRatio\",\n    value: function setOrientationAndRatio() {\n      var orientation = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'vertical';\n      var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.5;\n      this.container.classList.remove('horizontal', 'vertical');\n      this.container.classList.add(orientation);\n      if (orientation === 'horizontal') {\n        this.container.style.top = ratio * 100 + '%';\n        this.container.style.left = '';\n      } else {\n        this.container.style.left = ratio * 100 + '%';\n        this.container.style.top = '';\n      }\n    }\n  }, {\n    key: \"setLayers\",\n    value: function setLayers(newLayers, oldLayers) {\n      var isRightLayer = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var addLayers = newLayers.filter(function (layer) {\n        return oldLayers.includes(layer) === false;\n      });\n      var removeLayers = oldLayers.filter(function (layer) {\n        return newLayers.includes(layer) === false;\n      });\n      this.addMaskToLayers(addLayers, isRightLayer);\n      this.removeMaskFromLayers(removeLayers);\n    }\n  }, {\n    key: \"addMaskToLayers\",\n    value: function addMaskToLayers(layers, isRightLayer) {\n      var _this2 = this;\n      layers.forEach(function (layer) {\n        layer.updateLayerConfig({\n          maskInside: isRightLayer ? false : true\n        });\n        layer.addMask(_this2.maskLayer);\n      });\n    }\n  }, {\n    key: \"removeMaskFromLayers\",\n    value: function removeMaskFromLayers(layers) {\n      var _this3 = this;\n      layers.forEach(function (layer) {\n        // reset default is true\n        layer.updateLayerConfig({\n          maskInside: true\n        });\n        layer.removeMask(_this3.maskLayer);\n      });\n    }\n  }, {\n    key: \"getMaskGeoData\",\n    value: function getMaskGeoData() {\n      var _this$controlOption6 = this.controlOption,\n        _this$controlOption6$ = _this$controlOption6.ratio,\n        ratio = _this$controlOption6$ === void 0 ? 0.5 : _this$controlOption6$,\n        _this$controlOption6$2 = _this$controlOption6.orientation,\n        orientation = _this$controlOption6$2 === void 0 ? 'vertical' : _this$controlOption6$2;\n      var isVertical = orientation === 'vertical';\n      var _this$getBounds = this.getBounds(),\n        _this$getBounds2 = _slicedToArray(_this$getBounds, 2),\n        sw = _this$getBounds2[0],\n        ne = _this$getBounds2[1];\n      var _sw = _slicedToArray(sw, 2),\n        swLng = _sw[0],\n        swLat = _sw[1];\n      var _ne = _slicedToArray(ne, 2),\n        neLng = _ne[0],\n        neLat = _ne[1];\n      var coordinate;\n      if (isVertical) {\n        var centerLng = swLng + (neLng - swLng) * ratio;\n        coordinate = [[swLng, neLat], [centerLng, neLat], [centerLng, swLat], sw, [swLng, neLat]];\n      } else {\n        var size = this.getContainerSize();\n        var lngLat = this.mapsService.containerToLngLat([size[0], size[1] * ratio]);\n        var centerLat = lngLat.lat;\n        coordinate = [[swLng, neLat], ne, [neLng, centerLat], [swLng, centerLat], [swLng, neLat]];\n      }\n      var geoJSON = {\n        type: 'FeatureCollection',\n        features: [{\n          type: 'Feature',\n          properties: {},\n          geometry: {\n            type: 'Polygon',\n            coordinates: [coordinate]\n          }\n        }]\n      };\n      return geoJSON;\n    }\n  }, {\n    key: \"getContainerDOMRect\",\n    value: function getContainerDOMRect() {\n      var _this$mapsService$get;\n      var rect = (_this$mapsService$get = this.mapsService.getContainer()) === null || _this$mapsService$get === void 0 ? void 0 : _this$mapsService$get.getBoundingClientRect();\n      return rect;\n    }\n  }, {\n    key: \"getContainerSize\",\n    value: function getContainerSize() {\n      var size = this.mapsService.getSize();\n      return size;\n    }\n  }, {\n    key: \"getBounds\",\n    value: function getBounds() {\n      var bounds = this.mapsService.getBounds();\n      return bounds;\n    }\n\n    /**\n     * 添加要剪裁的图层\n     * @param layer 剪裁的图层\n     * @param addRight 是否添加图层到右侧, 默认添加到左侧.\n     */\n  }, {\n    key: \"addLayer\",\n    value: function addLayer(layer) {\n      var addRight = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var layers = Array.isArray(layer) ? layer : [layer];\n      if (addRight) {\n        var _this$controlOption$r2;\n        var rightLayers = (_this$controlOption$r2 = this.controlOption.rightLayers).concat.apply(_this$controlOption$r2, _toConsumableArray(layers));\n        this.setOptions({\n          rightLayers: rightLayers\n        });\n      } else {\n        var _this$controlOption$l;\n        var leftLayers = (_this$controlOption$l = this.controlOption.layers).concat.apply(_this$controlOption$l, _toConsumableArray(layers));\n        this.setOptions({\n          layers: leftLayers\n        });\n      }\n    }\n\n    /**\n     * 移除剪裁的图层\n     */\n  }, {\n    key: \"removeLayer\",\n    value: function removeLayer(layer) {\n      var layers = Array.isArray(layer) ? layer : [layer];\n      var leftLayers = this.controlOption.layers.filter(function (layer) {\n        return layers.includes(layer);\n      });\n      var rightLayers = this.controlOption.rightLayers.filter(function (layer) {\n        return layers.includes(layer);\n      });\n      this.setOptions({\n        layers: leftLayers,\n        rightLayers: rightLayers\n      });\n    }\n\n    /**\n     * 清除所有图层\n     */\n  }, {\n    key: \"removeLayers\",\n    value: function removeLayers() {\n      this.setOptions({\n        layers: [],\n        rightLayers: []\n      });\n    }\n  }]);\n  return Swipe;\n}(Control);\nexport { Swipe as default };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}