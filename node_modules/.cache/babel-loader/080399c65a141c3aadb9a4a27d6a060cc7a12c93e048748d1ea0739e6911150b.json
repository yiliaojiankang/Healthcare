{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { modifyCSS, createDom } from '@antv/dom-util';\nimport Base from '../base';\n// 网格背景图片\nvar GRID_PNG = 'url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)';\nvar Grid = /** @class */function (_super) {\n  __extends(Grid, _super);\n  function Grid(config) {\n    return _super.call(this, config) || this;\n  }\n  Grid.prototype.getDefaultCfgs = function () {\n    return {\n      img: GRID_PNG,\n      follow: true\n    };\n  };\n  Grid.prototype.init = function () {\n    var graph = this.get('graph');\n    var graphContainer = graph.get('container');\n    var canvas = graph.get('canvas').get('el');\n    var img = this.get('img') || GRID_PNG;\n    if (!img.includes('url(')) {\n      img = \"url(\\\"\".concat(img, \"\\\")\");\n    }\n    var container = createDom(\"<div class='g6-grid-container' style=\\\"position:absolute;overflow:hidden;z-index: -1;\\\"></div>\");\n    var gridContainer = createDom(\"<div\\n        class='g6-grid'\\n        style='position:absolute;\\n        background-image: \".concat(img, \";\\n        user-select: none\\n        '></div>\"));\n    this.set('container', container);\n    this.set('gridContainer', gridContainer);\n    this.positionInit();\n    container.appendChild(gridContainer);\n    graphContainer.insertBefore(container, canvas);\n  };\n  /** 定位信息初始化 */\n  Grid.prototype.positionInit = function () {\n    var graph = this.get('graph');\n    var minZoom = graph.get('minZoom');\n    var width = graph.get('width');\n    var height = graph.get('height');\n    modifyCSS(this.get('container'), {\n      width: \"\".concat(width, \"px\"),\n      height: \"\".concat(height, \"px\")\n    });\n    // 网格 40*40 需保证 (gridContainerWidth / 2) % 40 = 0 才能让网格线对齐左上角 故 * 80\n    var gridContainerWidth = width * 80 / minZoom;\n    var gridContainerHeight = height * 80 / minZoom;\n    modifyCSS(this.get('gridContainer'), {\n      width: \"\".concat(gridContainerWidth, \"px\"),\n      height: \"\".concat(gridContainerHeight, \"px\"),\n      left: \"-\".concat(gridContainerWidth / 2, \"px\"),\n      top: \"-\".concat(gridContainerHeight / 2, \"px\")\n    });\n  };\n  // class-methods-use-this\n  Grid.prototype.getEvents = function () {\n    return {\n      viewportchange: 'updateGrid'\n    };\n  };\n  /**\n   * viewport change 事件的响应函数\n   * @param param\n   */\n  Grid.prototype.updateGrid = function (param) {\n    var gridContainer = this.get('gridContainer');\n    var matrix = param.matrix;\n    if (!matrix) matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    var isFollow = this.get('follow');\n    var transform = \"matrix(\".concat(matrix[0], \", \").concat(matrix[1], \", \").concat(matrix[3], \", \").concat(matrix[4], \", \").concat(isFollow ? matrix[6] : '0', \", \").concat(isFollow ? matrix[7] : '0', \")\");\n    modifyCSS(gridContainer, {\n      transform: transform\n    });\n  };\n  Grid.prototype.getContainer = function () {\n    return this.get('container');\n  };\n  Grid.prototype.destroy = function () {\n    var graph = this.get('graph');\n    var graphContainer = graph.get('container');\n    var container = this.get('container');\n    graphContainer.removeChild(container);\n  };\n  return Grid;\n}(Base);\nexport default Grid;","map":{"version":3,"names":["__extends","_extendStatics","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","modifyCSS","createDom","Base","GRID_PNG","Grid","_super","config","getDefaultCfgs","img","follow","init","graph","get","graphContainer","canvas","includes","concat","container","gridContainer","set","positionInit","appendChild","insertBefore","minZoom","width","height","gridContainerWidth","gridContainerHeight","left","top","getEvents","viewportchange","updateGrid","param","matrix","isFollow","transform","getContainer","destroy","removeChild"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/g6-plugin/es/grid/index.js"],"sourcesContent":["var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { modifyCSS, createDom } from '@antv/dom-util';\nimport Base from '../base';\n// 网格背景图片\nvar GRID_PNG = 'url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)';\nvar Grid = /** @class */function (_super) {\n  __extends(Grid, _super);\n  function Grid(config) {\n    return _super.call(this, config) || this;\n  }\n  Grid.prototype.getDefaultCfgs = function () {\n    return {\n      img: GRID_PNG,\n      follow: true\n    };\n  };\n  Grid.prototype.init = function () {\n    var graph = this.get('graph');\n    var graphContainer = graph.get('container');\n    var canvas = graph.get('canvas').get('el');\n    var img = this.get('img') || GRID_PNG;\n    if (!img.includes('url(')) {\n      img = \"url(\\\"\".concat(img, \"\\\")\");\n    }\n    var container = createDom(\"<div class='g6-grid-container' style=\\\"position:absolute;overflow:hidden;z-index: -1;\\\"></div>\");\n    var gridContainer = createDom(\"<div\\n        class='g6-grid'\\n        style='position:absolute;\\n        background-image: \".concat(img, \";\\n        user-select: none\\n        '></div>\"));\n    this.set('container', container);\n    this.set('gridContainer', gridContainer);\n    this.positionInit();\n    container.appendChild(gridContainer);\n    graphContainer.insertBefore(container, canvas);\n  };\n  /** 定位信息初始化 */\n  Grid.prototype.positionInit = function () {\n    var graph = this.get('graph');\n    var minZoom = graph.get('minZoom');\n    var width = graph.get('width');\n    var height = graph.get('height');\n    modifyCSS(this.get('container'), {\n      width: \"\".concat(width, \"px\"),\n      height: \"\".concat(height, \"px\")\n    });\n    // 网格 40*40 需保证 (gridContainerWidth / 2) % 40 = 0 才能让网格线对齐左上角 故 * 80\n    var gridContainerWidth = width * 80 / minZoom;\n    var gridContainerHeight = height * 80 / minZoom;\n    modifyCSS(this.get('gridContainer'), {\n      width: \"\".concat(gridContainerWidth, \"px\"),\n      height: \"\".concat(gridContainerHeight, \"px\"),\n      left: \"-\".concat(gridContainerWidth / 2, \"px\"),\n      top: \"-\".concat(gridContainerHeight / 2, \"px\")\n    });\n  };\n  // class-methods-use-this\n  Grid.prototype.getEvents = function () {\n    return {\n      viewportchange: 'updateGrid'\n    };\n  };\n  /**\n   * viewport change 事件的响应函数\n   * @param param\n   */\n  Grid.prototype.updateGrid = function (param) {\n    var gridContainer = this.get('gridContainer');\n    var matrix = param.matrix;\n    if (!matrix) matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    var isFollow = this.get('follow');\n    var transform = \"matrix(\".concat(matrix[0], \", \").concat(matrix[1], \", \").concat(matrix[3], \", \").concat(matrix[4], \", \").concat(isFollow ? matrix[6] : '0', \", \").concat(isFollow ? matrix[7] : '0', \")\");\n    modifyCSS(gridContainer, {\n      transform: transform\n    });\n  };\n  Grid.prototype.getContainer = function () {\n    return this.get('container');\n  };\n  Grid.prototype.destroy = function () {\n    var graph = this.get('graph');\n    var graphContainer = graph.get('container');\n    var container = this.get('container');\n    graphContainer.removeChild(container);\n  };\n  return Grid;\n}(Base);\nexport default Grid;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}