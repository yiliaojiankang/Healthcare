{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { isArray } from '@antv/util';\nimport rectPath from './rect-path';\nimport path2Curve from './path-2-curve';\nvar base3 = function (t, p1, p2, p3, p4) {\n  var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4;\n  var t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n  return t * t2 - 3 * p1 + 3 * p2;\n};\nvar bezlen = function (x1, y1, x2, y2, x3, y3, x4, y4, z) {\n  if (z === null) {\n    z = 1;\n  }\n  z = z > 1 ? 1 : z < 0 ? 0 : z;\n  var z2 = z / 2;\n  var n = 12;\n  var Tvalues = [-0.1252, 0.1252, -0.3678, 0.3678, -0.5873, 0.5873, -0.7699, 0.7699, -0.9041, 0.9041, -0.9816, 0.9816];\n  var Cvalues = [0.2491, 0.2491, 0.2335, 0.2335, 0.2032, 0.2032, 0.1601, 0.1601, 0.1069, 0.1069, 0.0472, 0.0472];\n  var sum = 0;\n  for (var i = 0; i < n; i++) {\n    var ct = z2 * Tvalues[i] + z2;\n    var xbase = base3(ct, x1, x2, x3, x4);\n    var ybase = base3(ct, y1, y2, y3, y4);\n    var comb = xbase * xbase + ybase * ybase;\n    sum += Cvalues[i] * Math.sqrt(comb);\n  }\n  return z2 * sum;\n};\nvar curveDim = function (x0, y0, x1, y1, x2, y2, x3, y3) {\n  var tvalues = [];\n  var bounds = [[], []];\n  var a;\n  var b;\n  var c;\n  var t;\n  for (var i = 0; i < 2; ++i) {\n    if (i === 0) {\n      b = 6 * x0 - 12 * x1 + 6 * x2;\n      a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n      c = 3 * x1 - 3 * x0;\n    } else {\n      b = 6 * y0 - 12 * y1 + 6 * y2;\n      a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n      c = 3 * y1 - 3 * y0;\n    }\n    if (Math.abs(a) < 1e-12) {\n      if (Math.abs(b) < 1e-12) {\n        continue;\n      }\n      t = -c / b;\n      if (t > 0 && t < 1) {\n        tvalues.push(t);\n      }\n      continue;\n    }\n    var b2ac = b * b - 4 * c * a;\n    var sqrtb2ac = Math.sqrt(b2ac);\n    if (b2ac < 0) {\n      continue;\n    }\n    var t1 = (-b + sqrtb2ac) / (2 * a);\n    if (t1 > 0 && t1 < 1) {\n      tvalues.push(t1);\n    }\n    var t2 = (-b - sqrtb2ac) / (2 * a);\n    if (t2 > 0 && t2 < 1) {\n      tvalues.push(t2);\n    }\n  }\n  var j = tvalues.length;\n  var jlen = j;\n  var mt;\n  while (j--) {\n    t = tvalues[j];\n    mt = 1 - t;\n    bounds[0][j] = mt * mt * mt * x0 + 3 * mt * mt * t * x1 + 3 * mt * t * t * x2 + t * t * t * x3;\n    bounds[1][j] = mt * mt * mt * y0 + 3 * mt * mt * t * y1 + 3 * mt * t * t * y2 + t * t * t * y3;\n  }\n  bounds[0][jlen] = x0;\n  bounds[1][jlen] = y0;\n  bounds[0][jlen + 1] = x3;\n  bounds[1][jlen + 1] = y3;\n  bounds[0].length = bounds[1].length = jlen + 2;\n  return {\n    min: {\n      x: Math.min.apply(0, bounds[0]),\n      y: Math.min.apply(0, bounds[1])\n    },\n    max: {\n      x: Math.max.apply(0, bounds[0]),\n      y: Math.max.apply(0, bounds[1])\n    }\n  };\n};\nvar intersect = function (x1, y1, x2, y2, x3, y3, x4, y4) {\n  if (Math.max(x1, x2) < Math.min(x3, x4) || Math.min(x1, x2) > Math.max(x3, x4) || Math.max(y1, y2) < Math.min(y3, y4) || Math.min(y1, y2) > Math.max(y3, y4)) {\n    return;\n  }\n  var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4);\n  var ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4);\n  var denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n  if (!denominator) {\n    return;\n  }\n  var px = nx / denominator;\n  var py = ny / denominator;\n  var px2 = +px.toFixed(2);\n  var py2 = +py.toFixed(2);\n  if (px2 < +Math.min(x1, x2).toFixed(2) || px2 > +Math.max(x1, x2).toFixed(2) || px2 < +Math.min(x3, x4).toFixed(2) || px2 > +Math.max(x3, x4).toFixed(2) || py2 < +Math.min(y1, y2).toFixed(2) || py2 > +Math.max(y1, y2).toFixed(2) || py2 < +Math.min(y3, y4).toFixed(2) || py2 > +Math.max(y3, y4).toFixed(2)) {\n    return;\n  }\n  return {\n    x: px,\n    y: py\n  };\n};\nvar isPointInsideBBox = function (bbox, x, y) {\n  return x >= bbox.x && x <= bbox.x + bbox.width && y >= bbox.y && y <= bbox.y + bbox.height;\n};\nvar box = function (x, y, width, height) {\n  if (x === null) {\n    x = y = width = height = 0;\n  }\n  if (y === null) {\n    y = x.y;\n    width = x.width;\n    height = x.height;\n    x = x.x;\n  }\n  return {\n    x: x,\n    y: y,\n    width: width,\n    w: width,\n    height: height,\n    h: height,\n    x2: x + width,\n    y2: y + height,\n    cx: x + width / 2,\n    cy: y + height / 2,\n    r1: Math.min(width, height) / 2,\n    r2: Math.max(width, height) / 2,\n    r0: Math.sqrt(width * width + height * height) / 2,\n    path: rectPath(x, y, width, height),\n    vb: [x, y, width, height].join(' ')\n  };\n};\nvar isBBoxIntersect = function (bbox1, bbox2) {\n  // @ts-ignore\n  bbox1 = box(bbox1);\n  // @ts-ignore\n  bbox2 = box(bbox2);\n  return isPointInsideBBox(bbox2, bbox1.x, bbox1.y) || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y) || isPointInsideBBox(bbox2, bbox1.x, bbox1.y2) || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y2) || isPointInsideBBox(bbox1, bbox2.x, bbox2.y) || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y) || isPointInsideBBox(bbox1, bbox2.x, bbox2.y2) || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y2) || (bbox1.x < bbox2.x2 && bbox1.x > bbox2.x || bbox2.x < bbox1.x2 && bbox2.x > bbox1.x) && (bbox1.y < bbox2.y2 && bbox1.y > bbox2.y || bbox2.y < bbox1.y2 && bbox2.y > bbox1.y);\n};\nvar bezierBBox = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\n  if (!isArray(p1x)) {\n    p1x = [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y];\n  }\n  var bbox = curveDim.apply(null, p1x);\n  return box(bbox.min.x, bbox.min.y, bbox.max.x - bbox.min.x, bbox.max.y - bbox.min.y);\n};\nvar findDotsAtSegment = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n  var t1 = 1 - t;\n  var t13 = Math.pow(t1, 3);\n  var t12 = Math.pow(t1, 2);\n  var t2 = t * t;\n  var t3 = t2 * t;\n  var x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x;\n  var y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y;\n  var mx = p1x + 2 * t * (c1x - p1x) + t2 * (c2x - 2 * c1x + p1x);\n  var my = p1y + 2 * t * (c1y - p1y) + t2 * (c2y - 2 * c1y + p1y);\n  var nx = c1x + 2 * t * (c2x - c1x) + t2 * (p2x - 2 * c2x + c1x);\n  var ny = c1y + 2 * t * (c2y - c1y) + t2 * (p2y - 2 * c2y + c1y);\n  var ax = t1 * p1x + t * c1x;\n  var ay = t1 * p1y + t * c1y;\n  var cx = t1 * c2x + t * p2x;\n  var cy = t1 * c2y + t * p2y;\n  var alpha = 90 - Math.atan2(mx - nx, my - ny) * 180 / Math.PI;\n  // (mx > nx || my < ny) && (alpha += 180);\n  return {\n    x: x,\n    y: y,\n    m: {\n      x: mx,\n      y: my\n    },\n    n: {\n      x: nx,\n      y: ny\n    },\n    start: {\n      x: ax,\n      y: ay\n    },\n    end: {\n      x: cx,\n      y: cy\n    },\n    alpha: alpha\n  };\n};\nvar interHelper = function (bez1, bez2, justCount) {\n  // @ts-ignore\n  var bbox1 = bezierBBox(bez1);\n  // @ts-ignore\n  var bbox2 = bezierBBox(bez2);\n  if (!isBBoxIntersect(bbox1, bbox2)) {\n    return justCount ? 0 : [];\n  }\n  var l1 = bezlen.apply(0, bez1);\n  var l2 = bezlen.apply(0, bez2);\n  var n1 = ~~(l1 / 8);\n  var n2 = ~~(l2 / 8);\n  var dots1 = [];\n  var dots2 = [];\n  var xy = {};\n  var res = justCount ? 0 : [];\n  for (var i = 0; i < n1 + 1; i++) {\n    var d = findDotsAtSegment.apply(0, bez1.concat(i / n1));\n    dots1.push({\n      x: d.x,\n      y: d.y,\n      t: i / n1\n    });\n  }\n  for (var i = 0; i < n2 + 1; i++) {\n    var d = findDotsAtSegment.apply(0, bez2.concat(i / n2));\n    dots2.push({\n      x: d.x,\n      y: d.y,\n      t: i / n2\n    });\n  }\n  for (var i = 0; i < n1; i++) {\n    for (var j = 0; j < n2; j++) {\n      var di = dots1[i];\n      var di1 = dots1[i + 1];\n      var dj = dots2[j];\n      var dj1 = dots2[j + 1];\n      var ci = Math.abs(di1.x - di.x) < 0.001 ? 'y' : 'x';\n      var cj = Math.abs(dj1.x - dj.x) < 0.001 ? 'y' : 'x';\n      var is = intersect(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y);\n      if (is) {\n        if (xy[is.x.toFixed(4)] === is.y.toFixed(4)) {\n          continue;\n        }\n        xy[is.x.toFixed(4)] = is.y.toFixed(4);\n        var t1 = di.t + Math.abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t);\n        var t2 = dj.t + Math.abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n        if (t1 >= 0 && t1 <= 1 && t2 >= 0 && t2 <= 1) {\n          if (justCount) {\n            // @ts-ignore\n            res++;\n          } else {\n            // @ts-ignore\n            res.push({\n              x: is.x,\n              y: is.y,\n              t1: t1,\n              t2: t2\n            });\n          }\n        }\n      }\n    }\n  }\n  return res;\n};\nvar interPathHelper = function (path1, path2, justCount) {\n  // @ts-ignore\n  path1 = path2Curve(path1);\n  // @ts-ignore\n  path2 = path2Curve(path2);\n  var x1;\n  var y1;\n  var x2;\n  var y2;\n  var x1m;\n  var y1m;\n  var x2m;\n  var y2m;\n  var bez1;\n  var bez2;\n  var res = justCount ? 0 : [];\n  for (var i = 0, ii = path1.length; i < ii; i++) {\n    var pi = path1[i];\n    if (pi[0] === 'M') {\n      x1 = x1m = pi[1];\n      y1 = y1m = pi[2];\n    } else {\n      if (pi[0] === 'C') {\n        bez1 = [x1, y1].concat(pi.slice(1));\n        x1 = bez1[6];\n        y1 = bez1[7];\n      } else {\n        bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\n        x1 = x1m;\n        y1 = y1m;\n      }\n      for (var j = 0, jj = path2.length; j < jj; j++) {\n        var pj = path2[j];\n        if (pj[0] === 'M') {\n          x2 = x2m = pj[1];\n          y2 = y2m = pj[2];\n        } else {\n          if (pj[0] === 'C') {\n            bez2 = [x2, y2].concat(pj.slice(1));\n            x2 = bez2[6];\n            y2 = bez2[7];\n          } else {\n            bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\n            x2 = x2m;\n            y2 = y2m;\n          }\n          var intr = interHelper(bez1, bez2, justCount);\n          if (justCount) {\n            // @ts-ignore\n            res += intr;\n          } else {\n            // @ts-ignore\n            for (var k = 0, kk = intr.length; k < kk; k++) {\n              intr[k].segment1 = i;\n              intr[k].segment2 = j;\n              intr[k].bez1 = bez1;\n              intr[k].bez2 = bez2;\n            }\n            // @ts-ignore\n            res = res.concat(intr);\n          }\n        }\n      }\n    }\n  }\n  return res;\n};\nexport default function pathIntersection(path1, path2) {\n  // @ts-ignore\n  return interPathHelper(path1, path2);\n}","map":{"version":3,"names":["isArray","rectPath","path2Curve","base3","t","p1","p2","p3","p4","t1","t2","bezlen","x1","y1","x2","y2","x3","y3","x4","y4","z","z2","n","Tvalues","Cvalues","sum","i","ct","xbase","ybase","comb","Math","sqrt","curveDim","x0","y0","tvalues","bounds","a","b","c","abs","push","b2ac","sqrtb2ac","j","length","jlen","mt","min","x","apply","y","max","intersect","nx","ny","denominator","px","py","px2","toFixed","py2","isPointInsideBBox","bbox","width","height","box","w","h","cx","cy","r1","r2","r0","path","vb","join","isBBoxIntersect","bbox1","bbox2","bezierBBox","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","findDotsAtSegment","t13","pow","t12","t3","mx","my","ax","ay","alpha","atan2","PI","m","start","end","interHelper","bez1","bez2","justCount","l1","l2","n1","n2","dots1","dots2","xy","res","d","concat","di","di1","dj","dj1","ci","cj","is","interPathHelper","path1","path2","x1m","y1m","x2m","y2m","ii","pi","slice","jj","pj","intr","k","kk","segment1","segment2","pathIntersection"],"sources":["../src/path-intersection.ts"],"sourcesContent":[null],"mappings":";AAAA,SAASA,OAAO,QAAQ,YAAY;AAEpC,OAAOC,QAAQ,MAAM,aAAa;AAClC,OAAOC,UAAU,MAAM,gBAAgB;AAEvC,IAAMC,KAAK,GAAG,SAAAA,CAAUC,CAAS,EAAEC,EAAU,EAAEC,EAAU,EAAEC,EAAU,EAAEC,EAAU;EAC/E,IAAMC,EAAE,GAAG,CAAC,CAAC,GAAGJ,EAAE,GAAG,CAAC,GAAGC,EAAE,GAAG,CAAC,GAAGC,EAAE,GAAG,CAAC,GAAGC,EAAE;EAC7C,IAAME,EAAE,GAAGN,CAAC,GAAGK,EAAE,GAAG,CAAC,GAAGJ,EAAE,GAAG,EAAE,GAAGC,EAAE,GAAG,CAAC,GAAGC,EAAE;EAC7C,OAAOH,CAAC,GAAGM,EAAE,GAAG,CAAC,GAAGL,EAAE,GAAG,CAAC,GAAGC,EAAE;AACjC,CAAC;AAED,IAAMK,MAAM,GAAG,SAAAA,CAAUC,EAAU,EAAEC,EAAU,EAAEC,EAAU,EAAEC,EAAU,EAC9CC,EAAU,EAAEC,EAAU,EAAEC,EAAU,EAAEC,EAAU,EAAEC,CAAS;EAChF,IAAIA,CAAC,KAAK,IAAI,EAAE;IACdA,CAAC,GAAG,CAAC;;EAEPA,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,CAAC;EAC7B,IAAMC,EAAE,GAAGD,CAAC,GAAG,CAAC;EAChB,IAAME,CAAC,GAAG,EAAE;EACZ,IAAMC,OAAO,GAAG,CAAE,CAAC,MAAM,EAAE,MAAM,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,CAAC,MAAM,EAAE,MAAM,CAAE;EACxH,IAAMC,OAAO,GAAG,CAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,CAAE;EAClH,IAAIC,GAAG,GAAG,CAAC;EACX,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,CAAC,EAAEI,CAAC,EAAE,EAAE;IAC1B,IAAMC,EAAE,GAAGN,EAAE,GAAGE,OAAO,CAACG,CAAC,CAAC,GAAGL,EAAE;IAC/B,IAAMO,KAAK,GAAGzB,KAAK,CAACwB,EAAE,EAAEf,EAAE,EAAEE,EAAE,EAAEE,EAAE,EAAEE,EAAE,CAAC;IACvC,IAAMW,KAAK,GAAG1B,KAAK,CAACwB,EAAE,EAAEd,EAAE,EAAEE,EAAE,EAAEE,EAAE,EAAEE,EAAE,CAAC;IACvC,IAAMW,IAAI,GAAGF,KAAK,GAAGA,KAAK,GAAGC,KAAK,GAAGA,KAAK;IAC1CJ,GAAG,IAAID,OAAO,CAACE,CAAC,CAAC,GAAGK,IAAI,CAACC,IAAI,CAACF,IAAI,CAAC;;EAErC,OAAOT,EAAE,GAAGI,GAAG;AACjB,CAAC;AAYD,IAAMQ,QAAQ,GAAG,SAAAA,CAAUC,EAAU,EAAEC,EAAU,EAAEvB,EAAU,EAAEC,EAAU,EAC9CC,EAAU,EAAEC,EAAU,EAAEC,EAAU,EAAEC,EAAU;EACvE,IAAMmB,OAAO,GAAG,EAAE;EAClB,IAAMC,MAAM,GAAG,CACb,EAAE,EACF,EAAE,CACH;EACD,IAAIC,CAAC;EACL,IAAIC,CAAC;EACL,IAAIC,CAAC;EACL,IAAIpC,CAAC;EAEL,KAAK,IAAIsB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,EAAE,EAAEA,CAAC,EAAE;IAC1B,IAAIA,CAAC,KAAK,CAAC,EAAE;MACXa,CAAC,GAAG,CAAC,GAAGL,EAAE,GAAG,EAAE,GAAGtB,EAAE,GAAG,CAAC,GAAGE,EAAE;MAC7BwB,CAAC,GAAG,CAAC,CAAC,GAAGJ,EAAE,GAAG,CAAC,GAAGtB,EAAE,GAAG,CAAC,GAAGE,EAAE,GAAG,CAAC,GAAGE,EAAE;MACtCwB,CAAC,GAAG,CAAC,GAAG5B,EAAE,GAAG,CAAC,GAAGsB,EAAE;KACpB,MAAM;MACLK,CAAC,GAAG,CAAC,GAAGJ,EAAE,GAAG,EAAE,GAAGtB,EAAE,GAAG,CAAC,GAAGE,EAAE;MAC7BuB,CAAC,GAAG,CAAC,CAAC,GAAGH,EAAE,GAAG,CAAC,GAAGtB,EAAE,GAAG,CAAC,GAAGE,EAAE,GAAG,CAAC,GAAGE,EAAE;MACtCuB,CAAC,GAAG,CAAC,GAAG3B,EAAE,GAAG,CAAC,GAAGsB,EAAE;;IAErB,IAAIJ,IAAI,CAACU,GAAG,CAACH,CAAC,CAAC,GAAG,KAAK,EAAE;MACvB,IAAIP,IAAI,CAACU,GAAG,CAACF,CAAC,CAAC,GAAG,KAAK,EAAE;QACvB;;MAEFnC,CAAC,GAAG,CAACoC,CAAC,GAAGD,CAAC;MACV,IAAInC,CAAC,GAAG,CAAC,IAAIA,CAAC,GAAG,CAAC,EAAE;QAClBgC,OAAO,CAACM,IAAI,CAACtC,CAAC,CAAC;;MAEjB;;IAEF,IAAMuC,IAAI,GAAGJ,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAGC,CAAC,GAAGF,CAAC;IAC9B,IAAMM,QAAQ,GAAGb,IAAI,CAACC,IAAI,CAACW,IAAI,CAAC;IAChC,IAAIA,IAAI,GAAG,CAAC,EAAE;MACZ;;IAEF,IAAMlC,EAAE,GAAG,CAAC,CAAC8B,CAAC,GAAGK,QAAQ,KAAK,CAAC,GAAGN,CAAC,CAAC;IACpC,IAAI7B,EAAE,GAAG,CAAC,IAAIA,EAAE,GAAG,CAAC,EAAE;MACpB2B,OAAO,CAACM,IAAI,CAACjC,EAAE,CAAC;;IAElB,IAAMC,EAAE,GAAG,CAAC,CAAC6B,CAAC,GAAGK,QAAQ,KAAK,CAAC,GAAGN,CAAC,CAAC;IACpC,IAAI5B,EAAE,GAAG,CAAC,IAAIA,EAAE,GAAG,CAAC,EAAE;MACpB0B,OAAO,CAACM,IAAI,CAAChC,EAAE,CAAC;;;EAIpB,IAAImC,CAAC,GAAGT,OAAO,CAACU,MAAM;EACtB,IAAMC,IAAI,GAAGF,CAAC;EACd,IAAIG,EAAE;EACN,OAAOH,CAAC,EAAE,EAAE;IACVzC,CAAC,GAAGgC,OAAO,CAACS,CAAC,CAAC;IACdG,EAAE,GAAG,CAAC,GAAG5C,CAAC;IACViC,MAAM,CAAC,CAAC,CAAC,CAACQ,CAAC,CAAC,GAAIG,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGd,EAAE,GAAK,CAAC,GAAGc,EAAE,GAAGA,EAAE,GAAG5C,CAAC,GAAGQ,EAAG,GAAI,CAAC,GAAGoC,EAAE,GAAG5C,CAAC,GAAGA,CAAC,GAAGU,EAAG,GAAIV,CAAC,GAAGA,CAAC,GAAGA,CAAC,GAAGY,EAAG;IACtGqB,MAAM,CAAC,CAAC,CAAC,CAACQ,CAAC,CAAC,GAAIG,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGb,EAAE,GAAK,CAAC,GAAGa,EAAE,GAAGA,EAAE,GAAG5C,CAAC,GAAGS,EAAG,GAAI,CAAC,GAAGmC,EAAE,GAAG5C,CAAC,GAAGA,CAAC,GAAGW,EAAG,GAAIX,CAAC,GAAGA,CAAC,GAAGA,CAAC,GAAGa,EAAG;;EAGxGoB,MAAM,CAAC,CAAC,CAAC,CAACU,IAAI,CAAC,GAAGb,EAAE;EACpBG,MAAM,CAAC,CAAC,CAAC,CAACU,IAAI,CAAC,GAAGZ,EAAE;EACpBE,MAAM,CAAC,CAAC,CAAC,CAACU,IAAI,GAAG,CAAC,CAAC,GAAG/B,EAAE;EACxBqB,MAAM,CAAC,CAAC,CAAC,CAACU,IAAI,GAAG,CAAC,CAAC,GAAG9B,EAAE;EACxBoB,MAAM,CAAC,CAAC,CAAC,CAACS,MAAM,GAAGT,MAAM,CAAC,CAAC,CAAC,CAACS,MAAM,GAAGC,IAAI,GAAG,CAAC;EAE9C,OAAO;IACLE,GAAG,EAAE;MACHC,CAAC,EAAEnB,IAAI,CAACkB,GAAG,CAACE,KAAK,CAAC,CAAC,EAAEd,MAAM,CAAC,CAAC,CAAC,CAAC;MAC/Be,CAAC,EAAErB,IAAI,CAACkB,GAAG,CAACE,KAAK,CAAC,CAAC,EAAEd,MAAM,CAAC,CAAC,CAAC;KAC/B;IACDgB,GAAG,EAAE;MACHH,CAAC,EAAEnB,IAAI,CAACsB,GAAG,CAACF,KAAK,CAAC,CAAC,EAAEd,MAAM,CAAC,CAAC,CAAC,CAAC;MAC/Be,CAAC,EAAErB,IAAI,CAACsB,GAAG,CAACF,KAAK,CAAC,CAAC,EAAEd,MAAM,CAAC,CAAC,CAAC;;GAEjC;AACH,CAAC;AAED,IAAMiB,SAAS,GAAG,SAAAA,CAAU1C,EAAU,EAAEC,EAAU,EAAEC,EAAU,EAAEC,EAAU,EAC9CC,EAAU,EAAEC,EAAU,EAAEC,EAAU,EAAEC,EAAU;EACxE,IACEY,IAAI,CAACsB,GAAG,CAACzC,EAAE,EAAEE,EAAE,CAAC,GAAGiB,IAAI,CAACkB,GAAG,CAACjC,EAAE,EAAEE,EAAE,CAAC,IACnCa,IAAI,CAACkB,GAAG,CAACrC,EAAE,EAAEE,EAAE,CAAC,GAAGiB,IAAI,CAACsB,GAAG,CAACrC,EAAE,EAAEE,EAAE,CAAC,IACnCa,IAAI,CAACsB,GAAG,CAACxC,EAAE,EAAEE,EAAE,CAAC,GAAGgB,IAAI,CAACkB,GAAG,CAAChC,EAAE,EAAEE,EAAE,CAAC,IACnCY,IAAI,CAACkB,GAAG,CAACpC,EAAE,EAAEE,EAAE,CAAC,GAAGgB,IAAI,CAACsB,GAAG,CAACpC,EAAE,EAAEE,EAAE,CAAC,EACnC;IACA;;EAEF,IAAMoC,EAAE,GAAG,CAAC3C,EAAE,GAAGG,EAAE,GAAGF,EAAE,GAAGC,EAAE,KAAKE,EAAE,GAAGE,EAAE,CAAC,GAAG,CAACN,EAAE,GAAGE,EAAE,KAAKE,EAAE,GAAGG,EAAE,GAAGF,EAAE,GAAGC,EAAE,CAAC;EAC5E,IAAMsC,EAAE,GAAG,CAAC5C,EAAE,GAAGG,EAAE,GAAGF,EAAE,GAAGC,EAAE,KAAKG,EAAE,GAAGE,EAAE,CAAC,GAAG,CAACN,EAAE,GAAGE,EAAE,KAAKC,EAAE,GAAGG,EAAE,GAAGF,EAAE,GAAGC,EAAE,CAAC;EAC5E,IAAMuC,WAAW,GAAG,CAAC7C,EAAE,GAAGE,EAAE,KAAKG,EAAE,GAAGE,EAAE,CAAC,GAAG,CAACN,EAAE,GAAGE,EAAE,KAAKC,EAAE,GAAGE,EAAE,CAAC;EAEjE,IAAI,CAACuC,WAAW,EAAE;IAChB;;EAEF,IAAMC,EAAE,GAAGH,EAAE,GAAGE,WAAW;EAC3B,IAAME,EAAE,GAAGH,EAAE,GAAGC,WAAW;EAC3B,IAAMG,GAAG,GAAG,CAACF,EAAE,CAACG,OAAO,CAAC,CAAC,CAAC;EAC1B,IAAMC,GAAG,GAAG,CAACH,EAAE,CAACE,OAAO,CAAC,CAAC,CAAC;EAC1B,IACED,GAAG,GAAG,CAAC7B,IAAI,CAACkB,GAAG,CAACrC,EAAE,EAAEE,EAAE,CAAC,CAAC+C,OAAO,CAAC,CAAC,CAAC,IAClCD,GAAG,GAAG,CAAC7B,IAAI,CAACsB,GAAG,CAACzC,EAAE,EAAEE,EAAE,CAAC,CAAC+C,OAAO,CAAC,CAAC,CAAC,IAClCD,GAAG,GAAG,CAAC7B,IAAI,CAACkB,GAAG,CAACjC,EAAE,EAAEE,EAAE,CAAC,CAAC2C,OAAO,CAAC,CAAC,CAAC,IAClCD,GAAG,GAAG,CAAC7B,IAAI,CAACsB,GAAG,CAACrC,EAAE,EAAEE,EAAE,CAAC,CAAC2C,OAAO,CAAC,CAAC,CAAC,IAClCC,GAAG,GAAG,CAAC/B,IAAI,CAACkB,GAAG,CAACpC,EAAE,EAAEE,EAAE,CAAC,CAAC8C,OAAO,CAAC,CAAC,CAAC,IAClCC,GAAG,GAAG,CAAC/B,IAAI,CAACsB,GAAG,CAACxC,EAAE,EAAEE,EAAE,CAAC,CAAC8C,OAAO,CAAC,CAAC,CAAC,IAClCC,GAAG,GAAG,CAAC/B,IAAI,CAACkB,GAAG,CAAChC,EAAE,EAAEE,EAAE,CAAC,CAAC0C,OAAO,CAAC,CAAC,CAAC,IAClCC,GAAG,GAAG,CAAC/B,IAAI,CAACsB,GAAG,CAACpC,EAAE,EAAEE,EAAE,CAAC,CAAC0C,OAAO,CAAC,CAAC,CAAC,EAClC;IACA;;EAEF,OAAO;IACLX,CAAC,EAAEQ,EAAE;IACLN,CAAC,EAAEO;GACJ;AACH,CAAC;AAED,IAAMI,iBAAiB,GAAG,SAAAA,CAAUC,IAAI,EAAEd,CAAC,EAAEE,CAAC;EAC5C,OAAOF,CAAC,IAAIc,IAAI,CAACd,CAAC,IAChBA,CAAC,IAAIc,IAAI,CAACd,CAAC,GAAGc,IAAI,CAACC,KAAK,IACxBb,CAAC,IAAIY,IAAI,CAACZ,CAAC,IACXA,CAAC,IAAIY,IAAI,CAACZ,CAAC,GAAGY,IAAI,CAACE,MAAM;AAC7B,CAAC;AAED,IAAMC,GAAG,GAAG,SAAAA,CAAUjB,CAAC,EAAEE,CAAC,EAAEa,KAAK,EAAEC,MAAM;EACvC,IAAIhB,CAAC,KAAK,IAAI,EAAE;IACdA,CAAC,GAAGE,CAAC,GAAGa,KAAK,GAAGC,MAAM,GAAG,CAAC;;EAE5B,IAAId,CAAC,KAAK,IAAI,EAAE;IACdA,CAAC,GAAGF,CAAC,CAACE,CAAC;IACPa,KAAK,GAAGf,CAAC,CAACe,KAAK;IACfC,MAAM,GAAGhB,CAAC,CAACgB,MAAM;IACjBhB,CAAC,GAAGA,CAAC,CAACA,CAAC;;EAET,OAAO;IACLA,CAAC,EAAAA,CAAA;IACDE,CAAC,EAAAA,CAAA;IACDa,KAAK,EAAAA,KAAA;IACLG,CAAC,EAAEH,KAAK;IACRC,MAAM,EAAAA,MAAA;IACNG,CAAC,EAAEH,MAAM;IACTpD,EAAE,EAAEoC,CAAC,GAAGe,KAAK;IACblD,EAAE,EAAEqC,CAAC,GAAGc,MAAM;IACdI,EAAE,EAAEpB,CAAC,GAAGe,KAAK,GAAG,CAAC;IACjBM,EAAE,EAAEnB,CAAC,GAAGc,MAAM,GAAG,CAAC;IAClBM,EAAE,EAAEzC,IAAI,CAACkB,GAAG,CAACgB,KAAK,EAAEC,MAAM,CAAC,GAAG,CAAC;IAC/BO,EAAE,EAAE1C,IAAI,CAACsB,GAAG,CAACY,KAAK,EAAEC,MAAM,CAAC,GAAG,CAAC;IAC/BQ,EAAE,EAAE3C,IAAI,CAACC,IAAI,CAACiC,KAAK,GAAGA,KAAK,GAAGC,MAAM,GAAGA,MAAM,CAAC,GAAG,CAAC;IAClDS,IAAI,EAAE1E,QAAQ,CAACiD,CAAC,EAAEE,CAAC,EAAEa,KAAK,EAAEC,MAAM,CAAC;IACnCU,EAAE,EAAE,CAAE1B,CAAC,EAAEE,CAAC,EAAEa,KAAK,EAAEC,MAAM,CAAE,CAACW,IAAI,CAAC,GAAG;GACrC;AACH,CAAC;AAED,IAAMC,eAAe,GAAG,SAAAA,CAAUC,KAAK,EAAEC,KAAK;EAC5C;EACAD,KAAK,GAAGZ,GAAG,CAACY,KAAK,CAAC;EAClB;EACAC,KAAK,GAAGb,GAAG,CAACa,KAAK,CAAC;EAClB,OAAOjB,iBAAiB,CAACiB,KAAK,EAAED,KAAK,CAAC7B,CAAC,EAAE6B,KAAK,CAAC3B,CAAC,CAAC,IAAIW,iBAAiB,CAACiB,KAAK,EAAED,KAAK,CAACjE,EAAE,EAAEiE,KAAK,CAAC3B,CAAC,CAAC,IAAIW,iBAAiB,CAACiB,KAAK,EAAED,KAAK,CAAC7B,CAAC,EAAE6B,KAAK,CAAChE,EAAE,CAAC,IAAIgD,iBAAiB,CAACiB,KAAK,EAAED,KAAK,CAACjE,EAAE,EAAEiE,KAAK,CAAChE,EAAE,CAAC,IAAIgD,iBAAiB,CAACgB,KAAK,EAAEC,KAAK,CAAC9B,CAAC,EAAE8B,KAAK,CAAC5B,CAAC,CAAC,IAAIW,iBAAiB,CAACgB,KAAK,EAAEC,KAAK,CAAClE,EAAE,EAAEkE,KAAK,CAAC5B,CAAC,CAAC,IAAIW,iBAAiB,CAACgB,KAAK,EAAEC,KAAK,CAAC9B,CAAC,EAAE8B,KAAK,CAACjE,EAAE,CAAC,IAAIgD,iBAAiB,CAACgB,KAAK,EAAEC,KAAK,CAAClE,EAAE,EAAEkE,KAAK,CAACjE,EAAE,CAAC,IAAI,CAACgE,KAAK,CAAC7B,CAAC,GAAG8B,KAAK,CAAClE,EAAE,IAAIiE,KAAK,CAAC7B,CAAC,GAAG8B,KAAK,CAAC9B,CAAC,IAAI8B,KAAK,CAAC9B,CAAC,GAAG6B,KAAK,CAACjE,EAAE,IAAIkE,KAAK,CAAC9B,CAAC,GAAG6B,KAAK,CAAC7B,CAAC,MAAM6B,KAAK,CAAC3B,CAAC,GAAG4B,KAAK,CAACjE,EAAE,IAAIgE,KAAK,CAAC3B,CAAC,GAAG4B,KAAK,CAAC5B,CAAC,IAAI4B,KAAK,CAAC5B,CAAC,GAAG2B,KAAK,CAAChE,EAAE,IAAIiE,KAAK,CAAC5B,CAAC,GAAG2B,KAAK,CAAC3B,CAAC,CAAC;AAC7iB,CAAC;AAED,IAAM6B,UAAU,GAAG,SAAAA,CAAUC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG;EACjE,IAAI,CAACzF,OAAO,CAACkF,GAAG,CAAC,EAAE;IACjBA,GAAG,GAAG,CAAEA,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,CAAE;;EAElD,IAAMzB,IAAI,GAAG/B,QAAQ,CAACkB,KAAK,CAAC,IAAI,EAAE+B,GAAG,CAAC;EACtC,OAAOf,GAAG,CACRH,IAAI,CAACf,GAAG,CAACC,CAAC,EACVc,IAAI,CAACf,GAAG,CAACG,CAAC,EACVY,IAAI,CAACX,GAAG,CAACH,CAAC,GAAGc,IAAI,CAACf,GAAG,CAACC,CAAC,EACvBc,IAAI,CAACX,GAAG,CAACD,CAAC,GAAGY,IAAI,CAACf,GAAG,CAACG,CAAC,CACxB;AACH,CAAC;AAED,IAAMsC,iBAAiB,GAAG,SAAAA,CAAUR,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAErF,CAAC;EAC3E,IAAMK,EAAE,GAAG,CAAC,GAAGL,CAAC;EAChB,IAAMuF,GAAG,GAAG5D,IAAI,CAAC6D,GAAG,CAACnF,EAAE,EAAE,CAAC,CAAC;EAC3B,IAAMoF,GAAG,GAAG9D,IAAI,CAAC6D,GAAG,CAACnF,EAAE,EAAE,CAAC,CAAC;EAC3B,IAAMC,EAAE,GAAGN,CAAC,GAAGA,CAAC;EAChB,IAAM0F,EAAE,GAAGpF,EAAE,GAAGN,CAAC;EACjB,IAAM8C,CAAC,GAAGyC,GAAG,GAAGT,GAAG,GAAGW,GAAG,GAAG,CAAC,GAAGzF,CAAC,GAAGgF,GAAG,GAAG3E,EAAE,GAAG,CAAC,GAAGL,CAAC,GAAGA,CAAC,GAAGkF,GAAG,GAAGQ,EAAE,GAAGN,GAAG;EACzE,IAAMpC,CAAC,GAAGuC,GAAG,GAAGR,GAAG,GAAGU,GAAG,GAAG,CAAC,GAAGzF,CAAC,GAAGiF,GAAG,GAAG5E,EAAE,GAAG,CAAC,GAAGL,CAAC,GAAGA,CAAC,GAAGmF,GAAG,GAAGO,EAAE,GAAGL,GAAG;EACzE,IAAMM,EAAE,GAAGb,GAAG,GAAG,CAAC,GAAG9E,CAAC,IAAIgF,GAAG,GAAGF,GAAG,CAAC,GAAGxE,EAAE,IAAI4E,GAAG,GAAG,CAAC,GAAGF,GAAG,GAAGF,GAAG,CAAC;EACjE,IAAMc,EAAE,GAAGb,GAAG,GAAG,CAAC,GAAG/E,CAAC,IAAIiF,GAAG,GAAGF,GAAG,CAAC,GAAGzE,EAAE,IAAI6E,GAAG,GAAG,CAAC,GAAGF,GAAG,GAAGF,GAAG,CAAC;EACjE,IAAM5B,EAAE,GAAG6B,GAAG,GAAG,CAAC,GAAGhF,CAAC,IAAIkF,GAAG,GAAGF,GAAG,CAAC,GAAG1E,EAAE,IAAI8E,GAAG,GAAG,CAAC,GAAGF,GAAG,GAAGF,GAAG,CAAC;EACjE,IAAM5B,EAAE,GAAG6B,GAAG,GAAG,CAAC,GAAGjF,CAAC,IAAImF,GAAG,GAAGF,GAAG,CAAC,GAAG3E,EAAE,IAAI+E,GAAG,GAAG,CAAC,GAAGF,GAAG,GAAGF,GAAG,CAAC;EACjE,IAAMY,EAAE,GAAGxF,EAAE,GAAGyE,GAAG,GAAG9E,CAAC,GAAGgF,GAAG;EAC7B,IAAMc,EAAE,GAAGzF,EAAE,GAAG0E,GAAG,GAAG/E,CAAC,GAAGiF,GAAG;EAC7B,IAAMf,EAAE,GAAG7D,EAAE,GAAG6E,GAAG,GAAGlF,CAAC,GAAGoF,GAAG;EAC7B,IAAMjB,EAAE,GAAG9D,EAAE,GAAG8E,GAAG,GAAGnF,CAAC,GAAGqF,GAAG;EAC7B,IAAMU,KAAK,GAAI,EAAE,GAAGpE,IAAI,CAACqE,KAAK,CAACL,EAAE,GAAGxC,EAAE,EAAEyC,EAAE,GAAGxC,EAAE,CAAC,GAAG,GAAG,GAAGzB,IAAI,CAACsE,EAAG;EACjE;EACA,OAAO;IACLnD,CAAC,EAAAA,CAAA;IACDE,CAAC,EAAAA,CAAA;IACDkD,CAAC,EAAE;MACDpD,CAAC,EAAE6C,EAAE;MACL3C,CAAC,EAAE4C;KACJ;IACD1E,CAAC,EAAE;MACD4B,CAAC,EAAEK,EAAE;MACLH,CAAC,EAAEI;KACJ;IACD+C,KAAK,EAAE;MACLrD,CAAC,EAAE+C,EAAE;MACL7C,CAAC,EAAE8C;KACJ;IACDM,GAAG,EAAE;MACHtD,CAAC,EAAEoB,EAAE;MACLlB,CAAC,EAAEmB;KACJ;IACD4B,KAAK,EAAAA;GACN;AACH,CAAC;AAED,IAAMM,WAAW,GAAG,SAAAA,CAAUC,IAAI,EAAEC,IAAI,EAAEC,SAAS;EACjD;EACA,IAAM7B,KAAK,GAAGE,UAAU,CAACyB,IAAI,CAAC;EAC9B;EACA,IAAM1B,KAAK,GAAGC,UAAU,CAAC0B,IAAI,CAAC;EAC9B,IAAI,CAAC7B,eAAe,CAACC,KAAK,EAAEC,KAAK,CAAC,EAAE;IAClC,OAAO4B,SAAS,GAAG,CAAC,GAAG,EAAE;;EAE3B,IAAMC,EAAE,GAAGlG,MAAM,CAACwC,KAAK,CAAC,CAAC,EAAEuD,IAAI,CAAC;EAChC,IAAMI,EAAE,GAAGnG,MAAM,CAACwC,KAAK,CAAC,CAAC,EAAEwD,IAAI,CAAC;EAChC,IAAMI,EAAE,GAAG,CAAC,EAAEF,EAAE,GAAG,CAAC,CAAC;EACrB,IAAMG,EAAE,GAAG,CAAC,EAAEF,EAAE,GAAG,CAAC,CAAC;EACrB,IAAMG,KAAK,GAAG,EAAE;EAChB,IAAMC,KAAK,GAAG,EAAE;EAChB,IAAMC,EAAE,GAAG,EAAE;EACb,IAAIC,GAAG,GAAGR,SAAS,GAAG,CAAC,GAAG,EAAE;EAC5B,KAAK,IAAIlF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqF,EAAE,GAAG,CAAC,EAAErF,CAAC,EAAE,EAAE;IAC/B,IAAM2F,CAAC,GAAG3B,iBAAiB,CAACvC,KAAK,CAAC,CAAC,EAAEuD,IAAI,CAACY,MAAM,CAAC5F,CAAC,GAAGqF,EAAE,CAAC,CAAC;IACzDE,KAAK,CAACvE,IAAI,CAAC;MACTQ,CAAC,EAAEmE,CAAC,CAACnE,CAAC;MACNE,CAAC,EAAEiE,CAAC,CAACjE,CAAC;MACNhD,CAAC,EAAEsB,CAAC,GAAGqF;KACR,CAAC;;EAEJ,KAAK,IAAIrF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGsF,EAAE,GAAG,CAAC,EAAEtF,CAAC,EAAE,EAAE;IAC/B,IAAM2F,CAAC,GAAG3B,iBAAiB,CAACvC,KAAK,CAAC,CAAC,EAAEwD,IAAI,CAACW,MAAM,CAAC5F,CAAC,GAAGsF,EAAE,CAAC,CAAC;IACzDE,KAAK,CAACxE,IAAI,CAAC;MACTQ,CAAC,EAAEmE,CAAC,CAACnE,CAAC;MACNE,CAAC,EAAEiE,CAAC,CAACjE,CAAC;MACNhD,CAAC,EAAEsB,CAAC,GAAGsF;KACR,CAAC;;EAEJ,KAAK,IAAItF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqF,EAAE,EAAErF,CAAC,EAAE,EAAE;IAC3B,KAAK,IAAImB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmE,EAAE,EAAEnE,CAAC,EAAE,EAAE;MAC3B,IAAM0E,EAAE,GAAGN,KAAK,CAACvF,CAAC,CAAC;MACnB,IAAM8F,GAAG,GAAGP,KAAK,CAACvF,CAAC,GAAG,CAAC,CAAC;MACxB,IAAM+F,EAAE,GAAGP,KAAK,CAACrE,CAAC,CAAC;MACnB,IAAM6E,GAAG,GAAGR,KAAK,CAACrE,CAAC,GAAG,CAAC,CAAC;MACxB,IAAM8E,EAAE,GAAG5F,IAAI,CAACU,GAAG,CAAC+E,GAAG,CAACtE,CAAC,GAAGqE,EAAE,CAACrE,CAAC,CAAC,GAAG,KAAK,GAAG,GAAG,GAAG,GAAG;MACrD,IAAM0E,EAAE,GAAG7F,IAAI,CAACU,GAAG,CAACiF,GAAG,CAACxE,CAAC,GAAGuE,EAAE,CAACvE,CAAC,CAAC,GAAG,KAAK,GAAG,GAAG,GAAG,GAAG;MACrD,IAAM2E,EAAE,GAAGvE,SAAS,CAACiE,EAAE,CAACrE,CAAC,EAAEqE,EAAE,CAACnE,CAAC,EAAEoE,GAAG,CAACtE,CAAC,EAAEsE,GAAG,CAACpE,CAAC,EAAEqE,EAAE,CAACvE,CAAC,EAAEuE,EAAE,CAACrE,CAAC,EAAEsE,GAAG,CAACxE,CAAC,EAAEwE,GAAG,CAACtE,CAAC,CAAC;MACxE,IAAIyE,EAAE,EAAE;QACN,IAAIV,EAAE,CAACU,EAAE,CAAC3E,CAAC,CAACW,OAAO,CAAC,CAAC,CAAC,CAAC,KAAKgE,EAAE,CAACzE,CAAC,CAACS,OAAO,CAAC,CAAC,CAAC,EAAE;UAC3C;;QAEFsD,EAAE,CAACU,EAAE,CAAC3E,CAAC,CAACW,OAAO,CAAC,CAAC,CAAC,CAAC,GAAGgE,EAAE,CAACzE,CAAC,CAACS,OAAO,CAAC,CAAC,CAAC;QACrC,IAAMpD,EAAE,GAAG8G,EAAE,CAACnH,CAAC,GAAG2B,IAAI,CAACU,GAAG,CAAC,CAACoF,EAAE,CAACF,EAAE,CAAC,GAAGJ,EAAE,CAACI,EAAE,CAAC,KAAKH,GAAG,CAACG,EAAE,CAAC,GAAGJ,EAAE,CAACI,EAAE,CAAC,CAAC,CAAC,IAAIH,GAAG,CAACpH,CAAC,GAAGmH,EAAE,CAACnH,CAAC,CAAC;QACnF,IAAMM,EAAE,GAAG+G,EAAE,CAACrH,CAAC,GAAG2B,IAAI,CAACU,GAAG,CAAC,CAACoF,EAAE,CAACD,EAAE,CAAC,GAAGH,EAAE,CAACG,EAAE,CAAC,KAAKF,GAAG,CAACE,EAAE,CAAC,GAAGH,EAAE,CAACG,EAAE,CAAC,CAAC,CAAC,IAAIF,GAAG,CAACtH,CAAC,GAAGqH,EAAE,CAACrH,CAAC,CAAC;QACnF,IAAIK,EAAE,IAAI,CAAC,IAAIA,EAAE,IAAI,CAAC,IAAIC,EAAE,IAAI,CAAC,IAAIA,EAAE,IAAI,CAAC,EAAE;UAC5C,IAAIkG,SAAS,EAAE;YACb;YACAQ,GAAG,EAAE;WACN,MAAM;YACL;YACAA,GAAG,CAAC1E,IAAI,CAAC;cACPQ,CAAC,EAAE2E,EAAE,CAAC3E,CAAC;cACPE,CAAC,EAAEyE,EAAE,CAACzE,CAAC;cACP3C,EAAE,EAAAA,EAAA;cACFC,EAAE,EAAAA;aACH,CAAC;;;;;;EAMZ,OAAO0G,GAAG;AACZ,CAAC;AAED,IAAMU,eAAe,GAAG,SAAAA,CAAUC,KAAK,EAAEC,KAAK,EAAEpB,SAAS;EACvD;EACAmB,KAAK,GAAG7H,UAAU,CAAC6H,KAAK,CAAC;EACzB;EACAC,KAAK,GAAG9H,UAAU,CAAC8H,KAAK,CAAC;EACzB,IAAIpH,EAAE;EACN,IAAIC,EAAE;EACN,IAAIC,EAAE;EACN,IAAIC,EAAE;EACN,IAAIkH,GAAG;EACP,IAAIC,GAAG;EACP,IAAIC,GAAG;EACP,IAAIC,GAAG;EACP,IAAI1B,IAAI;EACR,IAAIC,IAAI;EACR,IAAIS,GAAG,GAAGR,SAAS,GAAG,CAAC,GAAG,EAAE;EAC5B,KAAK,IAAIlF,CAAC,GAAG,CAAC,EAAE2G,EAAE,GAAGN,KAAK,CAACjF,MAAM,EAAEpB,CAAC,GAAG2G,EAAE,EAAE3G,CAAC,EAAE,EAAE;IAC9C,IAAM4G,EAAE,GAAGP,KAAK,CAACrG,CAAC,CAAC;IACnB,IAAI4G,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;MACjB1H,EAAE,GAAGqH,GAAG,GAAGK,EAAE,CAAC,CAAC,CAAC;MAChBzH,EAAE,GAAGqH,GAAG,GAAGI,EAAE,CAAC,CAAC,CAAC;KACjB,MAAM;MACL,IAAIA,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;QACjB5B,IAAI,GAAG,CAAE9F,EAAE,EAAEC,EAAE,CAAE,CAACyG,MAAM,CAACgB,EAAE,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;QACrC3H,EAAE,GAAG8F,IAAI,CAAC,CAAC,CAAC;QACZ7F,EAAE,GAAG6F,IAAI,CAAC,CAAC,CAAC;OACb,MAAM;QACLA,IAAI,GAAG,CAAE9F,EAAE,EAAEC,EAAE,EAAED,EAAE,EAAEC,EAAE,EAAEoH,GAAG,EAAEC,GAAG,EAAED,GAAG,EAAEC,GAAG,CAAE;QAC7CtH,EAAE,GAAGqH,GAAG;QACRpH,EAAE,GAAGqH,GAAG;;MAEV,KAAK,IAAIrF,CAAC,GAAG,CAAC,EAAE2F,EAAE,GAAGR,KAAK,CAAClF,MAAM,EAAED,CAAC,GAAG2F,EAAE,EAAE3F,CAAC,EAAE,EAAE;QAC9C,IAAM4F,EAAE,GAAGT,KAAK,CAACnF,CAAC,CAAC;QACnB,IAAI4F,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;UACjB3H,EAAE,GAAGqH,GAAG,GAAGM,EAAE,CAAC,CAAC,CAAC;UAChB1H,EAAE,GAAGqH,GAAG,GAAGK,EAAE,CAAC,CAAC,CAAC;SACjB,MAAM;UACL,IAAIA,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;YACjB9B,IAAI,GAAG,CAAE7F,EAAE,EAAEC,EAAE,CAAE,CAACuG,MAAM,CAACmB,EAAE,CAACF,KAAK,CAAC,CAAC,CAAC,CAAC;YACrCzH,EAAE,GAAG6F,IAAI,CAAC,CAAC,CAAC;YACZ5F,EAAE,GAAG4F,IAAI,CAAC,CAAC,CAAC;WACb,MAAM;YACLA,IAAI,GAAG,CAAE7F,EAAE,EAAEC,EAAE,EAAED,EAAE,EAAEC,EAAE,EAAEoH,GAAG,EAAEC,GAAG,EAAED,GAAG,EAAEC,GAAG,CAAE;YAC7CtH,EAAE,GAAGqH,GAAG;YACRpH,EAAE,GAAGqH,GAAG;;UAEV,IAAMM,IAAI,GAAGjC,WAAW,CAACC,IAAI,EAAEC,IAAI,EAAEC,SAAS,CAAC;UAC/C,IAAIA,SAAS,EAAE;YACb;YACAQ,GAAG,IAAIsB,IAAI;WACZ,MAAM;YACL;YACA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEC,EAAE,GAAGF,IAAI,CAAC5F,MAAM,EAAE6F,CAAC,GAAGC,EAAE,EAAED,CAAC,EAAE,EAAE;cAC7CD,IAAI,CAACC,CAAC,CAAC,CAACE,QAAQ,GAAGnH,CAAC;cACpBgH,IAAI,CAACC,CAAC,CAAC,CAACG,QAAQ,GAAGjG,CAAC;cACpB6F,IAAI,CAACC,CAAC,CAAC,CAACjC,IAAI,GAAGA,IAAI;cACnBgC,IAAI,CAACC,CAAC,CAAC,CAAChC,IAAI,GAAGA,IAAI;;YAErB;YACAS,GAAG,GAAGA,GAAG,CAACE,MAAM,CAACoB,IAAI,CAAC;;;;;;EAMhC,OAAOtB,GAAG;AACZ,CAAC;AAED,eAAc,SAAU2B,gBAAgBA,CAAChB,KAAK,EAAEC,KAAK;EACnD;EACA,OAAOF,eAAe,CAACC,KAAK,EAAEC,KAAK,CAAC;AACtC"},"metadata":{},"sourceType":"module","externalDependencies":[]}