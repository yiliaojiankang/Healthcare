{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { getImage, isImageBitmap } from '@antv/l7-utils';\nexport default function image(data, cfg) {\n  // 为 extent 赋默认值\n  var _cfg$extent = cfg.extent,\n    extent = _cfg$extent === void 0 ? [121.168, 30.2828, 121.384, 30.4219] : _cfg$extent,\n    _cfg$requestParameter = cfg.requestParameters,\n    requestParameters = _cfg$requestParameter === void 0 ? {} : _cfg$requestParameter;\n  var images = new Promise(function (resolve) {\n    if (data instanceof HTMLImageElement || isImageBitmap(data)) {\n      resolve([data]);\n    } else {\n      loadData(data, requestParameters, function (res) {\n        resolve(res);\n      });\n    }\n  });\n  var resultData = {\n    originData: data,\n    images: images,\n    _id: 1,\n    dataArray: [{\n      _id: 0,\n      coordinates: [[extent[0], extent[1]], [extent[2], extent[3]]]\n    }]\n  };\n  return resultData;\n}\nfunction loadData(url, requestParameters, done) {\n  var imageDatas = [];\n  if (typeof url === 'string') {\n    getImage(_objectSpread(_objectSpread({}, requestParameters), {}, {\n      url: url\n    }), function (err, img) {\n      if (img) {\n        imageDatas.push(img);\n        done(imageDatas);\n      }\n    });\n  } else {\n    var imageCount = url.length;\n    var imageindex = 0;\n    url.forEach(function (item) {\n      getImage(_objectSpread(_objectSpread({}, requestParameters), {}, {\n        url: item\n      }), function (err, img) {\n        imageindex++;\n        if (img) {\n          imageDatas.push(img);\n        }\n        if (imageindex === imageCount) {\n          done(imageDatas);\n        }\n      });\n    });\n  }\n  return image;\n}","map":{"version":3,"names":["_objectSpread","getImage","isImageBitmap","image","data","cfg","_cfg$extent","extent","_cfg$requestParameter","requestParameters","images","Promise","resolve","HTMLImageElement","loadData","res","resultData","originData","_id","dataArray","coordinates","url","done","imageDatas","err","img","push","imageCount","length","imageindex","forEach","item"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-source/es/parser/image.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { getImage, isImageBitmap } from '@antv/l7-utils';\nexport default function image(data, cfg) {\n  // 为 extent 赋默认值\n  var _cfg$extent = cfg.extent,\n    extent = _cfg$extent === void 0 ? [121.168, 30.2828, 121.384, 30.4219] : _cfg$extent,\n    _cfg$requestParameter = cfg.requestParameters,\n    requestParameters = _cfg$requestParameter === void 0 ? {} : _cfg$requestParameter;\n  var images = new Promise(function (resolve) {\n    if (data instanceof HTMLImageElement || isImageBitmap(data)) {\n      resolve([data]);\n    } else {\n      loadData(data, requestParameters, function (res) {\n        resolve(res);\n      });\n    }\n  });\n  var resultData = {\n    originData: data,\n    images: images,\n    _id: 1,\n    dataArray: [{\n      _id: 0,\n      coordinates: [[extent[0], extent[1]], [extent[2], extent[3]]]\n    }]\n  };\n  return resultData;\n}\nfunction loadData(url, requestParameters, done) {\n  var imageDatas = [];\n  if (typeof url === 'string') {\n    getImage(_objectSpread(_objectSpread({}, requestParameters), {}, {\n      url: url\n    }), function (err, img) {\n      if (img) {\n        imageDatas.push(img);\n        done(imageDatas);\n      }\n    });\n  } else {\n    var imageCount = url.length;\n    var imageindex = 0;\n    url.forEach(function (item) {\n      getImage(_objectSpread(_objectSpread({}, requestParameters), {}, {\n        url: item\n      }), function (err, img) {\n        imageindex++;\n        if (img) {\n          imageDatas.push(img);\n        }\n        if (imageindex === imageCount) {\n          done(imageDatas);\n        }\n      });\n    });\n  }\n  return image;\n}"],"mappings":";AAAA,OAAOA,aAAa,MAAM,0CAA0C;AACpE,SAASC,QAAQ,EAAEC,aAAa,QAAQ,gBAAgB;AACxD,eAAe,SAASC,KAAKA,CAACC,IAAI,EAAEC,GAAG,EAAE;EACvC;EACA,IAAIC,WAAW,GAAGD,GAAG,CAACE,MAAM;IAC1BA,MAAM,GAAGD,WAAW,KAAK,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC,GAAGA,WAAW;IACpFE,qBAAqB,GAAGH,GAAG,CAACI,iBAAiB;IAC7CA,iBAAiB,GAAGD,qBAAqB,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC,GAAGA,qBAAqB;EACnF,IAAIE,MAAM,GAAG,IAAIC,OAAO,CAAC,UAAUC,OAAO,EAAE;IAC1C,IAAIR,IAAI,YAAYS,gBAAgB,IAAIX,aAAa,CAACE,IAAI,CAAC,EAAE;MAC3DQ,OAAO,CAAC,CAACR,IAAI,CAAC,CAAC;IACjB,CAAC,MAAM;MACLU,QAAQ,CAACV,IAAI,EAAEK,iBAAiB,EAAE,UAAUM,GAAG,EAAE;QAC/CH,OAAO,CAACG,GAAG,CAAC;MACd,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;EACF,IAAIC,UAAU,GAAG;IACfC,UAAU,EAAEb,IAAI;IAChBM,MAAM,EAAEA,MAAM;IACdQ,GAAG,EAAE,CAAC;IACNC,SAAS,EAAE,CAAC;MACVD,GAAG,EAAE,CAAC;MACNE,WAAW,EAAE,CAAC,CAACb,MAAM,CAAC,CAAC,CAAC,EAAEA,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAACA,MAAM,CAAC,CAAC,CAAC,EAAEA,MAAM,CAAC,CAAC,CAAC,CAAC;IAC9D,CAAC;EACH,CAAC;EACD,OAAOS,UAAU;AACnB;AACA,SAASF,QAAQA,CAACO,GAAG,EAAEZ,iBAAiB,EAAEa,IAAI,EAAE;EAC9C,IAAIC,UAAU,GAAG,EAAE;EACnB,IAAI,OAAOF,GAAG,KAAK,QAAQ,EAAE;IAC3BpB,QAAQ,CAACD,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAES,iBAAiB,CAAC,EAAE,CAAC,CAAC,EAAE;MAC/DY,GAAG,EAAEA;IACP,CAAC,CAAC,EAAE,UAAUG,GAAG,EAAEC,GAAG,EAAE;MACtB,IAAIA,GAAG,EAAE;QACPF,UAAU,CAACG,IAAI,CAACD,GAAG,CAAC;QACpBH,IAAI,CAACC,UAAU,CAAC;MAClB;IACF,CAAC,CAAC;EACJ,CAAC,MAAM;IACL,IAAII,UAAU,GAAGN,GAAG,CAACO,MAAM;IAC3B,IAAIC,UAAU,GAAG,CAAC;IAClBR,GAAG,CAACS,OAAO,CAAC,UAAUC,IAAI,EAAE;MAC1B9B,QAAQ,CAACD,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAES,iBAAiB,CAAC,EAAE,CAAC,CAAC,EAAE;QAC/DY,GAAG,EAAEU;MACP,CAAC,CAAC,EAAE,UAAUP,GAAG,EAAEC,GAAG,EAAE;QACtBI,UAAU,EAAE;QACZ,IAAIJ,GAAG,EAAE;UACPF,UAAU,CAACG,IAAI,CAACD,GAAG,CAAC;QACtB;QACA,IAAII,UAAU,KAAKF,UAAU,EAAE;UAC7BL,IAAI,CAACC,UAAU,CAAC;QAClB;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACA,OAAOpB,KAAK;AACd"},"metadata":{},"sourceType":"module","externalDependencies":[]}