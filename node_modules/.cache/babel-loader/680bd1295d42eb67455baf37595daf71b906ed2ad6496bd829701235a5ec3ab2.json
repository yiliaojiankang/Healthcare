{"ast":null,"code":"import \"core-js/modules/es.typed-array.to-reversed.js\";\nimport \"core-js/modules/es.typed-array.to-sorted.js\";\nimport \"core-js/modules/es.typed-array.with.js\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { BufferUsage } from '@antv/g-device-api';\nimport { gl } from '@antv/l7-core';\nimport { typedArrayCtorMap } from \"./constants\";\nimport { isTypedArray } from \"./utils/typedarray\";\nvar DeviceElements = /*#__PURE__*/function () {\n  function DeviceElements(device, options) {\n    _classCallCheck(this, DeviceElements);\n    var data = options.data,\n      type = options.type,\n      _options$count = options.count,\n      count = _options$count === void 0 ? 0 : _options$count;\n    var typed;\n    if (isTypedArray(data)) {\n      typed = data;\n    } else {\n      typed = new typedArrayCtorMap[this.type || gl.UNSIGNED_INT](data);\n    }\n    this.type = type;\n    this.count = count;\n    this.indexBuffer = device.createBuffer({\n      viewOrSize: typed,\n      usage: BufferUsage.INDEX\n    });\n  }\n  _createClass(DeviceElements, [{\n    key: \"get\",\n    value: function get() {\n      return this.indexBuffer;\n    }\n  }, {\n    key: \"subData\",\n    value: function subData(_ref) {\n      var data = _ref.data;\n      var typed;\n      if (isTypedArray(data)) {\n        typed = data;\n      } else {\n        typed = new typedArrayCtorMap[this.type || gl.UNSIGNED_INT](data);\n      }\n      this.indexBuffer.setSubData(0, new Uint8Array(typed.buffer));\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.indexBuffer.destroy();\n    }\n  }]);\n  return DeviceElements;\n}();\nexport { DeviceElements as default };","map":{"version":3,"names":["_classCallCheck","_createClass","BufferUsage","gl","typedArrayCtorMap","isTypedArray","DeviceElements","device","options","data","type","_options$count","count","typed","UNSIGNED_INT","indexBuffer","createBuffer","viewOrSize","usage","INDEX","key","value","get","subData","_ref","setSubData","Uint8Array","buffer","destroy","default"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-renderer/es/device/DeviceElements.js"],"sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { BufferUsage } from '@antv/g-device-api';\nimport { gl } from '@antv/l7-core';\nimport { typedArrayCtorMap } from \"./constants\";\nimport { isTypedArray } from \"./utils/typedarray\";\nvar DeviceElements = /*#__PURE__*/function () {\n  function DeviceElements(device, options) {\n    _classCallCheck(this, DeviceElements);\n    var data = options.data,\n      type = options.type,\n      _options$count = options.count,\n      count = _options$count === void 0 ? 0 : _options$count;\n    var typed;\n    if (isTypedArray(data)) {\n      typed = data;\n    } else {\n      typed = new typedArrayCtorMap[this.type || gl.UNSIGNED_INT](data);\n    }\n    this.type = type;\n    this.count = count;\n    this.indexBuffer = device.createBuffer({\n      viewOrSize: typed,\n      usage: BufferUsage.INDEX\n    });\n  }\n  _createClass(DeviceElements, [{\n    key: \"get\",\n    value: function get() {\n      return this.indexBuffer;\n    }\n  }, {\n    key: \"subData\",\n    value: function subData(_ref) {\n      var data = _ref.data;\n      var typed;\n      if (isTypedArray(data)) {\n        typed = data;\n      } else {\n        typed = new typedArrayCtorMap[this.type || gl.UNSIGNED_INT](data);\n      }\n      this.indexBuffer.setSubData(0, new Uint8Array(typed.buffer));\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.indexBuffer.destroy();\n    }\n  }]);\n  return DeviceElements;\n}();\nexport { DeviceElements as default };"],"mappings":";;;AAAA,OAAOA,eAAe,MAAM,2CAA2C;AACvE,OAAOC,YAAY,MAAM,wCAAwC;AACjE,SAASC,WAAW,QAAQ,oBAAoB;AAChD,SAASC,EAAE,QAAQ,eAAe;AAClC,SAASC,iBAAiB,QAAQ,aAAa;AAC/C,SAASC,YAAY,QAAQ,oBAAoB;AACjD,IAAIC,cAAc,GAAG,aAAa,YAAY;EAC5C,SAASA,cAAcA,CAACC,MAAM,EAAEC,OAAO,EAAE;IACvCR,eAAe,CAAC,IAAI,EAAEM,cAAc,CAAC;IACrC,IAAIG,IAAI,GAAGD,OAAO,CAACC,IAAI;MACrBC,IAAI,GAAGF,OAAO,CAACE,IAAI;MACnBC,cAAc,GAAGH,OAAO,CAACI,KAAK;MAC9BA,KAAK,GAAGD,cAAc,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,cAAc;IACxD,IAAIE,KAAK;IACT,IAAIR,YAAY,CAACI,IAAI,CAAC,EAAE;MACtBI,KAAK,GAAGJ,IAAI;IACd,CAAC,MAAM;MACLI,KAAK,GAAG,IAAIT,iBAAiB,CAAC,IAAI,CAACM,IAAI,IAAIP,EAAE,CAACW,YAAY,CAAC,CAACL,IAAI,CAAC;IACnE;IACA,IAAI,CAACC,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACE,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACG,WAAW,GAAGR,MAAM,CAACS,YAAY,CAAC;MACrCC,UAAU,EAAEJ,KAAK;MACjBK,KAAK,EAAEhB,WAAW,CAACiB;IACrB,CAAC,CAAC;EACJ;EACAlB,YAAY,CAACK,cAAc,EAAE,CAAC;IAC5Bc,GAAG,EAAE,KAAK;IACVC,KAAK,EAAE,SAASC,GAAGA,CAAA,EAAG;MACpB,OAAO,IAAI,CAACP,WAAW;IACzB;EACF,CAAC,EAAE;IACDK,GAAG,EAAE,SAAS;IACdC,KAAK,EAAE,SAASE,OAAOA,CAACC,IAAI,EAAE;MAC5B,IAAIf,IAAI,GAAGe,IAAI,CAACf,IAAI;MACpB,IAAII,KAAK;MACT,IAAIR,YAAY,CAACI,IAAI,CAAC,EAAE;QACtBI,KAAK,GAAGJ,IAAI;MACd,CAAC,MAAM;QACLI,KAAK,GAAG,IAAIT,iBAAiB,CAAC,IAAI,CAACM,IAAI,IAAIP,EAAE,CAACW,YAAY,CAAC,CAACL,IAAI,CAAC;MACnE;MACA,IAAI,CAACM,WAAW,CAACU,UAAU,CAAC,CAAC,EAAE,IAAIC,UAAU,CAACb,KAAK,CAACc,MAAM,CAAC,CAAC;IAC9D;EACF,CAAC,EAAE;IACDP,GAAG,EAAE,SAAS;IACdC,KAAK,EAAE,SAASO,OAAOA,CAAA,EAAG;MACxB,IAAI,CAACb,WAAW,CAACa,OAAO,CAAC,CAAC;IAC5B;EACF,CAAC,CAAC,CAAC;EACH,OAAOtB,cAAc;AACvB,CAAC,CAAC,CAAC;AACH,SAASA,cAAc,IAAIuB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}