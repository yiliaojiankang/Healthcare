{"ast":null,"code":"var DEFAULT_TRIGGER = 'ctrl';\nvar ALLOW_EVENTS = ['shift', 'ctrl', 'alt', 'control'];\nvar DEFAULT_COMBINED_KEY = '1';\nexport default {\n  getDefaultCfg: function getDefaultCfg() {\n    return {\n      trigger: DEFAULT_TRIGGER,\n      combinedKey: DEFAULT_COMBINED_KEY,\n      functionName: 'fitView',\n      functionParams: []\n    };\n  },\n  getEvents: function getEvents() {\n    // 检测输入是否合法\n    if (!(ALLOW_EVENTS.indexOf(this.trigger.toLowerCase()) > -1)) {\n      this.trigger = DEFAULT_TRIGGER;\n      console.warn(\"Behavior shortcuts-fit-view \\u7684 trigger \\u53C2\\u6570 '\".concat(this.trigger, \"' \\u4E0D\\u5408\\u6CD5\\uFF0C\\u8BF7\\u8F93\\u5165 'drag'\\u3001'shift'\\u3001'ctrl' \\u6216 'alt'\"));\n    }\n    if (this.combinedKey === this.trigger) {\n      this.combinedKey = undefined;\n    }\n    return {\n      keyup: 'onKeyUp',\n      keydown: 'onKeyDown'\n    };\n  },\n  onKeyDown: function onKeyDown(e) {\n    var code = e.key;\n    if (!code) {\n      return;\n    }\n    var triggerLowerCase = this.trigger.toLowerCase();\n    var codeLowerCase = code.toLowerCase();\n    // 按住 control 键时，允许用户设置 trigger 为 ctrl\n    if (!this.triggerKeydown) {\n      if (codeLowerCase === triggerLowerCase || codeLowerCase === 'control' && triggerLowerCase === 'ctrl' || codeLowerCase === 'ctrl' && triggerLowerCase === 'control') {\n        this.triggerKeydown = true;\n      } else {\n        this.triggerKeydown = false;\n      }\n    }\n    var graph = this.graph;\n    if (!graph[this.functionName]) {\n      console.warn(\"Behavior shortcuts-fit-view \\u7684 functionName \\u53C2\\u6570 '\".concat(this.functionName, \"' \\u4E0D\\u5408\\u6CD5\\uFF0C\\u5B83\\u4E0D\\u662F Graph \\u7684\\u4E00\\u4E2A\\u51FD\\u6570\\u540D\"));\n      return {};\n    }\n    // 未配置 combinedKey，直接 fitView\n    if (this.triggerKeydown && !this.combinedKey) {\n      if (this.functionParams && this.functionParams.length) graph[this.functionName].apply(graph, this.functionParams);else graph[this.functionName]();\n      return;\n    }\n    var combinedKeyLowerCase = this.combinedKey.toLowerCase();\n    if (this.triggerKeydown) {\n      if (codeLowerCase === combinedKeyLowerCase || codeLowerCase === 'control' && combinedKeyLowerCase === 'ctrl' || codeLowerCase === 'ctrl' && combinedKeyLowerCase === 'control') {\n        if (this.functionParams && this.functionParams.length) graph[this.functionName].apply(graph, this.functionParams);else graph[this.functionName]();\n      }\n    }\n  },\n  onKeyUp: function onKeyUp() {\n    if (this.brush) {\n      // 清除所有选中状态后，设置拖得动状态为false，并清除框选的brush\n      this.brush.remove(true);\n      this.brush = null;\n      this.dragging = false;\n    }\n    this.triggerKeydown = false;\n  }\n};","map":{"version":3,"names":["DEFAULT_TRIGGER","ALLOW_EVENTS","DEFAULT_COMBINED_KEY","getDefaultCfg","trigger","combinedKey","functionName","functionParams","getEvents","indexOf","toLowerCase","console","warn","concat","undefined","keyup","keydown","onKeyDown","e","code","key","triggerLowerCase","codeLowerCase","triggerKeydown","graph","length","apply","combinedKeyLowerCase","onKeyUp","brush","remove","dragging"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/g6-pc/es/behavior/shortcuts-call.js"],"sourcesContent":["var DEFAULT_TRIGGER = 'ctrl';\nvar ALLOW_EVENTS = ['shift', 'ctrl', 'alt', 'control'];\nvar DEFAULT_COMBINED_KEY = '1';\nexport default {\n  getDefaultCfg: function getDefaultCfg() {\n    return {\n      trigger: DEFAULT_TRIGGER,\n      combinedKey: DEFAULT_COMBINED_KEY,\n      functionName: 'fitView',\n      functionParams: []\n    };\n  },\n  getEvents: function getEvents() {\n    // 检测输入是否合法\n    if (!(ALLOW_EVENTS.indexOf(this.trigger.toLowerCase()) > -1)) {\n      this.trigger = DEFAULT_TRIGGER;\n      console.warn(\"Behavior shortcuts-fit-view \\u7684 trigger \\u53C2\\u6570 '\".concat(this.trigger, \"' \\u4E0D\\u5408\\u6CD5\\uFF0C\\u8BF7\\u8F93\\u5165 'drag'\\u3001'shift'\\u3001'ctrl' \\u6216 'alt'\"));\n    }\n    if (this.combinedKey === this.trigger) {\n      this.combinedKey = undefined;\n    }\n    return {\n      keyup: 'onKeyUp',\n      keydown: 'onKeyDown'\n    };\n  },\n  onKeyDown: function onKeyDown(e) {\n    var code = e.key;\n    if (!code) {\n      return;\n    }\n    var triggerLowerCase = this.trigger.toLowerCase();\n    var codeLowerCase = code.toLowerCase();\n    // 按住 control 键时，允许用户设置 trigger 为 ctrl\n    if (!this.triggerKeydown) {\n      if (codeLowerCase === triggerLowerCase || codeLowerCase === 'control' && triggerLowerCase === 'ctrl' || codeLowerCase === 'ctrl' && triggerLowerCase === 'control') {\n        this.triggerKeydown = true;\n      } else {\n        this.triggerKeydown = false;\n      }\n    }\n    var graph = this.graph;\n    if (!graph[this.functionName]) {\n      console.warn(\"Behavior shortcuts-fit-view \\u7684 functionName \\u53C2\\u6570 '\".concat(this.functionName, \"' \\u4E0D\\u5408\\u6CD5\\uFF0C\\u5B83\\u4E0D\\u662F Graph \\u7684\\u4E00\\u4E2A\\u51FD\\u6570\\u540D\"));\n      return {};\n    }\n    // 未配置 combinedKey，直接 fitView\n    if (this.triggerKeydown && !this.combinedKey) {\n      if (this.functionParams && this.functionParams.length) graph[this.functionName].apply(graph, this.functionParams);else graph[this.functionName]();\n      return;\n    }\n    var combinedKeyLowerCase = this.combinedKey.toLowerCase();\n    if (this.triggerKeydown) {\n      if (codeLowerCase === combinedKeyLowerCase || codeLowerCase === 'control' && combinedKeyLowerCase === 'ctrl' || codeLowerCase === 'ctrl' && combinedKeyLowerCase === 'control') {\n        if (this.functionParams && this.functionParams.length) graph[this.functionName].apply(graph, this.functionParams);else graph[this.functionName]();\n      }\n    }\n  },\n  onKeyUp: function onKeyUp() {\n    if (this.brush) {\n      // 清除所有选中状态后，设置拖得动状态为false，并清除框选的brush\n      this.brush.remove(true);\n      this.brush = null;\n      this.dragging = false;\n    }\n    this.triggerKeydown = false;\n  }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}