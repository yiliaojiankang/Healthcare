{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nif (!window) {\n  throw Error('BMapGL JSAPI can only be used in Browser.');\n}\nvar LoadStatus = /*#__PURE__*/function (LoadStatus) {\n  LoadStatus[\"notload\"] = \"notload\";\n  LoadStatus[\"loading\"] = \"loading\";\n  LoadStatus[\"loaded\"] = \"loaded\";\n  LoadStatus[\"failed\"] = \"failed\";\n  return LoadStatus;\n}(LoadStatus || {});\nvar config = {\n  key: '',\n  BMapGL: {\n    version: '1.0'\n  }\n};\nvar Status = {\n  BMapGL: LoadStatus.notload\n};\nvar onloadCBKs = [];\nvar onload = function onload(callback) {\n  if (typeof callback === 'function') {\n    if (Status.BMapGL === LoadStatus.loaded) {\n      callback(window.BMapGL);\n      return;\n    }\n    onloadCBKs.push(callback);\n  }\n};\nvar load = function load(options) {\n  return new Promise(function (resolve, reject) {\n    if (Status.BMapGL === LoadStatus.failed) {\n      reject('');\n    } else if (Status.BMapGL === LoadStatus.notload) {\n      // 初次加载\n      var key = options.key,\n        version = options.version;\n      if (!key) {\n        reject('请填写key');\n        return;\n      }\n      config.key = key;\n      config.BMapGL.version = version || config.BMapGL.version;\n      Status.BMapGL = LoadStatus.loading;\n      var parentNode = document.body || document.head;\n      window.___onBMapGLAPILoaded = function (err) {\n        delete window.___onBMapGLAPILoaded;\n        if (err) {\n          Status.BMapGL = LoadStatus.failed;\n          reject(err);\n        } else {\n          Status.BMapGL = LoadStatus.loaded;\n          while (onloadCBKs.length) {\n            onloadCBKs.splice(0, 1)[0](window.BMapGL);\n          }\n        }\n      };\n      var script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.src = \"https://api.map.baidu.com/api?type=webgl&v=\".concat(config.BMapGL.version, \"&ak=\").concat(config.key, \"&callback=___onBMapGLAPILoaded\");\n      script.onerror = function (e) {\n        Status.BMapGL = LoadStatus.failed;\n        reject(e);\n      };\n      parentNode.appendChild(script);\n      onload(resolve);\n    } else if (Status.BMapGL === LoadStatus.loaded) {\n      // deal multi load\n      if (options.key && options.key !== config.key) {\n        reject('多个不一致的 key');\n        return;\n      }\n      if (options.version && options.version !== config.BMapGL.version) {\n        reject('不允许多个版本 JSAPI 混用');\n        return;\n      }\n      resolve(window.BMapGL);\n    } else {\n      // loading\n      if (options.key && options.key !== config.key) {\n        reject('多个不一致的 key');\n        return;\n      }\n      if (options.version && options.version !== config.BMapGL.version) {\n        reject('不允许多个版本 JSAPI 混用');\n        return;\n      }\n      onload(resolve);\n    }\n  });\n};\nvar reset = function reset() {\n  // @ts-ignore\n  delete window.BMapGL;\n  config = {\n    key: '',\n    BMapGL: {\n      version: '1.0'\n    }\n  };\n  Status = {\n    BMapGL: LoadStatus.notload\n  };\n};\nexport default {\n  load: load,\n  reset: reset\n};","map":{"version":3,"names":["window","Error","LoadStatus","config","key","BMapGL","version","Status","notload","onloadCBKs","onload","callback","loaded","push","load","options","Promise","resolve","reject","failed","loading","parentNode","document","body","head","___onBMapGLAPILoaded","err","length","splice","script","createElement","type","src","concat","onerror","e","appendChild","reset"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-maps/es/bmap/bmapglloader.js"],"sourcesContent":["if (!window) {\n  throw Error('BMapGL JSAPI can only be used in Browser.');\n}\nvar LoadStatus = /*#__PURE__*/function (LoadStatus) {\n  LoadStatus[\"notload\"] = \"notload\";\n  LoadStatus[\"loading\"] = \"loading\";\n  LoadStatus[\"loaded\"] = \"loaded\";\n  LoadStatus[\"failed\"] = \"failed\";\n  return LoadStatus;\n}(LoadStatus || {});\nvar config = {\n  key: '',\n  BMapGL: {\n    version: '1.0'\n  }\n};\nvar Status = {\n  BMapGL: LoadStatus.notload\n};\nvar onloadCBKs = [];\nvar onload = function onload(callback) {\n  if (typeof callback === 'function') {\n    if (Status.BMapGL === LoadStatus.loaded) {\n      callback(window.BMapGL);\n      return;\n    }\n    onloadCBKs.push(callback);\n  }\n};\nvar load = function load(options) {\n  return new Promise(function (resolve, reject) {\n    if (Status.BMapGL === LoadStatus.failed) {\n      reject('');\n    } else if (Status.BMapGL === LoadStatus.notload) {\n      // 初次加载\n      var key = options.key,\n        version = options.version;\n      if (!key) {\n        reject('请填写key');\n        return;\n      }\n      config.key = key;\n      config.BMapGL.version = version || config.BMapGL.version;\n      Status.BMapGL = LoadStatus.loading;\n      var parentNode = document.body || document.head;\n      window.___onBMapGLAPILoaded = function (err) {\n        delete window.___onBMapGLAPILoaded;\n        if (err) {\n          Status.BMapGL = LoadStatus.failed;\n          reject(err);\n        } else {\n          Status.BMapGL = LoadStatus.loaded;\n          while (onloadCBKs.length) {\n            onloadCBKs.splice(0, 1)[0](window.BMapGL);\n          }\n        }\n      };\n      var script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.src = \"https://api.map.baidu.com/api?type=webgl&v=\".concat(config.BMapGL.version, \"&ak=\").concat(config.key, \"&callback=___onBMapGLAPILoaded\");\n      script.onerror = function (e) {\n        Status.BMapGL = LoadStatus.failed;\n        reject(e);\n      };\n      parentNode.appendChild(script);\n      onload(resolve);\n    } else if (Status.BMapGL === LoadStatus.loaded) {\n      // deal multi load\n      if (options.key && options.key !== config.key) {\n        reject('多个不一致的 key');\n        return;\n      }\n      if (options.version && options.version !== config.BMapGL.version) {\n        reject('不允许多个版本 JSAPI 混用');\n        return;\n      }\n      resolve(window.BMapGL);\n    } else {\n      // loading\n      if (options.key && options.key !== config.key) {\n        reject('多个不一致的 key');\n        return;\n      }\n      if (options.version && options.version !== config.BMapGL.version) {\n        reject('不允许多个版本 JSAPI 混用');\n        return;\n      }\n      onload(resolve);\n    }\n  });\n};\nvar reset = function reset() {\n  // @ts-ignore\n  delete window.BMapGL;\n  config = {\n    key: '',\n    BMapGL: {\n      version: '1.0'\n    }\n  };\n  Status = {\n    BMapGL: LoadStatus.notload\n  };\n};\nexport default {\n  load: load,\n  reset: reset\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}