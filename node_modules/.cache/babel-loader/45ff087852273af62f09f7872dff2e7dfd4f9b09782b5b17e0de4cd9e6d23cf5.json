{"ast":null,"code":"/**\n * @fileoverview marker\n * @author dengfuping_develop@163.com\n */\nimport { __extends } from \"tslib\";\nimport { isArray, isFunction } from '@antv/util';\nimport ShapeBase from '../base';\nimport symbolsFactory from './symbols';\nvar Marker = /** @class */function (_super) {\n  __extends(Marker, _super);\n  function Marker() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = 'marker';\n    _this.canFill = true;\n    _this.canStroke = true;\n    return _this;\n  }\n  Marker.prototype.createPath = function (context) {\n    var el = this.get('el');\n    el.setAttribute('d', this._assembleMarker());\n  };\n  Marker.prototype._assembleMarker = function () {\n    var d = this._getPath();\n    if (isArray(d)) {\n      return d.map(function (path) {\n        return path.join(' ');\n      }).join('');\n    }\n    return d;\n  };\n  Marker.prototype._getPath = function () {\n    var attrs = this.attr();\n    var x = attrs.x,\n      y = attrs.y;\n    // 兼容 r 和 radius 两种写法，推荐使用 r\n    var r = attrs.r || attrs.radius;\n    var symbol = attrs.symbol || 'circle';\n    var method;\n    if (isFunction(symbol)) {\n      method = symbol;\n    } else {\n      method = symbolsFactory.get(symbol);\n    }\n    if (!method) {\n      console.warn(method + \" symbol is not exist.\");\n      return null;\n    }\n    return method(x, y, r);\n  };\n  // 作为其静态属性\n  Marker.symbolsFactory = symbolsFactory;\n  return Marker;\n}(ShapeBase);\nexport default Marker;","map":{"version":3,"names":["isArray","isFunction","ShapeBase","symbolsFactory","Marker","_super","__extends","_this","apply","arguments","type","canFill","canStroke","prototype","createPath","context","el","get","setAttribute","_assembleMarker","d","_getPath","map","path","join","attrs","attr","x","y","r","radius","symbol","method","console","warn"],"sources":["../../../src/shape/marker/index.ts"],"sourcesContent":[null],"mappings":"AAAA;;;;;AAKA,SAASA,OAAO,EAAEC,UAAU,QAAQ,YAAY;AAChD,OAAOC,SAAS,MAAM,SAAS;AAC/B,OAAOC,cAAc,MAAM,WAAW;AAEtC,IAAAC,MAAA,0BAAAC,MAAA;EAAqBC,SAAA,CAAAF,MAAA,EAAAC,MAAA;EAArB,SAAAD,OAAA;IAAA,IAAAG,KAAA,GAAAF,MAAA,aAAAA,MAAA,CAAAG,KAAA,OAAAC,SAAA;IACEF,KAAA,CAAAG,IAAI,GAAW,QAAQ;IACvBH,KAAA,CAAAI,OAAO,GAAY,IAAI;IACvBJ,KAAA,CAAAK,SAAS,GAAY,IAAI;;EAyC3B;EApCER,MAAA,CAAAS,SAAA,CAAAC,UAAU,GAAV,UAAWC,OAAO;IAChB,IAAMC,EAAE,GAAG,IAAI,CAACC,GAAG,CAAC,IAAI,CAAC;IACzBD,EAAE,CAACE,YAAY,CAAC,GAAG,EAAE,IAAI,CAACC,eAAe,EAAE,CAAC;EAC9C,CAAC;EAEDf,MAAA,CAAAS,SAAA,CAAAM,eAAe,GAAf;IACE,IAAMC,CAAC,GAAG,IAAI,CAACC,QAAQ,EAAE;IACzB,IAAIrB,OAAO,CAACoB,CAAC,CAAC,EAAE;MACd,OAAOA,CAAC,CACLE,GAAG,CAAC,UAACC,IAAI;QACR,OAAOA,IAAI,CAACC,IAAI,CAAC,GAAG,CAAC;MACvB,CAAC,CAAC,CACDA,IAAI,CAAC,EAAE,CAAC;;IAEb,OAAOJ,CAAC;EACV,CAAC;EAEDhB,MAAA,CAAAS,SAAA,CAAAQ,QAAQ,GAAR;IACE,IAAMI,KAAK,GAAG,IAAI,CAACC,IAAI,EAAE;IACjB,IAAAC,CAAC,GAAQF,KAAK,CAAAE,CAAb;MAAEC,CAAC,GAAKH,KAAK,CAAAG,CAAV;IACZ;IACA,IAAMC,CAAC,GAAGJ,KAAK,CAACI,CAAC,IAAIJ,KAAK,CAACK,MAAM;IACjC,IAAMC,MAAM,GAAGN,KAAK,CAACM,MAAM,IAAI,QAAQ;IACvC,IAAIC,MAAM;IACV,IAAI/B,UAAU,CAAC8B,MAAM,CAAC,EAAE;MACtBC,MAAM,GAAGD,MAAM;KAChB,MAAM;MACLC,MAAM,GAAG7B,cAAc,CAACc,GAAG,CAACc,MAAM,CAAC;;IAGrC,IAAI,CAACC,MAAM,EAAE;MACXC,OAAO,CAACC,IAAI,CAAIF,MAAM,0BAAuB,CAAC;MAC9C,OAAO,IAAI;;IAEb,OAAOA,MAAM,CAACL,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC;EACxB,CAAC;EAtCD;EACczB,MAAA,CAAAD,cAAc,GAAGA,cAAc;EAsC/C,OAAAC,MAAC;CAAA,CA5CoBF,SAAS;AA8C9B,eAAeE,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}