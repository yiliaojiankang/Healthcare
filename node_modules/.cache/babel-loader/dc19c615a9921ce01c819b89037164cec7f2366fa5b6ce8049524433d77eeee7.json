{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BindingToSyntax = void 0;\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar binding_in_when_on_syntax_1 = require(\"./binding_in_when_on_syntax\");\nvar binding_when_on_syntax_1 = require(\"./binding_when_on_syntax\");\nvar BindingToSyntax = function () {\n  function BindingToSyntax(binding) {\n    this._binding = binding;\n  }\n  BindingToSyntax.prototype.to = function (constructor) {\n    this._binding.type = literal_types_1.BindingTypeEnum.Instance;\n    this._binding.implementationType = constructor;\n    return new binding_in_when_on_syntax_1.BindingInWhenOnSyntax(this._binding);\n  };\n  BindingToSyntax.prototype.toSelf = function () {\n    if (typeof this._binding.serviceIdentifier !== \"function\") {\n      throw new Error(\"\" + ERROR_MSGS.INVALID_TO_SELF_VALUE);\n    }\n    var self = this._binding.serviceIdentifier;\n    return this.to(self);\n  };\n  BindingToSyntax.prototype.toConstantValue = function (value) {\n    this._binding.type = literal_types_1.BindingTypeEnum.ConstantValue;\n    this._binding.cache = value;\n    this._binding.dynamicValue = null;\n    this._binding.implementationType = null;\n    this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n    return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n  };\n  BindingToSyntax.prototype.toDynamicValue = function (func) {\n    this._binding.type = literal_types_1.BindingTypeEnum.DynamicValue;\n    this._binding.cache = null;\n    this._binding.dynamicValue = func;\n    this._binding.implementationType = null;\n    return new binding_in_when_on_syntax_1.BindingInWhenOnSyntax(this._binding);\n  };\n  BindingToSyntax.prototype.toConstructor = function (constructor) {\n    this._binding.type = literal_types_1.BindingTypeEnum.Constructor;\n    this._binding.implementationType = constructor;\n    this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n    return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n  };\n  BindingToSyntax.prototype.toFactory = function (factory) {\n    this._binding.type = literal_types_1.BindingTypeEnum.Factory;\n    this._binding.factory = factory;\n    this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n    return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n  };\n  BindingToSyntax.prototype.toFunction = function (func) {\n    if (typeof func !== \"function\") {\n      throw new Error(ERROR_MSGS.INVALID_FUNCTION_BINDING);\n    }\n    var bindingWhenOnSyntax = this.toConstantValue(func);\n    this._binding.type = literal_types_1.BindingTypeEnum.Function;\n    this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n    return bindingWhenOnSyntax;\n  };\n  BindingToSyntax.prototype.toAutoFactory = function (serviceIdentifier) {\n    this._binding.type = literal_types_1.BindingTypeEnum.Factory;\n    this._binding.factory = function (context) {\n      var autofactory = function () {\n        return context.container.get(serviceIdentifier);\n      };\n      return autofactory;\n    };\n    this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n    return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n  };\n  BindingToSyntax.prototype.toProvider = function (provider) {\n    this._binding.type = literal_types_1.BindingTypeEnum.Provider;\n    this._binding.provider = provider;\n    this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n    return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n  };\n  BindingToSyntax.prototype.toService = function (service) {\n    this.toDynamicValue(function (context) {\n      return context.container.get(service);\n    });\n  };\n  return BindingToSyntax;\n}();\nexports.BindingToSyntax = BindingToSyntax;","map":{"version":3,"names":["ERROR_MSGS","require","literal_types_1","binding_in_when_on_syntax_1","binding_when_on_syntax_1","BindingToSyntax","binding","_binding","prototype","to","constructor","type","BindingTypeEnum","Instance","implementationType","BindingInWhenOnSyntax","toSelf","serviceIdentifier","Error","INVALID_TO_SELF_VALUE","self","toConstantValue","value","ConstantValue","cache","dynamicValue","scope","BindingScopeEnum","Singleton","BindingWhenOnSyntax","toDynamicValue","func","DynamicValue","toConstructor","Constructor","toFactory","factory","Factory","toFunction","INVALID_FUNCTION_BINDING","bindingWhenOnSyntax","Function","toAutoFactory","context","autofactory","container","get","toProvider","provider","Provider","toService","service","exports"],"sources":["../../src/syntax/binding_to_syntax.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}