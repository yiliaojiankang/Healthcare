{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default function createTile(features, z, tx, ty, options) {\n  var tolerance = z === options.maxZoom ? 0 : options.tolerance / ((1 << z) * options.extent);\n  var tile = {\n    features: [],\n    numPoints: 0,\n    numSimplified: 0,\n    numFeatures: 0,\n    source: null,\n    x: tx,\n    y: ty,\n    z: z,\n    transformed: false,\n    minX: 2,\n    minY: 1,\n    maxX: -1,\n    maxY: 0\n  };\n  for (var i = 0; i < features.length; i++) {\n    tile.numFeatures++;\n    addFeature(tile, features[i], tolerance, options);\n    var minX = features[i].minX;\n    var minY = features[i].minY;\n    var maxX = features[i].maxX;\n    var maxY = features[i].maxY;\n    if (minX < tile.minX) tile.minX = minX;\n    if (minY < tile.minY) tile.minY = minY;\n    if (maxX > tile.maxX) tile.maxX = maxX;\n    if (maxY > tile.maxY) tile.maxY = maxY;\n  }\n  return tile;\n}\nfunction addFeature(tile, feature, tolerance, options) {\n  var geom = feature.geometry,\n    type = feature.type,\n    simplified = [];\n  if (type === 'Point' || type === 'MultiPoint') {\n    for (var i = 0; i < geom.length; i += 3) {\n      simplified.push(geom[i]);\n      simplified.push(geom[i + 1]);\n      tile.numPoints++;\n      tile.numSimplified++;\n    }\n  } else if (type === 'LineString') {\n    addLine(simplified, geom, tile, tolerance, false, false);\n  } else if (type === 'MultiLineString' || type === 'Polygon') {\n    for (i = 0; i < geom.length; i++) {\n      addLine(simplified, geom[i], tile, tolerance, type === 'Polygon', i === 0);\n    }\n  } else if (type === 'MultiPolygon') {\n    for (var k = 0; k < geom.length; k++) {\n      var polygon = geom[k];\n      for (i = 0; i < polygon.length; i++) {\n        addLine(simplified, polygon[i], tile, tolerance, true, i === 0);\n      }\n    }\n  }\n  if (simplified.length) {\n    var tags = feature.tags || null;\n    if (type === 'LineString' && options.lineMetrics) {\n      tags = {};\n      for (var key in feature.tags) tags[key] = feature.tags[key];\n      tags['mapbox_clip_start'] = geom.start / geom.size;\n      tags['mapbox_clip_end'] = geom.end / geom.size;\n    }\n    var tileFeature = {\n      geometry: simplified,\n      type: type === 'Polygon' || type === 'MultiPolygon' ? 3 : type === 'LineString' || type === 'MultiLineString' ? 2 : 1,\n      tags: tags\n    };\n    if (feature.id !== null) {\n      tileFeature.id = feature.id;\n    }\n    tile.features.push(tileFeature);\n  }\n}\nfunction addLine(result, geom, tile, tolerance, isPolygon, isOuter) {\n  var sqTolerance = tolerance * tolerance;\n  if (tolerance > 0 && geom.size < (isPolygon ? sqTolerance : tolerance)) {\n    tile.numPoints += geom.length / 3;\n    return;\n  }\n  var ring = [];\n  for (var i = 0; i < geom.length; i += 3) {\n    if (tolerance === 0 || geom[i + 2] > sqTolerance) {\n      tile.numSimplified++;\n      ring.push(geom[i]);\n      ring.push(geom[i + 1]);\n    }\n    tile.numPoints++;\n  }\n  if (isPolygon) rewind(ring, isOuter);\n  result.push(ring);\n}\nfunction rewind(ring, clockwise) {\n  var area = 0;\n  for (var i = 0, len = ring.length, j = len - 2; i < len; j = i, i += 2) {\n    area += (ring[i] - ring[j]) * (ring[i + 1] + ring[j + 1]);\n  }\n  if (area > 0 === clockwise) {\n    for (i = 0, len = ring.length; i < len / 2; i += 2) {\n      var x = ring[i];\n      var y = ring[i + 1];\n      ring[i] = ring[len - 2 - i];\n      ring[i + 1] = ring[len - 1 - i];\n      ring[len - 2 - i] = x;\n      ring[len - 1 - i] = y;\n    }\n  }\n}","map":{"version":3,"names":["createTile","features","z","tx","ty","options","tolerance","maxZoom","extent","tile","numPoints","numSimplified","numFeatures","source","x","y","transformed","minX","minY","maxX","maxY","i","length","addFeature","feature","geom","geometry","type","simplified","push","addLine","k","polygon","tags","lineMetrics","key","start","size","end","tileFeature","id","result","isPolygon","isOuter","sqTolerance","ring","rewind","clockwise","area","len","j"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/geojson-vt/src/tile.js"],"sourcesContent":["\nexport default function createTile(features, z, tx, ty, options) {\n    var tolerance = z === options.maxZoom ? 0 : options.tolerance / ((1 << z) * options.extent);\n    var tile = {\n        features: [],\n        numPoints: 0,\n        numSimplified: 0,\n        numFeatures: 0,\n        source: null,\n        x: tx,\n        y: ty,\n        z: z,\n        transformed: false,\n        minX: 2,\n        minY: 1,\n        maxX: -1,\n        maxY: 0\n    };\n    for (var i = 0; i < features.length; i++) {\n        tile.numFeatures++;\n        addFeature(tile, features[i], tolerance, options);\n\n        var minX = features[i].minX;\n        var minY = features[i].minY;\n        var maxX = features[i].maxX;\n        var maxY = features[i].maxY;\n\n        if (minX < tile.minX) tile.minX = minX;\n        if (minY < tile.minY) tile.minY = minY;\n        if (maxX > tile.maxX) tile.maxX = maxX;\n        if (maxY > tile.maxY) tile.maxY = maxY;\n    }\n    return tile;\n}\n\nfunction addFeature(tile, feature, tolerance, options) {\n\n    var geom = feature.geometry,\n        type = feature.type,\n        simplified = [];\n\n    if (type === 'Point' || type === 'MultiPoint') {\n        for (var i = 0; i < geom.length; i += 3) {\n            simplified.push(geom[i]);\n            simplified.push(geom[i + 1]);\n            tile.numPoints++;\n            tile.numSimplified++;\n        }\n\n    } else if (type === 'LineString') {\n        addLine(simplified, geom, tile, tolerance, false, false);\n\n    } else if (type === 'MultiLineString' || type === 'Polygon') {\n        for (i = 0; i < geom.length; i++) {\n            addLine(simplified, geom[i], tile, tolerance, type === 'Polygon', i === 0);\n        }\n\n    } else if (type === 'MultiPolygon') {\n\n        for (var k = 0; k < geom.length; k++) {\n            var polygon = geom[k];\n            for (i = 0; i < polygon.length; i++) {\n                addLine(simplified, polygon[i], tile, tolerance, true, i === 0);\n            }\n        }\n    }\n\n    if (simplified.length) {\n        var tags = feature.tags || null;\n        if (type === 'LineString' && options.lineMetrics) {\n            tags = {};\n            for (var key in feature.tags) tags[key] = feature.tags[key];\n            tags['mapbox_clip_start'] = geom.start / geom.size;\n            tags['mapbox_clip_end'] = geom.end / geom.size;\n        }\n        var tileFeature = {\n            geometry: simplified,\n            type: type === 'Polygon' || type === 'MultiPolygon' ? 3 :\n                type === 'LineString' || type === 'MultiLineString' ? 2 : 1,\n            tags: tags\n        };\n        if (feature.id !== null) {\n            tileFeature.id = feature.id;\n        }\n        tile.features.push(tileFeature);\n    }\n}\n\nfunction addLine(result, geom, tile, tolerance, isPolygon, isOuter) {\n    var sqTolerance = tolerance * tolerance;\n\n    if (tolerance > 0 && (geom.size < (isPolygon ? sqTolerance : tolerance))) {\n        tile.numPoints += geom.length / 3;\n        return;\n    }\n\n    var ring = [];\n\n    for (var i = 0; i < geom.length; i += 3) {\n        if (tolerance === 0 || geom[i + 2] > sqTolerance) {\n            tile.numSimplified++;\n            ring.push(geom[i]);\n            ring.push(geom[i + 1]);\n        }\n        tile.numPoints++;\n    }\n\n    if (isPolygon) rewind(ring, isOuter);\n\n    result.push(ring);\n}\n\nfunction rewind(ring, clockwise) {\n    var area = 0;\n    for (var i = 0, len = ring.length, j = len - 2; i < len; j = i, i += 2) {\n        area += (ring[i] - ring[j]) * (ring[i + 1] + ring[j + 1]);\n    }\n    if (area > 0 === clockwise) {\n        for (i = 0, len = ring.length; i < len / 2; i += 2) {\n            var x = ring[i];\n            var y = ring[i + 1];\n            ring[i] = ring[len - 2 - i];\n            ring[i + 1] = ring[len - 1 - i];\n            ring[len - 2 - i] = x;\n            ring[len - 1 - i] = y;\n        }\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}