{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.array.push.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.tagProperty = exports.tagParameter = exports.decorate = void 0;\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction tagParameter(annotationTarget, propertyName, parameterIndex, metadata) {\n  var metadataKey = METADATA_KEY.TAGGED;\n  _tagParameterOrProperty(metadataKey, annotationTarget, propertyName, metadata, parameterIndex);\n}\nexports.tagParameter = tagParameter;\nfunction tagProperty(annotationTarget, propertyName, metadata) {\n  var metadataKey = METADATA_KEY.TAGGED_PROP;\n  _tagParameterOrProperty(metadataKey, annotationTarget.constructor, propertyName, metadata);\n}\nexports.tagProperty = tagProperty;\nfunction _tagParameterOrProperty(metadataKey, annotationTarget, propertyName, metadata, parameterIndex) {\n  var paramsOrPropertiesMetadata = {};\n  var isParameterDecorator = typeof parameterIndex === \"number\";\n  var key = parameterIndex !== undefined && isParameterDecorator ? parameterIndex.toString() : propertyName;\n  if (isParameterDecorator && propertyName !== undefined) {\n    throw new Error(ERROR_MSGS.INVALID_DECORATOR_OPERATION);\n  }\n  if (Reflect.hasOwnMetadata(metadataKey, annotationTarget)) {\n    paramsOrPropertiesMetadata = Reflect.getMetadata(metadataKey, annotationTarget);\n  }\n  var paramOrPropertyMetadata = paramsOrPropertiesMetadata[key];\n  if (!Array.isArray(paramOrPropertyMetadata)) {\n    paramOrPropertyMetadata = [];\n  } else {\n    for (var _i = 0, paramOrPropertyMetadata_1 = paramOrPropertyMetadata; _i < paramOrPropertyMetadata_1.length; _i++) {\n      var m = paramOrPropertyMetadata_1[_i];\n      if (m.key === metadata.key) {\n        throw new Error(ERROR_MSGS.DUPLICATED_METADATA + \" \" + m.key.toString());\n      }\n    }\n  }\n  paramOrPropertyMetadata.push(metadata);\n  paramsOrPropertiesMetadata[key] = paramOrPropertyMetadata;\n  Reflect.defineMetadata(metadataKey, paramsOrPropertiesMetadata, annotationTarget);\n}\nfunction _decorate(decorators, target) {\n  Reflect.decorate(decorators, target);\n}\nfunction _param(paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\nfunction decorate(decorator, target, parameterIndex) {\n  if (typeof parameterIndex === \"number\") {\n    _decorate([_param(parameterIndex, decorator)], target);\n  } else if (typeof parameterIndex === \"string\") {\n    Reflect.decorate([decorator], target, parameterIndex);\n  } else {\n    _decorate([decorator], target);\n  }\n}\nexports.decorate = decorate;","map":{"version":3,"names":["ERROR_MSGS","require","METADATA_KEY","tagParameter","annotationTarget","propertyName","parameterIndex","metadata","metadataKey","TAGGED","_tagParameterOrProperty","exports","tagProperty","TAGGED_PROP","constructor","paramsOrPropertiesMetadata","isParameterDecorator","key","undefined","toString","Error","INVALID_DECORATOR_OPERATION","Reflect","hasOwnMetadata","getMetadata","paramOrPropertyMetadata","Array","isArray","_i","paramOrPropertyMetadata_1","length","m","DUPLICATED_METADATA","push","defineMetadata","_decorate","decorators","target","decorate","_param","paramIndex","decorator"],"sources":["../../src/annotation/decorator_utils.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}