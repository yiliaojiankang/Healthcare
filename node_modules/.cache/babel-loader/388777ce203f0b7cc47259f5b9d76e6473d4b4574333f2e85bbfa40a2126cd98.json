{"ast":null,"code":"import { deepMix } from '@antv/util';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry } from './base';\n/**\n * line 辅助点的配置处理\n * @param params\n */\nexport function line(params) {\n  var options = params.options;\n  var line = options.line,\n    stepType = options.stepType,\n    xField = options.xField,\n    yField = options.yField,\n    seriesField = options.seriesField,\n    smooth = options.smooth,\n    connectNulls = options.connectNulls,\n    tooltip = options.tooltip,\n    useDeferredLabel = options.useDeferredLabel;\n  var _a = getTooltipMapping(tooltip, [xField, yField, seriesField]),\n    fields = _a.fields,\n    formatter = _a.formatter;\n  // 如果存在才处理\n  return line ? geometry(deepAssign({}, params, {\n    options: {\n      type: 'line',\n      colorField: seriesField,\n      tooltipFields: fields,\n      mapping: deepMix({\n        shape: stepType || (smooth ? 'smooth' : 'line'),\n        tooltip: formatter\n      }, line),\n      args: {\n        connectNulls: connectNulls,\n        useDeferredLabel: useDeferredLabel\n      }\n    }\n  })) : params;\n}","map":{"version":3,"names":["deepMix","deepAssign","getTooltipMapping","geometry","line","params","options","stepType","xField","yField","seriesField","smooth","connectNulls","tooltip","useDeferredLabel","_a","fields","formatter","type","colorField","tooltipFields","mapping","shape","args"],"sources":["../../../src/adaptor/geometries/line.ts"],"sourcesContent":["import { deepMix } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface LineGeometryOptions extends GeometryOptions {\n  /** x 轴字段 */\n  readonly xField?: string;\n  /** y 轴字段 */\n  readonly yField?: string;\n  /** 分组字段 */\n  readonly seriesField?: string;\n  /** 是否平滑 */\n  readonly smooth?: boolean;\n  /** 是否连接空数据 */\n  readonly connectNulls?: boolean;\n  /** line 映射配置 */\n  readonly line?: MappingOptions;\n  /** 阶梯折线图类型 */\n  readonly stepType?: string;\n}\n\n/**\n * line 辅助点的配置处理\n * @param params\n */\nexport function line<O extends LineGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { line, stepType, xField, yField, seriesField, smooth, connectNulls, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // 如果存在才处理\n  return line\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'line',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: deepMix(\n              {\n                shape: stepType || (smooth ? 'smooth' : 'line'),\n                tooltip: formatter,\n              },\n              line\n            ),\n            args: { connectNulls, useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,YAAY;AAEpC,SAASC,UAAU,QAAQ,aAAa;AACxC,SAASC,iBAAiB,QAAQ,qBAAqB;AACvD,SAASC,QAAQ,QAAyC,QAAQ;AAmBlE;;;;AAIA,OAAM,SAAUC,IAAIA,CAAgCC,MAAiB;EAC3D,IAAAC,OAAO,GAAKD,MAAM,CAAAC,OAAX;EACP,IAAAF,IAAI,GAA6FE,OAAO,CAAAF,IAApG;IAAEG,QAAQ,GAAmFD,OAAO,CAAAC,QAA1F;IAAEC,MAAM,GAA2EF,OAAO,CAAAE,MAAlF;IAAEC,MAAM,GAAmEH,OAAO,CAAAG,MAA1E;IAAEC,WAAW,GAAsDJ,OAAO,CAAAI,WAA7D;IAAEC,MAAM,GAA8CL,OAAO,CAAAK,MAArD;IAAEC,YAAY,GAAgCN,OAAO,CAAAM,YAAvC;IAAEC,OAAO,GAAuBP,OAAO,CAAAO,OAA9B;IAAEC,gBAAgB,GAAKR,OAAO,CAAAQ,gBAAZ;EAE9F,IAAAC,EAAA,GAAwBb,iBAAiB,CAACW,OAAO,EAAE,CAACL,MAAM,EAAEC,MAAM,EAAEC,WAAW,CAAC,CAAC;IAA/EM,MAAM,GAAAD,EAAA,CAAAC,MAAA;IAAEC,SAAS,GAAAF,EAAA,CAAAE,SAA8D;EAEvF;EACA,OAAOb,IAAI,GACPD,QAAQ,CACNF,UAAU,CAAC,EAAE,EAAEI,MAAM,EAAE;IACrBC,OAAO,EAAE;MACPY,IAAI,EAAE,MAAM;MACZC,UAAU,EAAET,WAAW;MACvBU,aAAa,EAAEJ,MAAM;MACrBK,OAAO,EAAErB,OAAO,CACd;QACEsB,KAAK,EAAEf,QAAQ,KAAKI,MAAM,GAAG,QAAQ,GAAG,MAAM,CAAC;QAC/CE,OAAO,EAAEI;OACV,EACDb,IAAI,CACL;MACDmB,IAAI,EAAE;QAAEX,YAAY,EAAAA,YAAA;QAAEE,gBAAgB,EAAAA;MAAA;;GAEzC,CAAC,CACH,GACDT,MAAM;AACZ"},"metadata":{},"sourceType":"module","externalDependencies":[]}