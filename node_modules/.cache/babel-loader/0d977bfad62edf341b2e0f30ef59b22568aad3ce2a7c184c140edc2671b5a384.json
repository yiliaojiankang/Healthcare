{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// Transforms the coordinates of each feature in the given tile from\n// mercator-projected space into (extent x extent) tile space.\nexport default function transformTile(tile, extent) {\n  if (tile.transformed) return tile;\n  var z2 = 1 << tile.z,\n    tx = tile.x,\n    ty = tile.y,\n    i,\n    j,\n    k;\n  for (i = 0; i < tile.features.length; i++) {\n    var feature = tile.features[i],\n      geom = feature.geometry,\n      type = feature.type;\n    feature.geometry = [];\n    if (type === 1) {\n      for (j = 0; j < geom.length; j += 2) {\n        feature.geometry.push(transformPoint(geom[j], geom[j + 1], extent, z2, tx, ty));\n      }\n    } else {\n      for (j = 0; j < geom.length; j++) {\n        var ring = [];\n        for (k = 0; k < geom[j].length; k += 2) {\n          ring.push(transformPoint(geom[j][k], geom[j][k + 1], extent, z2, tx, ty));\n        }\n        feature.geometry.push(ring);\n      }\n    }\n  }\n  tile.transformed = true;\n  return tile;\n}\nfunction transformPoint(x, y, extent, z2, tx, ty) {\n  return [Math.round(extent * (x * z2 - tx)), Math.round(extent * (y * z2 - ty))];\n}","map":{"version":3,"names":["transformTile","tile","extent","transformed","z2","z","tx","x","ty","y","i","j","k","features","length","feature","geom","geometry","type","push","transformPoint","ring","Math","round"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/geojson-vt/src/transform.js"],"sourcesContent":["\n// Transforms the coordinates of each feature in the given tile from\n// mercator-projected space into (extent x extent) tile space.\nexport default function transformTile(tile, extent) {\n    if (tile.transformed) return tile;\n\n    var z2 = 1 << tile.z,\n        tx = tile.x,\n        ty = tile.y,\n        i, j, k;\n\n    for (i = 0; i < tile.features.length; i++) {\n        var feature = tile.features[i],\n            geom = feature.geometry,\n            type = feature.type;\n\n        feature.geometry = [];\n\n        if (type === 1) {\n            for (j = 0; j < geom.length; j += 2) {\n                feature.geometry.push(transformPoint(geom[j], geom[j + 1], extent, z2, tx, ty));\n            }\n        } else {\n            for (j = 0; j < geom.length; j++) {\n                var ring = [];\n                for (k = 0; k < geom[j].length; k += 2) {\n                    ring.push(transformPoint(geom[j][k], geom[j][k + 1], extent, z2, tx, ty));\n                }\n                feature.geometry.push(ring);\n            }\n        }\n    }\n\n    tile.transformed = true;\n\n    return tile;\n}\n\nfunction transformPoint(x, y, extent, z2, tx, ty) {\n    return [\n        Math.round(extent * (x * z2 - tx)),\n        Math.round(extent * (y * z2 - ty))];\n}\n"],"mappings":";AACA;AACA;AACA,eAAe,SAASA,aAAaA,CAACC,IAAI,EAAEC,MAAM,EAAE;EAChD,IAAID,IAAI,CAACE,WAAW,EAAE,OAAOF,IAAI;EAEjC,IAAIG,EAAE,GAAG,CAAC,IAAIH,IAAI,CAACI,CAAC;IAChBC,EAAE,GAAGL,IAAI,CAACM,CAAC;IACXC,EAAE,GAAGP,IAAI,CAACQ,CAAC;IACXC,CAAC;IAAEC,CAAC;IAAEC,CAAC;EAEX,KAAKF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,IAAI,CAACY,QAAQ,CAACC,MAAM,EAAEJ,CAAC,EAAE,EAAE;IACvC,IAAIK,OAAO,GAAGd,IAAI,CAACY,QAAQ,CAACH,CAAC,CAAC;MAC1BM,IAAI,GAAGD,OAAO,CAACE,QAAQ;MACvBC,IAAI,GAAGH,OAAO,CAACG,IAAI;IAEvBH,OAAO,CAACE,QAAQ,GAAG,EAAE;IAErB,IAAIC,IAAI,KAAK,CAAC,EAAE;MACZ,KAAKP,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGK,IAAI,CAACF,MAAM,EAAEH,CAAC,IAAI,CAAC,EAAE;QACjCI,OAAO,CAACE,QAAQ,CAACE,IAAI,CAACC,cAAc,CAACJ,IAAI,CAACL,CAAC,CAAC,EAAEK,IAAI,CAACL,CAAC,GAAG,CAAC,CAAC,EAAET,MAAM,EAAEE,EAAE,EAAEE,EAAE,EAAEE,EAAE,CAAC,CAAC;MACnF;IACJ,CAAC,MAAM;MACH,KAAKG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGK,IAAI,CAACF,MAAM,EAAEH,CAAC,EAAE,EAAE;QAC9B,IAAIU,IAAI,GAAG,EAAE;QACb,KAAKT,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGI,IAAI,CAACL,CAAC,CAAC,CAACG,MAAM,EAAEF,CAAC,IAAI,CAAC,EAAE;UACpCS,IAAI,CAACF,IAAI,CAACC,cAAc,CAACJ,IAAI,CAACL,CAAC,CAAC,CAACC,CAAC,CAAC,EAAEI,IAAI,CAACL,CAAC,CAAC,CAACC,CAAC,GAAG,CAAC,CAAC,EAAEV,MAAM,EAAEE,EAAE,EAAEE,EAAE,EAAEE,EAAE,CAAC,CAAC;QAC7E;QACAO,OAAO,CAACE,QAAQ,CAACE,IAAI,CAACE,IAAI,CAAC;MAC/B;IACJ;EACJ;EAEApB,IAAI,CAACE,WAAW,GAAG,IAAI;EAEvB,OAAOF,IAAI;AACf;AAEA,SAASmB,cAAcA,CAACb,CAAC,EAAEE,CAAC,EAAEP,MAAM,EAAEE,EAAE,EAAEE,EAAE,EAAEE,EAAE,EAAE;EAC9C,OAAO,CACHc,IAAI,CAACC,KAAK,CAACrB,MAAM,IAAIK,CAAC,GAAGH,EAAE,GAAGE,EAAE,CAAC,CAAC,EAClCgB,IAAI,CAACC,KAAK,CAACrB,MAAM,IAAIO,CAAC,GAAGL,EAAE,GAAGI,EAAE,CAAC,CAAC,CAAC;AAC3C"},"metadata":{},"sourceType":"module","externalDependencies":[]}