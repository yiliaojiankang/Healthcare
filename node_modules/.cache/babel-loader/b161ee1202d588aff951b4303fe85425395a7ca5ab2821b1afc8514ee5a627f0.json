{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport { deepMix } from '@antv/util';\nimport { ext } from '@antv/matrix-util';\nimport Button from './timeButton';\nimport { TIMEBAR_CONFIG_CHANGE, PRE_STEP_BTN, NEXT_STEP_BTN } from './constant';\nvar transform = ext.transform;\nvar DEFAULT_RECT_FILL = '#aaa';\nvar DEFAULT_RECT_STROKE = 'green';\nvar DEFAULT_PLAYBTN_STYLE = {\n  fill: '#aaa',\n  fillOpacity: 0.35,\n  stroke: '#aaa'\n};\nvar DEFAULT_PREBTN_STYLE = {\n  fill: '#fff'\n};\nvar DEFAULT_NEXTBTN_STYLE = {\n  fill: 'green'\n};\nvar DEFAULT_SPEED_CONTROLLER_STYLE = {\n  pointer: {\n    fill: '#aaa',\n    lineWidth: 0\n  },\n  scroller: {\n    stroke: '#aaa',\n    fill: '#aaa',\n    lineWidth: 1,\n    lineAppendWidth: 5,\n    cursor: 'pointer'\n  },\n  text: {\n    fill: '#aaa',\n    textBaseline: 'top'\n  }\n};\nvar DEFAULT_TIMETYPE_CONTROLLER_STYLE = {\n  check: {\n    stroke: 'green',\n    lineWidth: 3\n  },\n  box: {\n    fill: '#fff',\n    stroke: '#aaa',\n    lineWidth: 2,\n    radius: 3,\n    width: 12,\n    height: 12\n  },\n  text: {\n    fill: '#aaa',\n    fontSize: 12,\n    textBaseline: 'top'\n  }\n};\nvar DEFAULT_CONTROLLER_CONFIG = {\n  speed: 1,\n  loop: false,\n  fill: '#fff',\n  stroke: '#fff',\n  hideTimeTypeController: false,\n  preBtnStyle: {\n    fill: '#aaa',\n    stroke: '#aaa'\n  },\n  nextBtnStyle: {\n    fill: '#aaa',\n    stroke: '#aaa'\n  },\n  playBtnStyle: {\n    fill: '#aaa',\n    stroke: '#aaa',\n    fillOpacity: 0.05\n  },\n  speedControllerStyle: DEFAULT_SPEED_CONTROLLER_STYLE,\n  timeTypeControllerStyle: DEFAULT_TIMETYPE_CONTROLLER_STYLE\n};\nvar SPEED_CONTROLLER_OFFSET = 110;\nvar TOGGLE_MODEL_OFFSET = 50;\nexport var TIME_TYPE = {\n  SINGLE: 'single',\n  RANGE: 'range'\n};\nvar ControllerBtn = /** @class */function () {\n  function ControllerBtn(cfg) {\n    this.controllerCfg = deepMix({}, DEFAULT_CONTROLLER_CONFIG, cfg);\n    this.group = cfg.group;\n    this.controllerGroup = this.group.addGroup({\n      name: 'controller-group'\n    });\n    this.speedAxisY = [];\n    this.currentSpeed = this.controllerCfg.speed;\n    this.currentType = this.controllerCfg.defaultTimeType || TIME_TYPE.RANGE;\n    this.fontFamily = cfg.fontFamily || 'Arial, sans-serif';\n    this.init();\n  }\n  ControllerBtn.prototype.init = function () {\n    this.renderPlayButton();\n  };\n  /** 获取播放键 marker path */\n  ControllerBtn.prototype.getNextMarkerPath = function (x, y, len) {\n    return [['M', x, y - len], ['L', x + len, y], ['L', x, y + len], ['Z', x, y - len], ['M', x, y], ['L', x - len, y - len], ['L', x - len, y + len], ['Z']];\n  };\n  ControllerBtn.prototype.getPreMarkerPath = function (x, y, len) {\n    return [['M', x, y - len], ['L', x - len, y], ['L', x, y + len], ['L', x, y - len], ['M', x, y], ['L', x + len, y - len], ['L', x + len, y + len], ['Z']];\n  };\n  ControllerBtn.prototype.renderPlayButton = function () {\n    var controllerCfg = this.controllerCfg;\n    var width = controllerCfg.width,\n      height = controllerCfg.height,\n      x = controllerCfg.x,\n      y = controllerCfg.y,\n      hideTimeTypeController = controllerCfg.hideTimeTypeController,\n      _a = controllerCfg.fill,\n      fill = _a === void 0 ? DEFAULT_RECT_FILL : _a,\n      _b = controllerCfg.stroke,\n      stroke = _b === void 0 ? DEFAULT_RECT_STROKE : _b,\n      _c = controllerCfg.containerStyle,\n      containerStyle = _c === void 0 ? {} : _c;\n    var playBtnStyle = __assign(__assign({}, DEFAULT_PLAYBTN_STYLE), controllerCfg.playBtnStyle || {});\n    var preBtnStyle = __assign(__assign({}, DEFAULT_PREBTN_STYLE), controllerCfg.preBtnStyle || {});\n    var nextBtnStyle = __assign(__assign({}, DEFAULT_NEXTBTN_STYLE), controllerCfg.nextBtnStyle || {});\n    var r = height / 2 - 5;\n    var realY = y + 10;\n    // 绘制最外层的矩形包围框\n    var container = this.controllerGroup.addShape('rect', {\n      attrs: __assign({\n        x: x,\n        y: realY,\n        width: width,\n        height: height,\n        stroke: stroke,\n        fill: fill\n      }, containerStyle),\n      name: 'container-rect'\n    });\n    if (this.playButton) {\n      this.playButton.update({\n        x: width / 2,\n        y: realY,\n        r: r\n      });\n    } else {\n      this.playButton = new Button({\n        group: this.controllerGroup,\n        x: width / 2,\n        y: realY + r + 5,\n        r: r,\n        isPlay: this.isPlay,\n        style: playBtnStyle\n      });\n    }\n    // 后退按钮\n    var prePaddingX = preBtnStyle.offsetX || 0;\n    var prePaddingY = preBtnStyle.offsetY || 0;\n    var preR = (preBtnStyle.scale || 1) * r;\n    this.controllerGroup.addShape('path', {\n      attrs: __assign({\n        path: this.getPreMarkerPath(width / 2 - 5 * r + prePaddingX, realY + r + 5 + prePaddingY, preR * 0.5)\n      }, preBtnStyle),\n      name: PRE_STEP_BTN\n    });\n    // 前进按钮\n    var nxtPaddingX = nextBtnStyle.offsetX || 0;\n    var nxtPaddingY = nextBtnStyle.offsetY || 0;\n    var nxtR = (nextBtnStyle.scale || 1) * r;\n    this.controllerGroup.addShape('path', {\n      attrs: __assign({\n        path: this.getNextMarkerPath(width / 2 + 5 * r + nxtPaddingX, realY + r + 5 + nxtPaddingY, nxtR * 0.5)\n      }, nextBtnStyle),\n      name: NEXT_STEP_BTN\n    });\n    container.toBack();\n    // 调节speed的按钮\n    this.renderSpeedBtn();\n    if (!hideTimeTypeController) {\n      this.renderToggleTime();\n    }\n    this.bindEvent();\n    // 根据配置的 scale、offsetX，offsetY 缩放和移动控制栏\n    var _d = this.controllerCfg.scale,\n      scale = _d === void 0 ? 1 : _d;\n    var currentBBox = this.controllerGroup.getCanvasBBox();\n    var centerX = (currentBBox.maxX + currentBBox.minX) / 2;\n    var centerY = (currentBBox.maxY + currentBBox.minY) / 2;\n    var matrix = transform([1, 0, 0, 0, 1, 0, 0, 0, 1], [['t', -centerX, -centerY], ['s', scale, scale], ['t', centerX, centerY]]);\n    this.controllerGroup.setMatrix(matrix);\n  };\n  ControllerBtn.prototype.renderSpeedBtn = function () {\n    var _a = this.controllerCfg,\n      y = _a.y,\n      width = _a.width,\n      hideTimeTypeController = _a.hideTimeTypeController;\n    var speedControllerStyle = __assign(__assign({}, DEFAULT_SPEED_CONTROLLER_STYLE), this.controllerCfg.speedControllerStyle || {});\n    var _b = speedControllerStyle.scroller,\n      scroller = _b === void 0 ? {} : _b,\n      _c = speedControllerStyle.text,\n      text = _c === void 0 ? {} : _c,\n      _d = speedControllerStyle.pointer,\n      pointer = _d === void 0 ? {} : _d,\n      _e = speedControllerStyle.scale,\n      scale = _e === void 0 ? 1 : _e,\n      _f = speedControllerStyle.offsetX,\n      offsetX = _f === void 0 ? 0 : _f,\n      _g = speedControllerStyle.offsetY,\n      offsetY = _g === void 0 ? 0 : _g;\n    var speedGroup = this.controllerGroup.addGroup({\n      name: 'speed-group'\n    });\n    this.speedGroup = speedGroup;\n    var speedNum = [];\n    var maxSpeed = 5;\n    this.speedAxisY = [19, 22, 26, 32, 39];\n    // 增加speed刻度\n    for (var i = 0; i < 5; i++) {\n      var axisY = y + this.speedAxisY[i];\n      // 灰色刻度\n      var startX = width - (!hideTimeTypeController ? SPEED_CONTROLLER_OFFSET : TOGGLE_MODEL_OFFSET);\n      speedGroup.addShape('line', {\n        attrs: __assign({\n          x1: startX,\n          x2: startX + 15,\n          y1: axisY,\n          y2: axisY\n        }, scroller),\n        speed: maxSpeed,\n        name: 'speed-rect'\n      });\n      this.speedAxisY[i] = axisY;\n      speedNum.push(maxSpeed);\n      maxSpeed = maxSpeed - 1;\n    }\n    // 速度文本\n    this.speedText = speedGroup.addShape('text', {\n      attrs: __assign({\n        x: width - (!hideTimeTypeController ? SPEED_CONTROLLER_OFFSET : TOGGLE_MODEL_OFFSET) + 20,\n        y: this.speedAxisY[0] + 4,\n        text: \"1.0X\",\n        fontFamily: this.fontFamily || 'Arial, sans-serif'\n      }, text),\n      name: 'speed-text'\n    });\n    this.speedPoint = speedGroup.addShape('path', {\n      attrs: __assign({\n        path: this.getPointerPath(width - (!hideTimeTypeController ? SPEED_CONTROLLER_OFFSET : TOGGLE_MODEL_OFFSET), 0),\n        matrix: [1, 0, 0, 0, 1, 0, 0, this.speedAxisY[4], 1]\n      }, pointer),\n      name: 'speed-pointer'\n    });\n    // 根据配置在 speedControllerStyle 中的 scale offsetX offsetY 缩放和移动速度控制器\n    var currentBBox = this.speedGroup.getCanvasBBox();\n    var centerX = (currentBBox.maxX + currentBBox.minX) / 2;\n    var centerY = (currentBBox.maxY + currentBBox.minY) / 2;\n    var matrix = this.speedGroup.getMatrix() || [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    matrix = transform(matrix, [['t', -centerX, -centerY], ['s', scale, scale], ['t', centerX + offsetX * scale, centerY + offsetY * scale]]);\n    this.speedGroup.setMatrix(matrix);\n  };\n  ControllerBtn.prototype.getPointerPath = function (x, y) {\n    return [['M', x, y], ['L', x - 10, y - 4], ['L', x - 10, y + 4], ['Z']];\n  };\n  ControllerBtn.prototype.renderToggleTime = function () {\n    var _a, _b;\n    var _c = this.controllerCfg,\n      width = _c.width,\n      defaultTimeType = _c.defaultTimeType;\n    var timeTypeControllerStyle = __assign(__assign({}, DEFAULT_TIMETYPE_CONTROLLER_STYLE), this.controllerCfg.timeTypeControllerStyle || {});\n    var _d = timeTypeControllerStyle.scale,\n      scale = _d === void 0 ? 1 : _d,\n      _e = timeTypeControllerStyle.offsetX,\n      offsetX = _e === void 0 ? 0 : _e,\n      _f = timeTypeControllerStyle.offsetY,\n      offsetY = _f === void 0 ? 0 : _f,\n      _g = timeTypeControllerStyle.box,\n      box = _g === void 0 ? {} : _g,\n      _h = timeTypeControllerStyle.check,\n      check = _h === void 0 ? {} : _h,\n      _j = timeTypeControllerStyle.text,\n      text = _j === void 0 ? {} : _j;\n    this.toggleGroup = this.controllerGroup.addGroup({\n      name: 'toggle-group'\n    });\n    var isChecked = defaultTimeType === TIME_TYPE.SINGLE;\n    this.toggleGroup.addShape('rect', {\n      attrs: __assign({\n        x: width - TOGGLE_MODEL_OFFSET,\n        y: this.speedAxisY[0] + 3.5\n      }, box),\n      isChecked: isChecked,\n      name: 'toggle-model'\n    });\n    this.checkedIcon = this.toggleGroup.addShape('path', {\n      attrs: __assign({\n        path: [['M', width - TOGGLE_MODEL_OFFSET + 3, this.speedAxisY[1] + 6], ['L', width - TOGGLE_MODEL_OFFSET + 7, this.speedAxisY[1] + 10], ['L', width - TOGGLE_MODEL_OFFSET + 12, this.speedAxisY[1] + 4]]\n      }, check),\n      capture: false,\n      name: 'check-icon'\n    });\n    if (!isChecked) this.checkedIcon.hide();\n    this.checkedText = this.toggleGroup.addShape('text', {\n      attrs: __assign({\n        text: isChecked ? ((_a = this.controllerCfg) === null || _a === void 0 ? void 0 : _a.timeRangeControllerText) || '时间范围' : ((_b = this.controllerCfg) === null || _b === void 0 ? void 0 : _b.timePointControllerText) || '单一时间',\n        x: width - TOGGLE_MODEL_OFFSET + 15,\n        y: this.speedAxisY[0] + 4,\n        fontFamily: typeof window !== 'undefined' ? window.getComputedStyle(document.body, null).getPropertyValue('font-family') || 'Arial, sans-serif' : 'Arial, sans-serif'\n      }, text),\n      name: 'checked-text'\n    });\n    // 根据配置在 timeTypeControllerStyle 中的 scale offsetX offsetY 缩放和移动速度控制器\n    var currentBBox = this.toggleGroup.getCanvasBBox();\n    var centerX = (currentBBox.maxX + currentBBox.minX) / 2;\n    var centerY = (currentBBox.maxY + currentBBox.minY) / 2;\n    var matrix = this.toggleGroup.getMatrix() || [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    matrix = transform(matrix, [['t', -centerX, -centerY], ['s', scale, scale], ['t', centerX + offsetX * scale, centerY + offsetY * scale]]);\n    this.toggleGroup.setMatrix(matrix);\n  };\n  ControllerBtn.prototype.bindEvent = function () {\n    var _this = this;\n    this.speedGroup.on('speed-rect:click', function (evt) {\n      var currentPointerY = evt.target.attr('y1');\n      var pointerMatrix = _this.speedPoint.attr('matrix');\n      var currentYIdx = _this.speedAxisY.indexOf(pointerMatrix[7] || 0);\n      var targetYIdx = _this.speedAxisY.indexOf(currentPointerY);\n      var yDiff = _this.speedAxisY[targetYIdx] - _this.speedAxisY[currentYIdx];\n      pointerMatrix = transform(pointerMatrix, [['t', 0, yDiff]]);\n      _this.speedPoint.setMatrix(pointerMatrix);\n      _this.currentSpeed = _this.speedAxisY.length - targetYIdx;\n      _this.speedText.attr('text', \"\".concat(_this.currentSpeed, \".0X\"));\n      _this.group.emit(TIMEBAR_CONFIG_CHANGE, {\n        speed: _this.currentSpeed,\n        type: _this.currentType\n      });\n    });\n    this.speedGroup.on('mousewheel', function (evt) {\n      evt.preventDefault();\n      var pointerMatrix = _this.speedPoint.attr('matrix') || [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      var currentPointerY = pointerMatrix[7];\n      var currentYIdx = _this.speedAxisY.indexOf(currentPointerY);\n      if (currentYIdx === -1) {\n        // 找到最近的一个 y\n        var minDist_1 = Infinity;\n        _this.speedAxisY.forEach(function (y, idx) {\n          var dist = Math.abs(y - currentPointerY);\n          if (minDist_1 > dist) {\n            minDist_1 = dist;\n            currentYIdx = idx;\n          }\n        });\n      }\n      if (evt.originalEvent.deltaY > 0) currentYIdx = Math.max(0, currentYIdx - 1);else currentYIdx = Math.min(_this.speedAxisY.length - 1, currentYIdx + 1);\n      var yDiff = _this.speedAxisY[currentYIdx] - currentPointerY;\n      pointerMatrix = transform(pointerMatrix, [['t', 0, yDiff]]);\n      _this.speedPoint.setMatrix(pointerMatrix);\n      _this.currentSpeed = _this.speedAxisY.length - currentYIdx;\n      _this.speedText.attr('text', \"\".concat(_this.currentSpeed, \".0X\"));\n      _this.group.emit(TIMEBAR_CONFIG_CHANGE, {\n        speed: _this.currentSpeed,\n        type: _this.currentType\n      });\n    });\n    if (this.toggleGroup) {\n      this.toggleGroup.on('toggle-model:click', function (evt) {\n        var _a, _b;\n        var isChecked = evt.target.get('isChecked');\n        if (!isChecked) {\n          _this.checkedIcon.show();\n          _this.checkedText.attr('text', ((_a = _this.controllerCfg) === null || _a === void 0 ? void 0 : _a.timeRangeControllerText) || '时间范围');\n          _this.currentType = TIME_TYPE.SINGLE;\n        } else {\n          _this.checkedIcon.hide();\n          _this.checkedText.attr('text', ((_b = _this.controllerCfg) === null || _b === void 0 ? void 0 : _b.timePointControllerText) || '单一时间');\n          _this.currentType = TIME_TYPE.RANGE;\n        }\n        evt.target.set('isChecked', !isChecked);\n        _this.group.emit(TIMEBAR_CONFIG_CHANGE, {\n          type: _this.currentType,\n          speed: _this.currentSpeed\n        });\n      });\n    }\n  };\n  ControllerBtn.prototype.destroy = function () {\n    this.speedGroup.off('speed-rect:click');\n    if (this.toggleGroup) {\n      this.toggleGroup.off('toggle-model:click');\n      this.toggleGroup.destroy();\n    }\n    this.speedGroup.destroy();\n  };\n  return ControllerBtn;\n}();\nexport default ControllerBtn;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","deepMix","ext","Button","TIMEBAR_CONFIG_CHANGE","PRE_STEP_BTN","NEXT_STEP_BTN","transform","DEFAULT_RECT_FILL","DEFAULT_RECT_STROKE","DEFAULT_PLAYBTN_STYLE","fill","fillOpacity","stroke","DEFAULT_PREBTN_STYLE","DEFAULT_NEXTBTN_STYLE","DEFAULT_SPEED_CONTROLLER_STYLE","pointer","lineWidth","scroller","lineAppendWidth","cursor","text","textBaseline","DEFAULT_TIMETYPE_CONTROLLER_STYLE","check","box","radius","width","height","fontSize","DEFAULT_CONTROLLER_CONFIG","speed","loop","hideTimeTypeController","preBtnStyle","nextBtnStyle","playBtnStyle","speedControllerStyle","timeTypeControllerStyle","SPEED_CONTROLLER_OFFSET","TOGGLE_MODEL_OFFSET","TIME_TYPE","SINGLE","RANGE","ControllerBtn","cfg","controllerCfg","group","controllerGroup","addGroup","name","speedAxisY","currentSpeed","currentType","defaultTimeType","fontFamily","init","renderPlayButton","getNextMarkerPath","x","y","len","getPreMarkerPath","_a","_b","_c","containerStyle","r","realY","container","addShape","attrs","playButton","update","isPlay","style","prePaddingX","offsetX","prePaddingY","offsetY","preR","scale","path","nxtPaddingX","nxtPaddingY","nxtR","toBack","renderSpeedBtn","renderToggleTime","bindEvent","_d","currentBBox","getCanvasBBox","centerX","maxX","minX","centerY","maxY","minY","matrix","setMatrix","_e","_f","_g","speedGroup","speedNum","maxSpeed","axisY","startX","x1","x2","y1","y2","push","speedText","speedPoint","getPointerPath","getMatrix","_h","_j","toggleGroup","isChecked","checkedIcon","capture","hide","checkedText","timeRangeControllerText","timePointControllerText","window","getComputedStyle","document","body","getPropertyValue","_this","on","evt","currentPointerY","target","attr","pointerMatrix","currentYIdx","indexOf","targetYIdx","yDiff","concat","emit","type","preventDefault","minDist_1","Infinity","forEach","idx","dist","Math","abs","originalEvent","deltaY","max","min","get","show","set","destroy","off"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/g6-plugin/es/timeBar/controllerBtn.js"],"sourcesContent":["var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport { deepMix } from '@antv/util';\nimport { ext } from '@antv/matrix-util';\nimport Button from './timeButton';\nimport { TIMEBAR_CONFIG_CHANGE, PRE_STEP_BTN, NEXT_STEP_BTN } from './constant';\nvar transform = ext.transform;\nvar DEFAULT_RECT_FILL = '#aaa';\nvar DEFAULT_RECT_STROKE = 'green';\nvar DEFAULT_PLAYBTN_STYLE = {\n  fill: '#aaa',\n  fillOpacity: 0.35,\n  stroke: '#aaa'\n};\nvar DEFAULT_PREBTN_STYLE = {\n  fill: '#fff'\n};\nvar DEFAULT_NEXTBTN_STYLE = {\n  fill: 'green'\n};\nvar DEFAULT_SPEED_CONTROLLER_STYLE = {\n  pointer: {\n    fill: '#aaa',\n    lineWidth: 0\n  },\n  scroller: {\n    stroke: '#aaa',\n    fill: '#aaa',\n    lineWidth: 1,\n    lineAppendWidth: 5,\n    cursor: 'pointer'\n  },\n  text: {\n    fill: '#aaa',\n    textBaseline: 'top'\n  }\n};\nvar DEFAULT_TIMETYPE_CONTROLLER_STYLE = {\n  check: {\n    stroke: 'green',\n    lineWidth: 3\n  },\n  box: {\n    fill: '#fff',\n    stroke: '#aaa',\n    lineWidth: 2,\n    radius: 3,\n    width: 12,\n    height: 12\n  },\n  text: {\n    fill: '#aaa',\n    fontSize: 12,\n    textBaseline: 'top'\n  }\n};\nvar DEFAULT_CONTROLLER_CONFIG = {\n  speed: 1,\n  loop: false,\n  fill: '#fff',\n  stroke: '#fff',\n  hideTimeTypeController: false,\n  preBtnStyle: {\n    fill: '#aaa',\n    stroke: '#aaa'\n  },\n  nextBtnStyle: {\n    fill: '#aaa',\n    stroke: '#aaa'\n  },\n  playBtnStyle: {\n    fill: '#aaa',\n    stroke: '#aaa',\n    fillOpacity: 0.05\n  },\n  speedControllerStyle: DEFAULT_SPEED_CONTROLLER_STYLE,\n  timeTypeControllerStyle: DEFAULT_TIMETYPE_CONTROLLER_STYLE\n};\nvar SPEED_CONTROLLER_OFFSET = 110;\nvar TOGGLE_MODEL_OFFSET = 50;\nexport var TIME_TYPE = {\n  SINGLE: 'single',\n  RANGE: 'range'\n};\nvar ControllerBtn = /** @class */function () {\n  function ControllerBtn(cfg) {\n    this.controllerCfg = deepMix({}, DEFAULT_CONTROLLER_CONFIG, cfg);\n    this.group = cfg.group;\n    this.controllerGroup = this.group.addGroup({\n      name: 'controller-group'\n    });\n    this.speedAxisY = [];\n    this.currentSpeed = this.controllerCfg.speed;\n    this.currentType = this.controllerCfg.defaultTimeType || TIME_TYPE.RANGE;\n    this.fontFamily = cfg.fontFamily || 'Arial, sans-serif';\n    this.init();\n  }\n  ControllerBtn.prototype.init = function () {\n    this.renderPlayButton();\n  };\n  /** 获取播放键 marker path */\n  ControllerBtn.prototype.getNextMarkerPath = function (x, y, len) {\n    return [['M', x, y - len], ['L', x + len, y], ['L', x, y + len], ['Z', x, y - len], ['M', x, y], ['L', x - len, y - len], ['L', x - len, y + len], ['Z']];\n  };\n  ControllerBtn.prototype.getPreMarkerPath = function (x, y, len) {\n    return [['M', x, y - len], ['L', x - len, y], ['L', x, y + len], ['L', x, y - len], ['M', x, y], ['L', x + len, y - len], ['L', x + len, y + len], ['Z']];\n  };\n  ControllerBtn.prototype.renderPlayButton = function () {\n    var controllerCfg = this.controllerCfg;\n    var width = controllerCfg.width,\n      height = controllerCfg.height,\n      x = controllerCfg.x,\n      y = controllerCfg.y,\n      hideTimeTypeController = controllerCfg.hideTimeTypeController,\n      _a = controllerCfg.fill,\n      fill = _a === void 0 ? DEFAULT_RECT_FILL : _a,\n      _b = controllerCfg.stroke,\n      stroke = _b === void 0 ? DEFAULT_RECT_STROKE : _b,\n      _c = controllerCfg.containerStyle,\n      containerStyle = _c === void 0 ? {} : _c;\n    var playBtnStyle = __assign(__assign({}, DEFAULT_PLAYBTN_STYLE), controllerCfg.playBtnStyle || {});\n    var preBtnStyle = __assign(__assign({}, DEFAULT_PREBTN_STYLE), controllerCfg.preBtnStyle || {});\n    var nextBtnStyle = __assign(__assign({}, DEFAULT_NEXTBTN_STYLE), controllerCfg.nextBtnStyle || {});\n    var r = height / 2 - 5;\n    var realY = y + 10;\n    // 绘制最外层的矩形包围框\n    var container = this.controllerGroup.addShape('rect', {\n      attrs: __assign({\n        x: x,\n        y: realY,\n        width: width,\n        height: height,\n        stroke: stroke,\n        fill: fill\n      }, containerStyle),\n      name: 'container-rect'\n    });\n    if (this.playButton) {\n      this.playButton.update({\n        x: width / 2,\n        y: realY,\n        r: r\n      });\n    } else {\n      this.playButton = new Button({\n        group: this.controllerGroup,\n        x: width / 2,\n        y: realY + r + 5,\n        r: r,\n        isPlay: this.isPlay,\n        style: playBtnStyle\n      });\n    }\n    // 后退按钮\n    var prePaddingX = preBtnStyle.offsetX || 0;\n    var prePaddingY = preBtnStyle.offsetY || 0;\n    var preR = (preBtnStyle.scale || 1) * r;\n    this.controllerGroup.addShape('path', {\n      attrs: __assign({\n        path: this.getPreMarkerPath(width / 2 - 5 * r + prePaddingX, realY + r + 5 + prePaddingY, preR * 0.5)\n      }, preBtnStyle),\n      name: PRE_STEP_BTN\n    });\n    // 前进按钮\n    var nxtPaddingX = nextBtnStyle.offsetX || 0;\n    var nxtPaddingY = nextBtnStyle.offsetY || 0;\n    var nxtR = (nextBtnStyle.scale || 1) * r;\n    this.controllerGroup.addShape('path', {\n      attrs: __assign({\n        path: this.getNextMarkerPath(width / 2 + 5 * r + nxtPaddingX, realY + r + 5 + nxtPaddingY, nxtR * 0.5)\n      }, nextBtnStyle),\n      name: NEXT_STEP_BTN\n    });\n    container.toBack();\n    // 调节speed的按钮\n    this.renderSpeedBtn();\n    if (!hideTimeTypeController) {\n      this.renderToggleTime();\n    }\n    this.bindEvent();\n    // 根据配置的 scale、offsetX，offsetY 缩放和移动控制栏\n    var _d = this.controllerCfg.scale,\n      scale = _d === void 0 ? 1 : _d;\n    var currentBBox = this.controllerGroup.getCanvasBBox();\n    var centerX = (currentBBox.maxX + currentBBox.minX) / 2;\n    var centerY = (currentBBox.maxY + currentBBox.minY) / 2;\n    var matrix = transform([1, 0, 0, 0, 1, 0, 0, 0, 1], [['t', -centerX, -centerY], ['s', scale, scale], ['t', centerX, centerY]]);\n    this.controllerGroup.setMatrix(matrix);\n  };\n  ControllerBtn.prototype.renderSpeedBtn = function () {\n    var _a = this.controllerCfg,\n      y = _a.y,\n      width = _a.width,\n      hideTimeTypeController = _a.hideTimeTypeController;\n    var speedControllerStyle = __assign(__assign({}, DEFAULT_SPEED_CONTROLLER_STYLE), this.controllerCfg.speedControllerStyle || {});\n    var _b = speedControllerStyle.scroller,\n      scroller = _b === void 0 ? {} : _b,\n      _c = speedControllerStyle.text,\n      text = _c === void 0 ? {} : _c,\n      _d = speedControllerStyle.pointer,\n      pointer = _d === void 0 ? {} : _d,\n      _e = speedControllerStyle.scale,\n      scale = _e === void 0 ? 1 : _e,\n      _f = speedControllerStyle.offsetX,\n      offsetX = _f === void 0 ? 0 : _f,\n      _g = speedControllerStyle.offsetY,\n      offsetY = _g === void 0 ? 0 : _g;\n    var speedGroup = this.controllerGroup.addGroup({\n      name: 'speed-group'\n    });\n    this.speedGroup = speedGroup;\n    var speedNum = [];\n    var maxSpeed = 5;\n    this.speedAxisY = [19, 22, 26, 32, 39];\n    // 增加speed刻度\n    for (var i = 0; i < 5; i++) {\n      var axisY = y + this.speedAxisY[i];\n      // 灰色刻度\n      var startX = width - (!hideTimeTypeController ? SPEED_CONTROLLER_OFFSET : TOGGLE_MODEL_OFFSET);\n      speedGroup.addShape('line', {\n        attrs: __assign({\n          x1: startX,\n          x2: startX + 15,\n          y1: axisY,\n          y2: axisY\n        }, scroller),\n        speed: maxSpeed,\n        name: 'speed-rect'\n      });\n      this.speedAxisY[i] = axisY;\n      speedNum.push(maxSpeed);\n      maxSpeed = maxSpeed - 1;\n    }\n    // 速度文本\n    this.speedText = speedGroup.addShape('text', {\n      attrs: __assign({\n        x: width - (!hideTimeTypeController ? SPEED_CONTROLLER_OFFSET : TOGGLE_MODEL_OFFSET) + 20,\n        y: this.speedAxisY[0] + 4,\n        text: \"1.0X\",\n        fontFamily: this.fontFamily || 'Arial, sans-serif'\n      }, text),\n      name: 'speed-text'\n    });\n    this.speedPoint = speedGroup.addShape('path', {\n      attrs: __assign({\n        path: this.getPointerPath(width - (!hideTimeTypeController ? SPEED_CONTROLLER_OFFSET : TOGGLE_MODEL_OFFSET), 0),\n        matrix: [1, 0, 0, 0, 1, 0, 0, this.speedAxisY[4], 1]\n      }, pointer),\n      name: 'speed-pointer'\n    });\n    // 根据配置在 speedControllerStyle 中的 scale offsetX offsetY 缩放和移动速度控制器\n    var currentBBox = this.speedGroup.getCanvasBBox();\n    var centerX = (currentBBox.maxX + currentBBox.minX) / 2;\n    var centerY = (currentBBox.maxY + currentBBox.minY) / 2;\n    var matrix = this.speedGroup.getMatrix() || [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    matrix = transform(matrix, [['t', -centerX, -centerY], ['s', scale, scale], ['t', centerX + offsetX * scale, centerY + offsetY * scale]]);\n    this.speedGroup.setMatrix(matrix);\n  };\n  ControllerBtn.prototype.getPointerPath = function (x, y) {\n    return [['M', x, y], ['L', x - 10, y - 4], ['L', x - 10, y + 4], ['Z']];\n  };\n  ControllerBtn.prototype.renderToggleTime = function () {\n    var _a, _b;\n    var _c = this.controllerCfg,\n      width = _c.width,\n      defaultTimeType = _c.defaultTimeType;\n    var timeTypeControllerStyle = __assign(__assign({}, DEFAULT_TIMETYPE_CONTROLLER_STYLE), this.controllerCfg.timeTypeControllerStyle || {});\n    var _d = timeTypeControllerStyle.scale,\n      scale = _d === void 0 ? 1 : _d,\n      _e = timeTypeControllerStyle.offsetX,\n      offsetX = _e === void 0 ? 0 : _e,\n      _f = timeTypeControllerStyle.offsetY,\n      offsetY = _f === void 0 ? 0 : _f,\n      _g = timeTypeControllerStyle.box,\n      box = _g === void 0 ? {} : _g,\n      _h = timeTypeControllerStyle.check,\n      check = _h === void 0 ? {} : _h,\n      _j = timeTypeControllerStyle.text,\n      text = _j === void 0 ? {} : _j;\n    this.toggleGroup = this.controllerGroup.addGroup({\n      name: 'toggle-group'\n    });\n    var isChecked = defaultTimeType === TIME_TYPE.SINGLE;\n    this.toggleGroup.addShape('rect', {\n      attrs: __assign({\n        x: width - TOGGLE_MODEL_OFFSET,\n        y: this.speedAxisY[0] + 3.5\n      }, box),\n      isChecked: isChecked,\n      name: 'toggle-model'\n    });\n    this.checkedIcon = this.toggleGroup.addShape('path', {\n      attrs: __assign({\n        path: [['M', width - TOGGLE_MODEL_OFFSET + 3, this.speedAxisY[1] + 6], ['L', width - TOGGLE_MODEL_OFFSET + 7, this.speedAxisY[1] + 10], ['L', width - TOGGLE_MODEL_OFFSET + 12, this.speedAxisY[1] + 4]]\n      }, check),\n      capture: false,\n      name: 'check-icon'\n    });\n    if (!isChecked) this.checkedIcon.hide();\n    this.checkedText = this.toggleGroup.addShape('text', {\n      attrs: __assign({\n        text: isChecked ? ((_a = this.controllerCfg) === null || _a === void 0 ? void 0 : _a.timeRangeControllerText) || '时间范围' : ((_b = this.controllerCfg) === null || _b === void 0 ? void 0 : _b.timePointControllerText) || '单一时间',\n        x: width - TOGGLE_MODEL_OFFSET + 15,\n        y: this.speedAxisY[0] + 4,\n        fontFamily: typeof window !== 'undefined' ? window.getComputedStyle(document.body, null).getPropertyValue('font-family') || 'Arial, sans-serif' : 'Arial, sans-serif'\n      }, text),\n      name: 'checked-text'\n    });\n    // 根据配置在 timeTypeControllerStyle 中的 scale offsetX offsetY 缩放和移动速度控制器\n    var currentBBox = this.toggleGroup.getCanvasBBox();\n    var centerX = (currentBBox.maxX + currentBBox.minX) / 2;\n    var centerY = (currentBBox.maxY + currentBBox.minY) / 2;\n    var matrix = this.toggleGroup.getMatrix() || [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    matrix = transform(matrix, [['t', -centerX, -centerY], ['s', scale, scale], ['t', centerX + offsetX * scale, centerY + offsetY * scale]]);\n    this.toggleGroup.setMatrix(matrix);\n  };\n  ControllerBtn.prototype.bindEvent = function () {\n    var _this = this;\n    this.speedGroup.on('speed-rect:click', function (evt) {\n      var currentPointerY = evt.target.attr('y1');\n      var pointerMatrix = _this.speedPoint.attr('matrix');\n      var currentYIdx = _this.speedAxisY.indexOf(pointerMatrix[7] || 0);\n      var targetYIdx = _this.speedAxisY.indexOf(currentPointerY);\n      var yDiff = _this.speedAxisY[targetYIdx] - _this.speedAxisY[currentYIdx];\n      pointerMatrix = transform(pointerMatrix, [['t', 0, yDiff]]);\n      _this.speedPoint.setMatrix(pointerMatrix);\n      _this.currentSpeed = _this.speedAxisY.length - targetYIdx;\n      _this.speedText.attr('text', \"\".concat(_this.currentSpeed, \".0X\"));\n      _this.group.emit(TIMEBAR_CONFIG_CHANGE, {\n        speed: _this.currentSpeed,\n        type: _this.currentType\n      });\n    });\n    this.speedGroup.on('mousewheel', function (evt) {\n      evt.preventDefault();\n      var pointerMatrix = _this.speedPoint.attr('matrix') || [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      var currentPointerY = pointerMatrix[7];\n      var currentYIdx = _this.speedAxisY.indexOf(currentPointerY);\n      if (currentYIdx === -1) {\n        // 找到最近的一个 y\n        var minDist_1 = Infinity;\n        _this.speedAxisY.forEach(function (y, idx) {\n          var dist = Math.abs(y - currentPointerY);\n          if (minDist_1 > dist) {\n            minDist_1 = dist;\n            currentYIdx = idx;\n          }\n        });\n      }\n      if (evt.originalEvent.deltaY > 0) currentYIdx = Math.max(0, currentYIdx - 1);else currentYIdx = Math.min(_this.speedAxisY.length - 1, currentYIdx + 1);\n      var yDiff = _this.speedAxisY[currentYIdx] - currentPointerY;\n      pointerMatrix = transform(pointerMatrix, [['t', 0, yDiff]]);\n      _this.speedPoint.setMatrix(pointerMatrix);\n      _this.currentSpeed = _this.speedAxisY.length - currentYIdx;\n      _this.speedText.attr('text', \"\".concat(_this.currentSpeed, \".0X\"));\n      _this.group.emit(TIMEBAR_CONFIG_CHANGE, {\n        speed: _this.currentSpeed,\n        type: _this.currentType\n      });\n    });\n    if (this.toggleGroup) {\n      this.toggleGroup.on('toggle-model:click', function (evt) {\n        var _a, _b;\n        var isChecked = evt.target.get('isChecked');\n        if (!isChecked) {\n          _this.checkedIcon.show();\n          _this.checkedText.attr('text', ((_a = _this.controllerCfg) === null || _a === void 0 ? void 0 : _a.timeRangeControllerText) || '时间范围');\n          _this.currentType = TIME_TYPE.SINGLE;\n        } else {\n          _this.checkedIcon.hide();\n          _this.checkedText.attr('text', ((_b = _this.controllerCfg) === null || _b === void 0 ? void 0 : _b.timePointControllerText) || '单一时间');\n          _this.currentType = TIME_TYPE.RANGE;\n        }\n        evt.target.set('isChecked', !isChecked);\n        _this.group.emit(TIMEBAR_CONFIG_CHANGE, {\n          type: _this.currentType,\n          speed: _this.currentSpeed\n        });\n      });\n    }\n  };\n  ControllerBtn.prototype.destroy = function () {\n    this.speedGroup.off('speed-rect:click');\n    if (this.toggleGroup) {\n      this.toggleGroup.off('toggle-model:click');\n      this.toggleGroup.destroy();\n    }\n    this.speedGroup.destroy();\n  };\n  return ControllerBtn;\n}();\nexport default ControllerBtn;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}