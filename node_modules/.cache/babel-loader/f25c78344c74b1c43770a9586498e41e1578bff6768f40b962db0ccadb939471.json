{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BindingWhenSyntax = void 0;\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\nvar constraint_helpers_1 = require(\"./constraint_helpers\");\nvar BindingWhenSyntax = function () {\n  function BindingWhenSyntax(binding) {\n    this._binding = binding;\n  }\n  BindingWhenSyntax.prototype.when = function (constraint) {\n    this._binding.constraint = constraint;\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenTargetNamed = function (name) {\n    this._binding.constraint = constraint_helpers_1.namedConstraint(name);\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenTargetIsDefault = function () {\n    this._binding.constraint = function (request) {\n      var targetIsDefault = request.target !== null && !request.target.isNamed() && !request.target.isTagged();\n      return targetIsDefault;\n    };\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenTargetTagged = function (tag, value) {\n    this._binding.constraint = constraint_helpers_1.taggedConstraint(tag)(value);\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenInjectedInto = function (parent) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.typeConstraint(parent)(request.parentRequest);\n    };\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenParentNamed = function (name) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.namedConstraint(name)(request.parentRequest);\n    };\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenParentTagged = function (tag, value) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.taggedConstraint(tag)(value)(request.parentRequest);\n    };\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n    };\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n    this._binding.constraint = function (request) {\n      return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n    };\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenAnyAncestorNamed = function (name) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n    };\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenNoAncestorNamed = function (name) {\n    this._binding.constraint = function (request) {\n      return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n    };\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n    };\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n    this._binding.constraint = function (request) {\n      return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n    };\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.traverseAncerstors(request, constraint);\n    };\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n    this._binding.constraint = function (request) {\n      return !constraint_helpers_1.traverseAncerstors(request, constraint);\n    };\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n  return BindingWhenSyntax;\n}();\nexports.BindingWhenSyntax = BindingWhenSyntax;","map":{"version":3,"names":["binding_on_syntax_1","require","constraint_helpers_1","BindingWhenSyntax","binding","_binding","prototype","when","constraint","BindingOnSyntax","whenTargetNamed","name","namedConstraint","whenTargetIsDefault","request","targetIsDefault","target","isNamed","isTagged","whenTargetTagged","tag","value","taggedConstraint","whenInjectedInto","parent","typeConstraint","parentRequest","whenParentNamed","whenParentTagged","whenAnyAncestorIs","ancestor","traverseAncerstors","whenNoAncestorIs","whenAnyAncestorNamed","whenNoAncestorNamed","whenAnyAncestorTagged","whenNoAncestorTagged","whenAnyAncestorMatches","whenNoAncestorMatches","exports"],"sources":["../../src/syntax/binding_when_syntax.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}