{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n// @ts-ignore\n\nimport DOM from \"../../utils/dom\";\nimport { buttonStillPressed } from \"./util\";\nvar MouseHandler = /*#__PURE__*/function () {\n  function MouseHandler(options) {\n    _classCallCheck(this, MouseHandler);\n    this.reset();\n    this.clickTolerance = options.clickTolerance || 1;\n  }\n  _createClass(MouseHandler, [{\n    key: \"reset\",\n    value: function reset() {\n      this.active = false;\n      this.moved = false;\n      // @ts-ignore\n      delete this.lastPoint;\n      // @ts-ignore\n      delete this.eventButton;\n    }\n  }, {\n    key: \"mousedown\",\n    value: function mousedown(e, point) {\n      if (this.lastPoint) {\n        return;\n      }\n      var eventButton = DOM.mouseButton(e);\n      if (!this.correctButton(e, eventButton)) {\n        return;\n      }\n      this.lastPoint = point;\n      this.eventButton = eventButton;\n    }\n  }, {\n    key: \"mousemoveWindow\",\n    value: function mousemoveWindow(e, point) {\n      var lastPoint = this.lastPoint;\n      if (!lastPoint) {\n        return;\n      }\n      e.preventDefault();\n      if (buttonStillPressed(e, this.eventButton)) {\n        // Some browsers don't fire a `mouseup` when the mouseup occurs outside\n        // the window or iframe:\n        // https://github.com/mapbox/mapbox-gl-js/issues/4622\n        //\n        // If the button is no longer pressed during this `mousemove` it may have\n        // been released outside of the window or iframe.\n        this.reset();\n        return;\n      }\n      if (!this.moved && point.dist(lastPoint) < this.clickTolerance) {\n        return;\n      }\n      this.moved = true;\n      this.lastPoint = point;\n\n      // implemented by child class\n      return this.move(lastPoint, point);\n    }\n  }, {\n    key: \"mouseupWindow\",\n    value: function mouseupWindow(e) {\n      if (!this.lastPoint) {\n        return;\n      }\n      var eventButton = DOM.mouseButton(e);\n      if (eventButton !== this.eventButton) {\n        return;\n      }\n      if (this.moved) {\n        DOM.suppressClick();\n      }\n      this.reset();\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.enabled = true;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.enabled = false;\n      this.reset();\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this.enabled;\n    }\n  }, {\n    key: \"isActive\",\n    value: function isActive() {\n      return this.active;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  }, {\n    key: \"correctButton\",\n    value: function correctButton(e, button) {\n      // eslint-disable-line\n      return false; // implemented by child\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  }, {\n    key: \"move\",\n    value: function move(lastPoint, point) {\n      // eslint-disable-line\n      return; // implemented by child\n    }\n  }]);\n\n  return MouseHandler;\n}();\nexport { MouseHandler as default };","map":{"version":3,"names":["_classCallCheck","_createClass","DOM","buttonStillPressed","MouseHandler","options","reset","clickTolerance","key","value","active","moved","lastPoint","eventButton","mousedown","e","point","mouseButton","correctButton","mousemoveWindow","preventDefault","dist","move","mouseupWindow","suppressClick","enable","enabled","disable","isEnabled","isActive","button","default"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-map/es/handler/mouse/mouse_handler.js"],"sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n// @ts-ignore\n\nimport DOM from \"../../utils/dom\";\nimport { buttonStillPressed } from \"./util\";\nvar MouseHandler = /*#__PURE__*/function () {\n  function MouseHandler(options) {\n    _classCallCheck(this, MouseHandler);\n    this.reset();\n    this.clickTolerance = options.clickTolerance || 1;\n  }\n  _createClass(MouseHandler, [{\n    key: \"reset\",\n    value: function reset() {\n      this.active = false;\n      this.moved = false;\n      // @ts-ignore\n      delete this.lastPoint;\n      // @ts-ignore\n      delete this.eventButton;\n    }\n  }, {\n    key: \"mousedown\",\n    value: function mousedown(e, point) {\n      if (this.lastPoint) {\n        return;\n      }\n      var eventButton = DOM.mouseButton(e);\n      if (!this.correctButton(e, eventButton)) {\n        return;\n      }\n      this.lastPoint = point;\n      this.eventButton = eventButton;\n    }\n  }, {\n    key: \"mousemoveWindow\",\n    value: function mousemoveWindow(e, point) {\n      var lastPoint = this.lastPoint;\n      if (!lastPoint) {\n        return;\n      }\n      e.preventDefault();\n      if (buttonStillPressed(e, this.eventButton)) {\n        // Some browsers don't fire a `mouseup` when the mouseup occurs outside\n        // the window or iframe:\n        // https://github.com/mapbox/mapbox-gl-js/issues/4622\n        //\n        // If the button is no longer pressed during this `mousemove` it may have\n        // been released outside of the window or iframe.\n        this.reset();\n        return;\n      }\n      if (!this.moved && point.dist(lastPoint) < this.clickTolerance) {\n        return;\n      }\n      this.moved = true;\n      this.lastPoint = point;\n\n      // implemented by child class\n      return this.move(lastPoint, point);\n    }\n  }, {\n    key: \"mouseupWindow\",\n    value: function mouseupWindow(e) {\n      if (!this.lastPoint) {\n        return;\n      }\n      var eventButton = DOM.mouseButton(e);\n      if (eventButton !== this.eventButton) {\n        return;\n      }\n      if (this.moved) {\n        DOM.suppressClick();\n      }\n      this.reset();\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.enabled = true;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.enabled = false;\n      this.reset();\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this.enabled;\n    }\n  }, {\n    key: \"isActive\",\n    value: function isActive() {\n      return this.active;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  }, {\n    key: \"correctButton\",\n    value: function correctButton(e, button) {\n      // eslint-disable-line\n      return false; // implemented by child\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  }, {\n    key: \"move\",\n    value: function move(lastPoint, point) {\n      // eslint-disable-line\n      return; // implemented by child\n    }\n  }]);\n  return MouseHandler;\n}();\nexport { MouseHandler as default };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}