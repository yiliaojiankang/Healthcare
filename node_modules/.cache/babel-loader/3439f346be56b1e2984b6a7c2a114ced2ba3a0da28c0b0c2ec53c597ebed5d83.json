{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nimport { TYPES } from '@antv/l7-core';\nimport { DOM, anchorTranslate, anchorType, applyAnchorClass, bindAll, isPC } from '@antv/l7-utils';\nimport { EventEmitter } from 'eventemitter3';\n//  marker 支持 dragger 未完成\nvar Marker = /*#__PURE__*/function (_EventEmitter) {\n  _inherits(Marker, _EventEmitter);\n  var _super = _createSuper(Marker);\n  function Marker(option) {\n    var _this;\n    _classCallCheck(this, Marker);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"added\", false);\n    _defineProperty(_assertThisInitialized(_this), \"preLngLat\", {\n      lng: 0,\n      lat: 0\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMarkerDragStart\", function (e) {\n      var mapContainer = _this.mapsService.getContainer();\n      if (!mapContainer) {\n        return;\n      }\n      _this.mapsService.setMapStatus({\n        dragEnable: false,\n        zoomEnable: false\n      });\n      var _ref = mapContainer.getClientRects()[0],\n        containerX = _ref.left,\n        containerY = _ref.top;\n      var clickX = e.x,\n        clickY = e.y;\n      _this.preLngLat = _this.mapsService.containerToLngLat([clickX - containerX, clickY - containerY]);\n      _this.mapsService.on('mousemove', _this.onMarkerDragMove);\n      document.addEventListener('mouseup', _this.onMarkerDragEnd);\n      _this.emit('dragstart', _this.lngLat);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMarkerDragMove\", function (e) {\n      var _this$preLngLat = _this.preLngLat,\n        preLng = _this$preLngLat.lng,\n        preLat = _this$preLngLat.lat;\n      var _e$lnglat = e.lnglat,\n        curLng = _e$lnglat.lng,\n        curLat = _e$lnglat.lat;\n      var newLngLat = {\n        lng: _this.lngLat.lng + curLng - preLng,\n        lat: _this.lngLat.lat + curLat - preLat\n      };\n      _this.setLnglat(newLngLat);\n      _this.preLngLat = e.lnglat;\n      _this.emit('dragging', newLngLat);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMarkerDragEnd\", function (e) {\n      _this.mapsService.setMapStatus({\n        dragEnable: true,\n        zoomEnable: true\n      });\n      _this.mapsService.off('mousemove', _this.onMarkerDragMove);\n      document.removeEventListener('mouseup', _this.onMarkerDragEnd);\n      _this.emit('dragend', _this.lngLat);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"eventHandle\", function (e) {\n      _this.polyfillEvent(e);\n      _this.emit(e.type, {\n        target: e,\n        data: _this.markerOption.extData,\n        lngLat: _this.lngLat\n      });\n    });\n    _this.markerOption = _objectSpread(_objectSpread({}, _this.getDefault()), option);\n    bindAll(['update', 'onMove', 'onMapClick'], _assertThisInitialized(_this));\n    _this.init();\n    return _this;\n  }\n  _createClass(Marker, [{\n    key: \"getMarkerLayerContainerSize\",\n    value:\n    // tslint:disable-next-line: no-empty\n    function getMarkerLayerContainerSize() {}\n  }, {\n    key: \"getDefault\",\n    value: function getDefault() {\n      return {\n        element: undefined,\n        // DOM element\n        anchor: anchorType.BOTTOM,\n        offsets: [0, 0],\n        color: '#5B8FF9',\n        draggable: false\n      };\n    }\n  }, {\n    key: \"addTo\",\n    value: function addTo(scene) {\n      // this.remove();\n      this.scene = scene;\n      this.mapsService = scene.get(TYPES.IMapService);\n      this.sceneSerive = scene.get(TYPES.ISceneService);\n      var element = this.markerOption.element;\n      // this.sceneSerive.getSceneContainer().appendChild(element as HTMLElement);\n      this.mapsService.getMarkerContainer().appendChild(element);\n      this.registerMarkerEvent(element);\n      this.mapsService.on('camerachange', this.update); // 注册高德1.x 的地图事件监听\n      this.update();\n      this.updateDraggable();\n      this.added = true;\n      this.emit('added');\n      return this;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      if (this.mapsService) {\n        this.mapsService.off('click', this.onMapClick);\n        this.mapsService.off('move', this.update);\n        this.mapsService.off('moveend', this.update);\n        this.mapsService.off('camerachange', this.update);\n      }\n      this.unRegisterMarkerEvent();\n      this.removeAllListeners();\n      var element = this.markerOption.element;\n      if (element) {\n        DOM.remove(element);\n      }\n      if (this.popup) {\n        this.popup.remove();\n      }\n      return this;\n    }\n  }, {\n    key: \"setLnglat\",\n    value: function setLnglat(lngLat) {\n      this.lngLat = lngLat;\n      if (Array.isArray(lngLat)) {\n        this.lngLat = {\n          lng: lngLat[0],\n          lat: lngLat[1]\n        };\n      }\n      if (this.popup) {\n        this.popup.setLnglat(this.lngLat);\n      }\n      this.update();\n      return this;\n    }\n  }, {\n    key: \"getLnglat\",\n    value: function getLnglat() {\n      return this.lngLat;\n    }\n  }, {\n    key: \"getElement\",\n    value: function getElement() {\n      return this.markerOption.element;\n    }\n  }, {\n    key: \"setElement\",\n    value: function setElement(el) {\n      var _this2 = this;\n      if (!this.added) {\n        this.once('added', function () {\n          _this2.setElement(el);\n        });\n        return this;\n      }\n      var element = this.markerOption.element;\n      if (element) {\n        DOM.remove(element);\n      }\n      this.markerOption.element = el;\n      this.init();\n      this.mapsService.getMarkerContainer().appendChild(el);\n      this.registerMarkerEvent(el);\n      this.updateDraggable();\n      this.update();\n      return this;\n    }\n  }, {\n    key: \"openPopup\",\n    value: function openPopup() {\n      var _this3 = this;\n      if (!this.added) {\n        this.once('added', function () {\n          _this3.openPopup();\n        });\n        return this;\n      }\n      var popup = this.popup;\n      if (!popup) {\n        return this;\n      }\n      if (!popup.isOpen()) {\n        popup.addTo(this.scene);\n      }\n      return this;\n    }\n  }, {\n    key: \"closePopup\",\n    value: function closePopup() {\n      var _this4 = this;\n      if (!this.added) {\n        this.once('added', function () {\n          _this4.closePopup();\n        });\n      }\n      var popup = this.popup;\n      if (popup) {\n        popup.remove();\n      }\n      return this;\n    }\n  }, {\n    key: \"setPopup\",\n    value: function setPopup(popup) {\n      this.popup = popup;\n      if (this.lngLat) {\n        this.popup.setLnglat(this.lngLat);\n      }\n      return this;\n    }\n  }, {\n    key: \"togglePopup\",\n    value: function togglePopup() {\n      var popup = this.popup;\n      if (!popup) {\n        return this;\n      } else if (popup.isOpen()) {\n        popup.remove();\n      } else {\n        popup.addTo(this.scene);\n      }\n      return this;\n    }\n  }, {\n    key: \"getPopup\",\n    value: function getPopup() {\n      return this.popup;\n    }\n  }, {\n    key: \"getOffset\",\n    value: function getOffset() {\n      return this.markerOption.offsets;\n    }\n  }, {\n    key: \"setDraggable\",\n    value: function setDraggable(draggable) {\n      this.markerOption.draggable = draggable;\n      this.updateDraggable();\n    }\n  }, {\n    key: \"getDraggable\",\n    value: function getDraggable() {\n      return this.markerOption.draggable;\n    }\n  }, {\n    key: \"getExtData\",\n    value: function getExtData() {\n      return this.markerOption.extData;\n    }\n  }, {\n    key: \"setExtData\",\n    value: function setExtData(data) {\n      this.markerOption.extData = data;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (!this.mapsService) {\n        return;\n      }\n      var _this$markerOption = this.markerOption,\n        element = _this$markerOption.element,\n        anchor = _this$markerOption.anchor;\n      this.updatePosition();\n      DOM.setTransform(element, \"\".concat(anchorTranslate[anchor]));\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  }, {\n    key: \"onMapClick\",\n    value: function onMapClick(e) {\n      var element = this.markerOption.element;\n      if (this.popup && element) {\n        this.togglePopup();\n      }\n    }\n  }, {\n    key: \"getCurrentContainerSize\",\n    value: function getCurrentContainerSize() {\n      var container = this.mapsService.getContainer();\n      return {\n        containerHeight: (container === null || container === void 0 ? void 0 : container.scrollHeight) || 0,\n        containerWidth: (container === null || container === void 0 ? void 0 : container.scrollWidth) || 0,\n        bounds: this.mapsService.getBounds()\n      };\n    }\n  }, {\n    key: \"updateDraggable\",\n    value: function updateDraggable() {\n      var element = this.markerOption.element;\n      element === null || element === void 0 || element.removeEventListener('mousedown', this.onMarkerDragStart);\n      this.mapsService.off('mousemove', this.onMarkerDragMove);\n      document.removeEventListener('mouseup', this.onMarkerDragEnd);\n      if (this.markerOption.draggable) {\n        element === null || element === void 0 || element.addEventListener('mousedown', this.onMarkerDragStart);\n      }\n    }\n  }, {\n    key: \"updatePosition\",\n    value: function updatePosition() {\n      if (!this.mapsService) {\n        return;\n      }\n      var _this$markerOption2 = this.markerOption,\n        element = _this$markerOption2.element,\n        offsets = _this$markerOption2.offsets;\n      var _this$lngLat = this.lngLat,\n        lng = _this$lngLat.lng,\n        lat = _this$lngLat.lat;\n      var pos = this.mapsService.lngLatToContainer([lng, lat]);\n      if (element) {\n        element.style.display = 'block';\n        element.style.whiteSpace = 'nowrap';\n        var _ref2 = this.getMarkerLayerContainerSize() || this.getCurrentContainerSize(),\n          containerHeight = _ref2.containerHeight,\n          containerWidth = _ref2.containerWidth,\n          bounds = _ref2.bounds;\n        if (!bounds) {\n          return;\n        }\n        // 当前可视区域包含跨日界线\n        if (Math.abs(bounds[0][0]) > 180 || Math.abs(bounds[1][0]) > 180) {\n          if (pos.x > containerWidth) {\n            // 日界线右侧点左移\n            var newPos = this.mapsService.lngLatToContainer([lng - 360, lat]);\n            pos.x = newPos.x;\n          }\n          if (pos.x < 0) {\n            // 日界线左侧点右移\n            var _newPos = this.mapsService.lngLatToContainer([lng + 360, lat]);\n            pos.x = _newPos.x;\n          }\n        }\n        // 不在当前可视区域内隐藏点\n        if (pos.x > containerWidth || pos.x < 0 || pos.y > containerHeight || pos.y < 0) {\n          element.style.display = 'none';\n        }\n        element.style.left = pos.x + offsets[0] + 'px';\n        element.style.top = pos.y - offsets[1] + 'px';\n      }\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      var _this5 = this;\n      var element = this.markerOption.element;\n      var _this$markerOption3 = this.markerOption,\n        color = _this$markerOption3.color,\n        anchor = _this$markerOption3.anchor;\n      if (!element) {\n        this.defaultMarker = true;\n        element = DOM.create('div');\n        this.markerOption.element = element;\n        var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        svg.setAttributeNS(null, 'display', 'block');\n        svg.setAttributeNS(null, 'height', '48px');\n        svg.setAttributeNS(null, 'width', '48px');\n        svg.setAttributeNS(null, 'viewBox', '0 0 1024 1024');\n        var path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        path.setAttributeNS(null, 'd', 'M512 490.666667C453.12 490.666667 405.333333 442.88 405.333333 384 405.333333 325.12 453.12 277.333333 512 277.333333 570.88 277.333333 618.666667 325.12 618.666667 384 618.666667 442.88 570.88 490.666667 512 490.666667M512 85.333333C346.88 85.333333 213.333333 218.88 213.333333 384 213.333333 608 512 938.666667 512 938.666667 512 938.666667 810.666667 608 810.666667 384 810.666667 218.88 677.12 85.333333 512 85.333333Z');\n        path.setAttributeNS(null, 'fill', color);\n        svg.appendChild(path);\n        element.appendChild(svg);\n      }\n      DOM.addClass(element, 'l7-marker');\n      Object.keys(this.markerOption.style || {}).forEach(\n      // @ts-ignore\n      function (key) {\n        var _this5$markerOption, _this5$markerOption2;\n        var value = ((_this5$markerOption = _this5.markerOption) === null || _this5$markerOption === void 0 ? void 0 : _this5$markerOption.style) && ((_this5$markerOption2 = _this5.markerOption) === null || _this5$markerOption2 === void 0 ? void 0 : _this5$markerOption2.style[key]);\n        if (element) {\n          // @ts-ignore\n          element.style[key] = value;\n        }\n      });\n      applyAnchorClass(element, anchor, 'marker');\n    }\n  }, {\n    key: \"registerMarkerEvent\",\n    value: function registerMarkerEvent(element) {\n      element.addEventListener('click', this.onMapClick);\n      element.addEventListener('mousemove', this.eventHandle);\n      element.addEventListener('click', this.eventHandle);\n      element.addEventListener('mousedown', this.eventHandle);\n      element.addEventListener('mouseup', this.eventHandle);\n      element.addEventListener('dblclick', this.eventHandle);\n      element.addEventListener('contextmenu', this.eventHandle);\n      element.addEventListener('mouseover', this.eventHandle);\n      element.addEventListener('mouseout', this.eventHandle);\n      element.addEventListener('touchstart', this.eventHandle);\n      element.addEventListener('touchend', this.eventHandle);\n    }\n  }, {\n    key: \"unRegisterMarkerEvent\",\n    value: function unRegisterMarkerEvent() {\n      var element = this.getElement();\n      element.removeEventListener('click', this.onMapClick);\n      element.removeEventListener('mousemove', this.eventHandle);\n      element.removeEventListener('click', this.eventHandle);\n      element.removeEventListener('mousedown', this.eventHandle);\n      element.removeEventListener('mouseup', this.eventHandle);\n      element.removeEventListener('dblclick', this.eventHandle);\n      element.removeEventListener('contextmenu', this.eventHandle);\n      element.removeEventListener('mouseover', this.eventHandle);\n      element.removeEventListener('mouseout', this.eventHandle);\n      element.removeEventListener('touchstart', this.eventHandle);\n      element.removeEventListener('touchend', this.eventHandle);\n    }\n  }, {\n    key: \"polyfillEvent\",\n    value:\n    /**\n     * 高德 2.x 使用了 fastClick.js 避免延迟，导致 IOS 移动端的 click 事件不会正常触发，需要手动触发\n     * @param e\n     */\n\n    function polyfillEvent(e) {\n      if (!this.mapsService || this.mapsService.version !== 'GAODE2.x') {\n        return;\n      }\n      if (!isPC()) {\n        if (e.type === 'touchstart') {\n          this.touchStartTime = Date.now();\n        }\n        if (e.type === 'touchend' && Date.now() - this.touchStartTime < 300) {\n          this.emit('click', {\n            target: e,\n            data: this.markerOption.extData,\n            lngLat: this.lngLat\n          });\n        }\n      }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  }, {\n    key: \"addDragHandler\",\n    value: function addDragHandler(e) {\n      return null;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  }, {\n    key: \"onUp\",\n    value: function onUp(e) {\n      throw new Error('Method not implemented.');\n    }\n  }]);\n  return Marker;\n}(EventEmitter);\nexport { Marker as default };","map":{"version":3,"names":["_objectSpread","_classCallCheck","_createClass","_assertThisInitialized","_inherits","_possibleConstructorReturn","_getPrototypeOf","_defineProperty","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Boolean","prototype","valueOf","call","e","TYPES","DOM","anchorTranslate","anchorType","applyAnchorClass","bindAll","isPC","EventEmitter","Marker","_EventEmitter","_super","option","_this","lng","lat","mapContainer","mapsService","getContainer","setMapStatus","dragEnable","zoomEnable","_ref","getClientRects","containerX","left","containerY","top","clickX","x","clickY","y","preLngLat","containerToLngLat","on","onMarkerDragMove","document","addEventListener","onMarkerDragEnd","emit","lngLat","_this$preLngLat","preLng","preLat","_e$lnglat","lnglat","curLng","curLat","newLngLat","setLnglat","off","removeEventListener","polyfillEvent","type","target","data","markerOption","extData","getDefault","init","key","value","getMarkerLayerContainerSize","element","undefined","anchor","BOTTOM","offsets","color","draggable","addTo","scene","get","IMapService","sceneSerive","ISceneService","getMarkerContainer","appendChild","registerMarkerEvent","update","updateDraggable","added","remove","onMapClick","unRegisterMarkerEvent","removeAllListeners","popup","Array","isArray","getLnglat","getElement","setElement","el","_this2","once","openPopup","_this3","isOpen","closePopup","_this4","setPopup","togglePopup","getPopup","getOffset","setDraggable","getDraggable","getExtData","setExtData","_this$markerOption","updatePosition","setTransform","concat","getCurrentContainerSize","container","containerHeight","scrollHeight","containerWidth","scrollWidth","bounds","getBounds","onMarkerDragStart","_this$markerOption2","_this$lngLat","pos","lngLatToContainer","style","display","whiteSpace","_ref2","Math","abs","newPos","_newPos","_this5","_this$markerOption3","defaultMarker","create","svg","createElementNS","setAttributeNS","path","addClass","Object","keys","forEach","_this5$markerOption","_this5$markerOption2","eventHandle","version","touchStartTime","Date","now","addDragHandler","onUp","Error","default"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-component/es/marker.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport { TYPES } from '@antv/l7-core';\nimport { DOM, anchorTranslate, anchorType, applyAnchorClass, bindAll, isPC } from '@antv/l7-utils';\nimport { EventEmitter } from 'eventemitter3';\n//  marker 支持 dragger 未完成\nvar Marker = /*#__PURE__*/function (_EventEmitter) {\n  _inherits(Marker, _EventEmitter);\n  var _super = _createSuper(Marker);\n  function Marker(option) {\n    var _this;\n    _classCallCheck(this, Marker);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"added\", false);\n    _defineProperty(_assertThisInitialized(_this), \"preLngLat\", {\n      lng: 0,\n      lat: 0\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMarkerDragStart\", function (e) {\n      var mapContainer = _this.mapsService.getContainer();\n      if (!mapContainer) {\n        return;\n      }\n      _this.mapsService.setMapStatus({\n        dragEnable: false,\n        zoomEnable: false\n      });\n      var _ref = mapContainer.getClientRects()[0],\n        containerX = _ref.left,\n        containerY = _ref.top;\n      var clickX = e.x,\n        clickY = e.y;\n      _this.preLngLat = _this.mapsService.containerToLngLat([clickX - containerX, clickY - containerY]);\n      _this.mapsService.on('mousemove', _this.onMarkerDragMove);\n      document.addEventListener('mouseup', _this.onMarkerDragEnd);\n      _this.emit('dragstart', _this.lngLat);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMarkerDragMove\", function (e) {\n      var _this$preLngLat = _this.preLngLat,\n        preLng = _this$preLngLat.lng,\n        preLat = _this$preLngLat.lat;\n      var _e$lnglat = e.lnglat,\n        curLng = _e$lnglat.lng,\n        curLat = _e$lnglat.lat;\n      var newLngLat = {\n        lng: _this.lngLat.lng + curLng - preLng,\n        lat: _this.lngLat.lat + curLat - preLat\n      };\n      _this.setLnglat(newLngLat);\n      _this.preLngLat = e.lnglat;\n      _this.emit('dragging', newLngLat);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMarkerDragEnd\", function (e) {\n      _this.mapsService.setMapStatus({\n        dragEnable: true,\n        zoomEnable: true\n      });\n      _this.mapsService.off('mousemove', _this.onMarkerDragMove);\n      document.removeEventListener('mouseup', _this.onMarkerDragEnd);\n      _this.emit('dragend', _this.lngLat);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"eventHandle\", function (e) {\n      _this.polyfillEvent(e);\n      _this.emit(e.type, {\n        target: e,\n        data: _this.markerOption.extData,\n        lngLat: _this.lngLat\n      });\n    });\n    _this.markerOption = _objectSpread(_objectSpread({}, _this.getDefault()), option);\n    bindAll(['update', 'onMove', 'onMapClick'], _assertThisInitialized(_this));\n    _this.init();\n    return _this;\n  }\n  _createClass(Marker, [{\n    key: \"getMarkerLayerContainerSize\",\n    value:\n    // tslint:disable-next-line: no-empty\n    function getMarkerLayerContainerSize() {}\n  }, {\n    key: \"getDefault\",\n    value: function getDefault() {\n      return {\n        element: undefined,\n        // DOM element\n        anchor: anchorType.BOTTOM,\n        offsets: [0, 0],\n        color: '#5B8FF9',\n        draggable: false\n      };\n    }\n  }, {\n    key: \"addTo\",\n    value: function addTo(scene) {\n      // this.remove();\n      this.scene = scene;\n      this.mapsService = scene.get(TYPES.IMapService);\n      this.sceneSerive = scene.get(TYPES.ISceneService);\n      var element = this.markerOption.element;\n      // this.sceneSerive.getSceneContainer().appendChild(element as HTMLElement);\n      this.mapsService.getMarkerContainer().appendChild(element);\n      this.registerMarkerEvent(element);\n      this.mapsService.on('camerachange', this.update); // 注册高德1.x 的地图事件监听\n      this.update();\n      this.updateDraggable();\n      this.added = true;\n      this.emit('added');\n      return this;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      if (this.mapsService) {\n        this.mapsService.off('click', this.onMapClick);\n        this.mapsService.off('move', this.update);\n        this.mapsService.off('moveend', this.update);\n        this.mapsService.off('camerachange', this.update);\n      }\n      this.unRegisterMarkerEvent();\n      this.removeAllListeners();\n      var element = this.markerOption.element;\n      if (element) {\n        DOM.remove(element);\n      }\n      if (this.popup) {\n        this.popup.remove();\n      }\n      return this;\n    }\n  }, {\n    key: \"setLnglat\",\n    value: function setLnglat(lngLat) {\n      this.lngLat = lngLat;\n      if (Array.isArray(lngLat)) {\n        this.lngLat = {\n          lng: lngLat[0],\n          lat: lngLat[1]\n        };\n      }\n      if (this.popup) {\n        this.popup.setLnglat(this.lngLat);\n      }\n      this.update();\n      return this;\n    }\n  }, {\n    key: \"getLnglat\",\n    value: function getLnglat() {\n      return this.lngLat;\n    }\n  }, {\n    key: \"getElement\",\n    value: function getElement() {\n      return this.markerOption.element;\n    }\n  }, {\n    key: \"setElement\",\n    value: function setElement(el) {\n      var _this2 = this;\n      if (!this.added) {\n        this.once('added', function () {\n          _this2.setElement(el);\n        });\n        return this;\n      }\n      var element = this.markerOption.element;\n      if (element) {\n        DOM.remove(element);\n      }\n      this.markerOption.element = el;\n      this.init();\n      this.mapsService.getMarkerContainer().appendChild(el);\n      this.registerMarkerEvent(el);\n      this.updateDraggable();\n      this.update();\n      return this;\n    }\n  }, {\n    key: \"openPopup\",\n    value: function openPopup() {\n      var _this3 = this;\n      if (!this.added) {\n        this.once('added', function () {\n          _this3.openPopup();\n        });\n        return this;\n      }\n      var popup = this.popup;\n      if (!popup) {\n        return this;\n      }\n      if (!popup.isOpen()) {\n        popup.addTo(this.scene);\n      }\n      return this;\n    }\n  }, {\n    key: \"closePopup\",\n    value: function closePopup() {\n      var _this4 = this;\n      if (!this.added) {\n        this.once('added', function () {\n          _this4.closePopup();\n        });\n      }\n      var popup = this.popup;\n      if (popup) {\n        popup.remove();\n      }\n      return this;\n    }\n  }, {\n    key: \"setPopup\",\n    value: function setPopup(popup) {\n      this.popup = popup;\n      if (this.lngLat) {\n        this.popup.setLnglat(this.lngLat);\n      }\n      return this;\n    }\n  }, {\n    key: \"togglePopup\",\n    value: function togglePopup() {\n      var popup = this.popup;\n      if (!popup) {\n        return this;\n      } else if (popup.isOpen()) {\n        popup.remove();\n      } else {\n        popup.addTo(this.scene);\n      }\n      return this;\n    }\n  }, {\n    key: \"getPopup\",\n    value: function getPopup() {\n      return this.popup;\n    }\n  }, {\n    key: \"getOffset\",\n    value: function getOffset() {\n      return this.markerOption.offsets;\n    }\n  }, {\n    key: \"setDraggable\",\n    value: function setDraggable(draggable) {\n      this.markerOption.draggable = draggable;\n      this.updateDraggable();\n    }\n  }, {\n    key: \"getDraggable\",\n    value: function getDraggable() {\n      return this.markerOption.draggable;\n    }\n  }, {\n    key: \"getExtData\",\n    value: function getExtData() {\n      return this.markerOption.extData;\n    }\n  }, {\n    key: \"setExtData\",\n    value: function setExtData(data) {\n      this.markerOption.extData = data;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (!this.mapsService) {\n        return;\n      }\n      var _this$markerOption = this.markerOption,\n        element = _this$markerOption.element,\n        anchor = _this$markerOption.anchor;\n      this.updatePosition();\n      DOM.setTransform(element, \"\".concat(anchorTranslate[anchor]));\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  }, {\n    key: \"onMapClick\",\n    value: function onMapClick(e) {\n      var element = this.markerOption.element;\n      if (this.popup && element) {\n        this.togglePopup();\n      }\n    }\n  }, {\n    key: \"getCurrentContainerSize\",\n    value: function getCurrentContainerSize() {\n      var container = this.mapsService.getContainer();\n      return {\n        containerHeight: (container === null || container === void 0 ? void 0 : container.scrollHeight) || 0,\n        containerWidth: (container === null || container === void 0 ? void 0 : container.scrollWidth) || 0,\n        bounds: this.mapsService.getBounds()\n      };\n    }\n  }, {\n    key: \"updateDraggable\",\n    value: function updateDraggable() {\n      var element = this.markerOption.element;\n      element === null || element === void 0 || element.removeEventListener('mousedown', this.onMarkerDragStart);\n      this.mapsService.off('mousemove', this.onMarkerDragMove);\n      document.removeEventListener('mouseup', this.onMarkerDragEnd);\n      if (this.markerOption.draggable) {\n        element === null || element === void 0 || element.addEventListener('mousedown', this.onMarkerDragStart);\n      }\n    }\n  }, {\n    key: \"updatePosition\",\n    value: function updatePosition() {\n      if (!this.mapsService) {\n        return;\n      }\n      var _this$markerOption2 = this.markerOption,\n        element = _this$markerOption2.element,\n        offsets = _this$markerOption2.offsets;\n      var _this$lngLat = this.lngLat,\n        lng = _this$lngLat.lng,\n        lat = _this$lngLat.lat;\n      var pos = this.mapsService.lngLatToContainer([lng, lat]);\n      if (element) {\n        element.style.display = 'block';\n        element.style.whiteSpace = 'nowrap';\n        var _ref2 = this.getMarkerLayerContainerSize() || this.getCurrentContainerSize(),\n          containerHeight = _ref2.containerHeight,\n          containerWidth = _ref2.containerWidth,\n          bounds = _ref2.bounds;\n        if (!bounds) {\n          return;\n        }\n        // 当前可视区域包含跨日界线\n        if (Math.abs(bounds[0][0]) > 180 || Math.abs(bounds[1][0]) > 180) {\n          if (pos.x > containerWidth) {\n            // 日界线右侧点左移\n            var newPos = this.mapsService.lngLatToContainer([lng - 360, lat]);\n            pos.x = newPos.x;\n          }\n          if (pos.x < 0) {\n            // 日界线左侧点右移\n            var _newPos = this.mapsService.lngLatToContainer([lng + 360, lat]);\n            pos.x = _newPos.x;\n          }\n        }\n        // 不在当前可视区域内隐藏点\n        if (pos.x > containerWidth || pos.x < 0 || pos.y > containerHeight || pos.y < 0) {\n          element.style.display = 'none';\n        }\n        element.style.left = pos.x + offsets[0] + 'px';\n        element.style.top = pos.y - offsets[1] + 'px';\n      }\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      var _this5 = this;\n      var element = this.markerOption.element;\n      var _this$markerOption3 = this.markerOption,\n        color = _this$markerOption3.color,\n        anchor = _this$markerOption3.anchor;\n      if (!element) {\n        this.defaultMarker = true;\n        element = DOM.create('div');\n        this.markerOption.element = element;\n        var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        svg.setAttributeNS(null, 'display', 'block');\n        svg.setAttributeNS(null, 'height', '48px');\n        svg.setAttributeNS(null, 'width', '48px');\n        svg.setAttributeNS(null, 'viewBox', '0 0 1024 1024');\n        var path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        path.setAttributeNS(null, 'd', 'M512 490.666667C453.12 490.666667 405.333333 442.88 405.333333 384 405.333333 325.12 453.12 277.333333 512 277.333333 570.88 277.333333 618.666667 325.12 618.666667 384 618.666667 442.88 570.88 490.666667 512 490.666667M512 85.333333C346.88 85.333333 213.333333 218.88 213.333333 384 213.333333 608 512 938.666667 512 938.666667 512 938.666667 810.666667 608 810.666667 384 810.666667 218.88 677.12 85.333333 512 85.333333Z');\n        path.setAttributeNS(null, 'fill', color);\n        svg.appendChild(path);\n        element.appendChild(svg);\n      }\n      DOM.addClass(element, 'l7-marker');\n      Object.keys(this.markerOption.style || {}).forEach(\n      // @ts-ignore\n      function (key) {\n        var _this5$markerOption, _this5$markerOption2;\n        var value = ((_this5$markerOption = _this5.markerOption) === null || _this5$markerOption === void 0 ? void 0 : _this5$markerOption.style) && ((_this5$markerOption2 = _this5.markerOption) === null || _this5$markerOption2 === void 0 ? void 0 : _this5$markerOption2.style[key]);\n        if (element) {\n          // @ts-ignore\n          element.style[key] = value;\n        }\n      });\n      applyAnchorClass(element, anchor, 'marker');\n    }\n  }, {\n    key: \"registerMarkerEvent\",\n    value: function registerMarkerEvent(element) {\n      element.addEventListener('click', this.onMapClick);\n      element.addEventListener('mousemove', this.eventHandle);\n      element.addEventListener('click', this.eventHandle);\n      element.addEventListener('mousedown', this.eventHandle);\n      element.addEventListener('mouseup', this.eventHandle);\n      element.addEventListener('dblclick', this.eventHandle);\n      element.addEventListener('contextmenu', this.eventHandle);\n      element.addEventListener('mouseover', this.eventHandle);\n      element.addEventListener('mouseout', this.eventHandle);\n      element.addEventListener('touchstart', this.eventHandle);\n      element.addEventListener('touchend', this.eventHandle);\n    }\n  }, {\n    key: \"unRegisterMarkerEvent\",\n    value: function unRegisterMarkerEvent() {\n      var element = this.getElement();\n      element.removeEventListener('click', this.onMapClick);\n      element.removeEventListener('mousemove', this.eventHandle);\n      element.removeEventListener('click', this.eventHandle);\n      element.removeEventListener('mousedown', this.eventHandle);\n      element.removeEventListener('mouseup', this.eventHandle);\n      element.removeEventListener('dblclick', this.eventHandle);\n      element.removeEventListener('contextmenu', this.eventHandle);\n      element.removeEventListener('mouseover', this.eventHandle);\n      element.removeEventListener('mouseout', this.eventHandle);\n      element.removeEventListener('touchstart', this.eventHandle);\n      element.removeEventListener('touchend', this.eventHandle);\n    }\n  }, {\n    key: \"polyfillEvent\",\n    value:\n    /**\n     * 高德 2.x 使用了 fastClick.js 避免延迟，导致 IOS 移动端的 click 事件不会正常触发，需要手动触发\n     * @param e\n     */\n\n    function polyfillEvent(e) {\n      if (!this.mapsService || this.mapsService.version !== 'GAODE2.x') {\n        return;\n      }\n      if (!isPC()) {\n        if (e.type === 'touchstart') {\n          this.touchStartTime = Date.now();\n        }\n        if (e.type === 'touchend' && Date.now() - this.touchStartTime < 300) {\n          this.emit('click', {\n            target: e,\n            data: this.markerOption.extData,\n            lngLat: this.lngLat\n          });\n        }\n      }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  }, {\n    key: \"addDragHandler\",\n    value: function addDragHandler(e) {\n      return null;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  }, {\n    key: \"onUp\",\n    value: function onUp(e) {\n      throw new Error('Method not implemented.');\n    }\n  }]);\n  return Marker;\n}(EventEmitter);\nexport { Marker as default };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}