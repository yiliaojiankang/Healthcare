{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport bbox from '@turf/bbox';\nimport { degreesToRadians, featureCollection, lineString, radiansToLength } from '@turf/helpers';\nimport { isNumber } from \"./math\";\nvar originShift = 2 * Math.PI * 6378137 / 2.0;\nexport function lngLatInExtent(lngLat, bounds) {\n  var _bounds = _slicedToArray(bounds, 4),\n    minLng = _bounds[0],\n    minLat = _bounds[1],\n    maxLng = _bounds[2],\n    maxLat = _bounds[3];\n  return lngLat.lng > minLng && lngLat.lng <= maxLng && lngLat.lat > minLat && lngLat.lat <= maxLat;\n}\n/**\n * 计算地理数据范围\n * @param {dataArray} data 地理坐标数据\n * @return {Array} dataExtent\n */\nexport function extent(data) {\n  var dataExtent = [Infinity, Infinity, -Infinity, -Infinity];\n  data.forEach(function (item) {\n    var coordinates = item.coordinates;\n    caculExtent(dataExtent, coordinates);\n  });\n  return dataExtent;\n}\nfunction caculExtent(dataExtent, coords) {\n  if (Array.isArray(coords[0])) {\n    coords.forEach(function (coord) {\n      caculExtent(dataExtent, coord);\n    });\n  } else {\n    if (dataExtent[0] > coords[0]) {\n      dataExtent[0] = coords[0];\n    }\n    if (dataExtent[1] > coords[1]) {\n      dataExtent[1] = coords[1];\n    }\n    if (dataExtent[2] < coords[0]) {\n      dataExtent[2] = coords[0];\n    }\n    if (dataExtent[3] < coords[1]) {\n      dataExtent[3] = coords[1];\n    }\n  }\n  return dataExtent;\n}\nexport function tranfrormCoord(data, cb) {\n  return transform(data, cb);\n}\nfunction transform(item, cb) {\n  if (Array.isArray(item[0])) {\n    return item.map(function (coord) {\n      return transform(coord, cb);\n    });\n  }\n  return cb(item);\n}\nexport function lngLatToMeters(lnglat) {\n  var validate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var accuracy = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    enable: true,\n    decimal: 1\n  };\n  lnglat = validateLngLat(lnglat, validate);\n  var lng = lnglat[0];\n  var lat = lnglat[1];\n  var x = lng * originShift / 180.0;\n  var y = Math.log(Math.tan((90 + lat) * Math.PI / 360.0)) / (Math.PI / 180.0);\n  y = y * originShift / 180.0;\n  if (accuracy.enable) {\n    x = Number(x.toFixed(accuracy.decimal));\n    y = Number(y.toFixed(accuracy.decimal));\n  }\n  return lnglat.length === 3 ? [x, y, lnglat[2]] : [x, y];\n}\nexport function metersToLngLat(meters) {\n  var decimal = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 6;\n  var x = meters[0];\n  var y = meters[1];\n  var lng = x / originShift * 180.0;\n  var lat = y / originShift * 180.0;\n  lat = 180 / Math.PI * (2 * Math.atan(Math.exp(lat * Math.PI / 180.0)) - Math.PI / 2.0);\n  if (decimal !== undefined && decimal !== null) {\n    lng = Number(lng.toFixed(decimal));\n    lat = Number(lat.toFixed(decimal));\n  }\n  return meters.length === 3 ? [lng, lat, meters[2]] : [lng, lat];\n}\nexport function longitude(lng) {\n  if (lng === undefined || lng === null) {\n    throw new Error('lng is required');\n  }\n\n  // lngitudes cannot extends beyond +/-90 degrees\n  if (lng > 180 || lng < -180) {\n    lng = lng % 360;\n    if (lng > 180) {\n      lng = -360 + lng;\n    }\n    if (lng < -180) {\n      lng = 360 + lng;\n    }\n    if (lng === 0) {\n      lng = 0;\n    }\n  }\n  return lng;\n}\nexport function latitude(lat) {\n  if (lat === undefined || lat === null) {\n    throw new Error('lat is required');\n  }\n  if (lat > 90 || lat < -90) {\n    lat = lat % 180;\n    if (lat > 90) {\n      lat = -180 + lat;\n    }\n    if (lat < -90) {\n      lat = 180 + lat;\n    }\n    if (lat === 0) {\n      lat = 0;\n    }\n  }\n  return lat;\n}\nexport function validateLngLat(lnglat, validate) {\n  if (validate === false) {\n    return lnglat;\n  }\n  var lng = longitude(lnglat[0]);\n  var lat = latitude(lnglat[1]);\n\n  // Global Mercator does not support latitudes within 85 to 90 degrees\n  if (lat > 85) {\n    lat = 85;\n  }\n  if (lat < -85) {\n    lat = -85;\n  }\n  return lnglat.length === 3 ? [lng, lat, lnglat[2]] : [lng, lat];\n}\nexport function aProjectFlat(lnglat) {\n  var maxs = 85.0511287798;\n  var lat = Math.max(Math.min(maxs, lnglat[1]), -maxs);\n  var scale = 256 << 20;\n  var d = Math.PI / 180;\n  var x = lnglat[0] * d;\n  var y = lat * d;\n  y = Math.log(Math.tan(Math.PI / 4 + y / 2));\n  var a = 0.5 / Math.PI;\n  var b = 0.5;\n  var c = -0.5 / Math.PI;\n  d = 0.5;\n  x = scale * (a * x + b);\n  y = scale * (c * y + d);\n  return [Math.floor(x), Math.floor(y)];\n}\nexport function unProjectFlat(px) {\n  var a = 0.5 / Math.PI;\n  var b = 0.5;\n  var c = -0.5 / Math.PI;\n  var d = 0.5;\n  var scale = 256 << 20;\n  var _px = _slicedToArray(px, 2),\n    x = _px[0],\n    y = _px[1];\n  x = (x / scale - b) / a;\n  y = (y / scale - d) / c;\n  y = (Math.atan(Math.pow(Math.E, y)) - Math.PI / 4) * 2;\n  d = Math.PI / 180;\n  var lat = y / d;\n  var lng = x / d;\n  return [lng, lat];\n}\nexport function amap2Project(lng, lat) {\n  var r = 85.0511287798;\n  var Rg = Math.PI / 180;\n  var Tg = 6378137;\n  lat = Math.max(Math.min(r, lat), -r);\n  lng *= Rg;\n  lat *= Rg;\n  lat = Math.log(Math.tan(Math.PI / 4 + lat / 2));\n  return [lng * Tg, lat * Tg];\n}\nexport function amap2UnProject(x, y) {\n  var Rg = Math.PI / 180;\n  var Tg = 6378137;\n  var lng = x / Tg / Rg;\n  var lat = 2 * (Math.atan(Math.exp(y / Tg)) - Math.PI / 4) / Rg;\n  return [lng, lat];\n}\nexport function lnglatDistance(coordinates1, coordinates2, units) {\n  var dLat = degreesToRadians(coordinates2[1] - coordinates1[1]);\n  var dLon = degreesToRadians(coordinates2[0] - coordinates1[0]);\n  var lat1 = degreesToRadians(coordinates1[1]);\n  var lat2 = degreesToRadians(coordinates2[1]);\n  var a = Math.pow(Math.sin(dLat / 2), 2) + Math.pow(Math.sin(dLon / 2), 2) * Math.cos(lat1) * Math.cos(lat2);\n  return radiansToLength(2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)),\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  units = 'meters');\n}\nexport function project(lnglat) {\n  var d = Math.PI / 180;\n  var max = 85.0511287798;\n  var earthRadius = 6378137;\n  var lat = Math.max(Math.min(max, lnglat[1]), -max);\n  var sin = Math.sin(lat * d);\n  var x = earthRadius * lnglat[0] * d;\n  var y = earthRadius * Math.log((1 + sin) / (1 - sin)) / 2;\n  return [x, y];\n}\nexport function padBounds(b, bufferRatio) {\n  var heightBuffer = Math.abs(b[1][1] - b[0][1]) * bufferRatio;\n  var widthBuffer = Math.abs(b[1][0] - b[0][0]) * bufferRatio;\n  return [[b[0][0] - widthBuffer, b[0][1] - heightBuffer], [b[1][0] + widthBuffer, b[1][1] + heightBuffer]];\n}\n/**\n * b1 包含 b2 返回 true 否则false\n * @param b1 bounds1\n * @param b2 bounds2\n */\nexport function boundsContains(b1, b2) {\n  return b1[0][0] <= b2[0][0] && b1[0][1] <= b2[0][1] && b1[1][0] >= b2[1][0] && b1[1][1] >= b2[1][1];\n}\n/**\n * bbox转换为Bounds\n * @param b1 bbox\n *\n */\nexport function bBoxToBounds(b1) {\n  return [[b1[0], b1[1]], [b1[2], b1[3]]];\n}\nexport function normalize(v) {\n  var len = calDistance(v, [0, 0]);\n  return [v[0] / len, v[1] / len];\n}\nexport function calDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2));\n}\nfunction dotMul(v1, v2) {\n  return v1[0] * v2[0] + v1[1] * v2[1];\n}\nfunction getMod(v) {\n  return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n}\nexport function calAngle(v1, v2) {\n  return Math.acos(dotMul(v1, v2) / (getMod(v1) * getMod(v2))) * 180 / Math.PI;\n}\nexport function getAngle(v1, v2) {\n  // if(v2[0] < 0) {\n  //   return calAngle(v1, v2) + 180\n  // } else {\n  //   return calAngle(v1, v2)\n  // }\n\n  if (v2[0] > 0) {\n    if (v2[1] > 0) {\n      // 1\n      return 90 - Math.atan(v2[1] / v2[0]) * 180 / Math.PI;\n    } else {\n      // 2\n      return 90 + Math.atan(-v2[1] / v2[0]) * 180 / Math.PI;\n    }\n  } else {\n    if (v2[1] < 0) {\n      // 3\n      return 180 + (90 - Math.atan(v2[1] / v2[0]) * 180 / Math.PI);\n    } else {\n      // 4\n      return 270 + Math.atan(v2[1] / -v2[0]) * 180 / Math.PI;\n    }\n  }\n}\nexport function flow(coords) {\n  var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;\n  if (!coords || coords.length < 2) {\n    return;\n  }\n  var originVec2 = [0, 1];\n  var totalDis = 0;\n  var path = [];\n  for (var i = 0; i < coords.length - 1; i++) {\n    var p1 = coords[i];\n    var p2 = coords[i + 1];\n    var dis = calDistance(p1, p2);\n    totalDis += dis;\n    var direct = [p1[0] - p2[0], p1[1] - p2[1]];\n    // const direct: Point = [p2[0] - p1[0], p2[1] - p1[1]];\n\n    var rotation = getAngle(originVec2, direct);\n    if (i > 0) {\n      var lastRotation = path[i - 1].rotation;\n      if (lastRotation - rotation > 360 - lastRotation + rotation) {\n        rotation = rotation + 360;\n      }\n    }\n    path.push({\n      start: p1,\n      end: p2,\n      dis: dis,\n      rotation: rotation,\n      duration: 0\n    });\n  }\n  path.map(function (point) {\n    point.duration = time * (point.dis / totalDis);\n  });\n  return path;\n}\nexport function calculateCentroid(coord) {\n  // let pos = coord as Position;\n  if (isNumber(coord[0])) {\n    return coord;\n    // @ts-ignore\n  } else if (isNumber(coord[0][0])) {\n    throw new Error('当前数据不支持标注');\n    // @ts-ignore\n  } else if (isNumber(coord[0][0][0])) {\n    var coords = coord;\n    var xSum = 0;\n    var ySum = 0;\n    var len = 0;\n    coords.forEach(function (coor) {\n      coor.forEach(function (pos) {\n        xSum += pos[0];\n        ySum += pos[1];\n        len++;\n      });\n    });\n    return [xSum / len, ySum / len, 0];\n  } else {\n    throw new Error('当前数据不支持标注');\n  }\n}\n\n/**\n * 计算\n * @param points\n * @returns\n */\nexport function calculatePointsCenterAndRadius(points) {\n  var maxX = points[0];\n  var maxY = points[1];\n  var minX = points[0];\n  var minY = points[1];\n  var xCount = 0;\n  var yCount = 0;\n  var pCount = 0;\n  for (var i = 0; i < points.length; i += 2) {\n    var x = points[i];\n    var y = points[i + 1];\n    if (x && y) {\n      maxX = Math.max(x, maxX);\n      maxY = Math.max(y, maxY);\n      minX = Math.min(x, minX);\n      minY = Math.min(y, minY);\n      xCount += x;\n      yCount += y;\n      pCount++;\n    }\n  }\n  return {\n    center: [xCount / pCount, yCount / pCount],\n    radius: Math.sqrt(Math.pow(maxX - minX, 2) + Math.pow(maxY - minY, 2)) / 2\n  };\n}\n\n/**\n * 获取经纬度点集对应的 bbox\n * @param pointList\n */\nexport function getBBoxFromPoints(pointList) {\n  return bbox(featureCollection([lineString(pointList)]));\n}","map":{"version":3,"names":["_slicedToArray","bbox","degreesToRadians","featureCollection","lineString","radiansToLength","isNumber","originShift","Math","PI","lngLatInExtent","lngLat","bounds","_bounds","minLng","minLat","maxLng","maxLat","lng","lat","extent","data","dataExtent","Infinity","forEach","item","coordinates","caculExtent","coords","Array","isArray","coord","tranfrormCoord","cb","transform","map","lngLatToMeters","lnglat","validate","arguments","length","undefined","accuracy","enable","decimal","validateLngLat","x","y","log","tan","Number","toFixed","metersToLngLat","meters","atan","exp","longitude","Error","latitude","aProjectFlat","maxs","max","min","scale","d","a","b","c","floor","unProjectFlat","px","_px","pow","E","amap2Project","r","Rg","Tg","amap2UnProject","lnglatDistance","coordinates1","coordinates2","units","dLat","dLon","lat1","lat2","sin","cos","atan2","sqrt","project","earthRadius","padBounds","bufferRatio","heightBuffer","abs","widthBuffer","boundsContains","b1","b2","bBoxToBounds","normalize","v","len","calDistance","p1","p2","dotMul","v1","v2","getMod","calAngle","acos","getAngle","flow","time","originVec2","totalDis","path","i","dis","direct","rotation","lastRotation","push","start","end","duration","point","calculateCentroid","xSum","ySum","coor","pos","calculatePointsCenterAndRadius","points","maxX","maxY","minX","minY","xCount","yCount","pCount","center","radius","getBBoxFromPoints","pointList"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-utils/es/geo.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport bbox from '@turf/bbox';\nimport { degreesToRadians, featureCollection, lineString, radiansToLength } from '@turf/helpers';\nimport { isNumber } from \"./math\";\nvar originShift = 2 * Math.PI * 6378137 / 2.0;\nexport function lngLatInExtent(lngLat, bounds) {\n  var _bounds = _slicedToArray(bounds, 4),\n    minLng = _bounds[0],\n    minLat = _bounds[1],\n    maxLng = _bounds[2],\n    maxLat = _bounds[3];\n  return lngLat.lng > minLng && lngLat.lng <= maxLng && lngLat.lat > minLat && lngLat.lat <= maxLat;\n}\n/**\n * 计算地理数据范围\n * @param {dataArray} data 地理坐标数据\n * @return {Array} dataExtent\n */\nexport function extent(data) {\n  var dataExtent = [Infinity, Infinity, -Infinity, -Infinity];\n  data.forEach(function (item) {\n    var coordinates = item.coordinates;\n    caculExtent(dataExtent, coordinates);\n  });\n  return dataExtent;\n}\nfunction caculExtent(dataExtent, coords) {\n  if (Array.isArray(coords[0])) {\n    coords.forEach(function (coord) {\n      caculExtent(dataExtent, coord);\n    });\n  } else {\n    if (dataExtent[0] > coords[0]) {\n      dataExtent[0] = coords[0];\n    }\n    if (dataExtent[1] > coords[1]) {\n      dataExtent[1] = coords[1];\n    }\n    if (dataExtent[2] < coords[0]) {\n      dataExtent[2] = coords[0];\n    }\n    if (dataExtent[3] < coords[1]) {\n      dataExtent[3] = coords[1];\n    }\n  }\n  return dataExtent;\n}\nexport function tranfrormCoord(data, cb) {\n  return transform(data, cb);\n}\nfunction transform(item, cb) {\n  if (Array.isArray(item[0])) {\n    return item.map(function (coord) {\n      return transform(coord, cb);\n    });\n  }\n  return cb(item);\n}\nexport function lngLatToMeters(lnglat) {\n  var validate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var accuracy = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    enable: true,\n    decimal: 1\n  };\n  lnglat = validateLngLat(lnglat, validate);\n  var lng = lnglat[0];\n  var lat = lnglat[1];\n  var x = lng * originShift / 180.0;\n  var y = Math.log(Math.tan((90 + lat) * Math.PI / 360.0)) / (Math.PI / 180.0);\n  y = y * originShift / 180.0;\n  if (accuracy.enable) {\n    x = Number(x.toFixed(accuracy.decimal));\n    y = Number(y.toFixed(accuracy.decimal));\n  }\n  return lnglat.length === 3 ? [x, y, lnglat[2]] : [x, y];\n}\nexport function metersToLngLat(meters) {\n  var decimal = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 6;\n  var x = meters[0];\n  var y = meters[1];\n  var lng = x / originShift * 180.0;\n  var lat = y / originShift * 180.0;\n  lat = 180 / Math.PI * (2 * Math.atan(Math.exp(lat * Math.PI / 180.0)) - Math.PI / 2.0);\n  if (decimal !== undefined && decimal !== null) {\n    lng = Number(lng.toFixed(decimal));\n    lat = Number(lat.toFixed(decimal));\n  }\n  return meters.length === 3 ? [lng, lat, meters[2]] : [lng, lat];\n}\nexport function longitude(lng) {\n  if (lng === undefined || lng === null) {\n    throw new Error('lng is required');\n  }\n\n  // lngitudes cannot extends beyond +/-90 degrees\n  if (lng > 180 || lng < -180) {\n    lng = lng % 360;\n    if (lng > 180) {\n      lng = -360 + lng;\n    }\n    if (lng < -180) {\n      lng = 360 + lng;\n    }\n    if (lng === 0) {\n      lng = 0;\n    }\n  }\n  return lng;\n}\nexport function latitude(lat) {\n  if (lat === undefined || lat === null) {\n    throw new Error('lat is required');\n  }\n  if (lat > 90 || lat < -90) {\n    lat = lat % 180;\n    if (lat > 90) {\n      lat = -180 + lat;\n    }\n    if (lat < -90) {\n      lat = 180 + lat;\n    }\n    if (lat === 0) {\n      lat = 0;\n    }\n  }\n  return lat;\n}\nexport function validateLngLat(lnglat, validate) {\n  if (validate === false) {\n    return lnglat;\n  }\n  var lng = longitude(lnglat[0]);\n  var lat = latitude(lnglat[1]);\n\n  // Global Mercator does not support latitudes within 85 to 90 degrees\n  if (lat > 85) {\n    lat = 85;\n  }\n  if (lat < -85) {\n    lat = -85;\n  }\n  return lnglat.length === 3 ? [lng, lat, lnglat[2]] : [lng, lat];\n}\nexport function aProjectFlat(lnglat) {\n  var maxs = 85.0511287798;\n  var lat = Math.max(Math.min(maxs, lnglat[1]), -maxs);\n  var scale = 256 << 20;\n  var d = Math.PI / 180;\n  var x = lnglat[0] * d;\n  var y = lat * d;\n  y = Math.log(Math.tan(Math.PI / 4 + y / 2));\n  var a = 0.5 / Math.PI;\n  var b = 0.5;\n  var c = -0.5 / Math.PI;\n  d = 0.5;\n  x = scale * (a * x + b);\n  y = scale * (c * y + d);\n  return [Math.floor(x), Math.floor(y)];\n}\nexport function unProjectFlat(px) {\n  var a = 0.5 / Math.PI;\n  var b = 0.5;\n  var c = -0.5 / Math.PI;\n  var d = 0.5;\n  var scale = 256 << 20;\n  var _px = _slicedToArray(px, 2),\n    x = _px[0],\n    y = _px[1];\n  x = (x / scale - b) / a;\n  y = (y / scale - d) / c;\n  y = (Math.atan(Math.pow(Math.E, y)) - Math.PI / 4) * 2;\n  d = Math.PI / 180;\n  var lat = y / d;\n  var lng = x / d;\n  return [lng, lat];\n}\nexport function amap2Project(lng, lat) {\n  var r = 85.0511287798;\n  var Rg = Math.PI / 180;\n  var Tg = 6378137;\n  lat = Math.max(Math.min(r, lat), -r);\n  lng *= Rg;\n  lat *= Rg;\n  lat = Math.log(Math.tan(Math.PI / 4 + lat / 2));\n  return [lng * Tg, lat * Tg];\n}\nexport function amap2UnProject(x, y) {\n  var Rg = Math.PI / 180;\n  var Tg = 6378137;\n  var lng = x / Tg / Rg;\n  var lat = 2 * (Math.atan(Math.exp(y / Tg)) - Math.PI / 4) / Rg;\n  return [lng, lat];\n}\nexport function lnglatDistance(coordinates1, coordinates2, units) {\n  var dLat = degreesToRadians(coordinates2[1] - coordinates1[1]);\n  var dLon = degreesToRadians(coordinates2[0] - coordinates1[0]);\n  var lat1 = degreesToRadians(coordinates1[1]);\n  var lat2 = degreesToRadians(coordinates2[1]);\n  var a = Math.pow(Math.sin(dLat / 2), 2) + Math.pow(Math.sin(dLon / 2), 2) * Math.cos(lat1) * Math.cos(lat2);\n  return radiansToLength(2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)),\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  units = 'meters');\n}\nexport function project(lnglat) {\n  var d = Math.PI / 180;\n  var max = 85.0511287798;\n  var earthRadius = 6378137;\n  var lat = Math.max(Math.min(max, lnglat[1]), -max);\n  var sin = Math.sin(lat * d);\n  var x = earthRadius * lnglat[0] * d;\n  var y = earthRadius * Math.log((1 + sin) / (1 - sin)) / 2;\n  return [x, y];\n}\nexport function padBounds(b, bufferRatio) {\n  var heightBuffer = Math.abs(b[1][1] - b[0][1]) * bufferRatio;\n  var widthBuffer = Math.abs(b[1][0] - b[0][0]) * bufferRatio;\n  return [[b[0][0] - widthBuffer, b[0][1] - heightBuffer], [b[1][0] + widthBuffer, b[1][1] + heightBuffer]];\n}\n/**\n * b1 包含 b2 返回 true 否则false\n * @param b1 bounds1\n * @param b2 bounds2\n */\nexport function boundsContains(b1, b2) {\n  return b1[0][0] <= b2[0][0] && b1[0][1] <= b2[0][1] && b1[1][0] >= b2[1][0] && b1[1][1] >= b2[1][1];\n}\n/**\n * bbox转换为Bounds\n * @param b1 bbox\n *\n */\nexport function bBoxToBounds(b1) {\n  return [[b1[0], b1[1]], [b1[2], b1[3]]];\n}\nexport function normalize(v) {\n  var len = calDistance(v, [0, 0]);\n  return [v[0] / len, v[1] / len];\n}\nexport function calDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2));\n}\nfunction dotMul(v1, v2) {\n  return v1[0] * v2[0] + v1[1] * v2[1];\n}\nfunction getMod(v) {\n  return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n}\nexport function calAngle(v1, v2) {\n  return Math.acos(dotMul(v1, v2) / (getMod(v1) * getMod(v2))) * 180 / Math.PI;\n}\nexport function getAngle(v1, v2) {\n  // if(v2[0] < 0) {\n  //   return calAngle(v1, v2) + 180\n  // } else {\n  //   return calAngle(v1, v2)\n  // }\n\n  if (v2[0] > 0) {\n    if (v2[1] > 0) {\n      // 1\n      return 90 - Math.atan(v2[1] / v2[0]) * 180 / Math.PI;\n    } else {\n      // 2\n      return 90 + Math.atan(-v2[1] / v2[0]) * 180 / Math.PI;\n    }\n  } else {\n    if (v2[1] < 0) {\n      // 3\n      return 180 + (90 - Math.atan(v2[1] / v2[0]) * 180 / Math.PI);\n    } else {\n      // 4\n      return 270 + Math.atan(v2[1] / -v2[0]) * 180 / Math.PI;\n    }\n  }\n}\nexport function flow(coords) {\n  var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;\n  if (!coords || coords.length < 2) {\n    return;\n  }\n  var originVec2 = [0, 1];\n  var totalDis = 0;\n  var path = [];\n  for (var i = 0; i < coords.length - 1; i++) {\n    var p1 = coords[i];\n    var p2 = coords[i + 1];\n    var dis = calDistance(p1, p2);\n    totalDis += dis;\n    var direct = [p1[0] - p2[0], p1[1] - p2[1]];\n    // const direct: Point = [p2[0] - p1[0], p2[1] - p1[1]];\n\n    var rotation = getAngle(originVec2, direct);\n    if (i > 0) {\n      var lastRotation = path[i - 1].rotation;\n      if (lastRotation - rotation > 360 - lastRotation + rotation) {\n        rotation = rotation + 360;\n      }\n    }\n    path.push({\n      start: p1,\n      end: p2,\n      dis: dis,\n      rotation: rotation,\n      duration: 0\n    });\n  }\n  path.map(function (point) {\n    point.duration = time * (point.dis / totalDis);\n  });\n  return path;\n}\nexport function calculateCentroid(coord) {\n  // let pos = coord as Position;\n  if (isNumber(coord[0])) {\n    return coord;\n    // @ts-ignore\n  } else if (isNumber(coord[0][0])) {\n    throw new Error('当前数据不支持标注');\n    // @ts-ignore\n  } else if (isNumber(coord[0][0][0])) {\n    var coords = coord;\n    var xSum = 0;\n    var ySum = 0;\n    var len = 0;\n    coords.forEach(function (coor) {\n      coor.forEach(function (pos) {\n        xSum += pos[0];\n        ySum += pos[1];\n        len++;\n      });\n    });\n    return [xSum / len, ySum / len, 0];\n  } else {\n    throw new Error('当前数据不支持标注');\n  }\n}\n\n/**\n * 计算\n * @param points\n * @returns\n */\nexport function calculatePointsCenterAndRadius(points) {\n  var maxX = points[0];\n  var maxY = points[1];\n  var minX = points[0];\n  var minY = points[1];\n  var xCount = 0;\n  var yCount = 0;\n  var pCount = 0;\n  for (var i = 0; i < points.length; i += 2) {\n    var x = points[i];\n    var y = points[i + 1];\n    if (x && y) {\n      maxX = Math.max(x, maxX);\n      maxY = Math.max(y, maxY);\n      minX = Math.min(x, minX);\n      minY = Math.min(y, minY);\n      xCount += x;\n      yCount += y;\n      pCount++;\n    }\n  }\n  return {\n    center: [xCount / pCount, yCount / pCount],\n    radius: Math.sqrt(Math.pow(maxX - minX, 2) + Math.pow(maxY - minY, 2)) / 2\n  };\n}\n\n/**\n * 获取经纬度点集对应的 bbox\n * @param pointList\n */\nexport function getBBoxFromPoints(pointList) {\n  return bbox(featureCollection([lineString(pointList)]));\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}