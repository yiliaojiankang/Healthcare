{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n/**\n * 状态量 Action 的基类\n * @abstract\n * @class\n * @ignore\n */\nvar StateBase = /** @class */function (_super) {\n  __extends(StateBase, _super);\n  function StateBase() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\n     * 状态名称\n     */\n    _this.stateName = '';\n    return _this;\n  }\n  /**\n   * 是否具有某个状态\n   * @param element 图表 Element 元素\n   */\n  StateBase.prototype.hasState = function (element) {\n    return element.hasState(this.stateName);\n  };\n  /**\n   * 设置状态激活\n   * @param enable 状态值\n   */\n  StateBase.prototype.setElementState = function (element, enable) {\n    // 防止闪烁\n    element.setState(this.stateName, enable);\n  };\n  /**\n   * 设置状态\n   */\n  StateBase.prototype.setState = function () {\n    this.setStateEnable(true);\n  };\n  /**\n   * 清除所有 Element 的状态\n   */\n  StateBase.prototype.clear = function () {\n    var view = this.context.view;\n    this.clearViewState(view);\n  };\n  StateBase.prototype.clearViewState = function (view) {\n    var _this = this;\n    var elements = getElementsByState(view, this.stateName);\n    each(elements, function (el) {\n      _this.setElementState(el, false);\n    });\n  };\n  return StateBase;\n}(Action);\nexport default StateBase;","map":{"version":3,"names":["each","Action","getElementsByState","StateBase","_super","__extends","_this","apply","arguments","stateName","prototype","hasState","element","setElementState","enable","setState","setStateEnable","clear","view","context","clearViewState","elements","el"],"sources":["../../../../src/interaction/action/element/state-base.ts"],"sourcesContent":["import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n\n/**\n * 状态量 Action 的基类\n * @abstract\n * @class\n * @ignore\n */\nabstract class StateBase extends Action {\n  /**\n   * 状态名称\n   */\n  protected stateName: string = '';\n\n  /**\n   * 设置状态是否激活\n   * @param enable 状态值\n   */\n  protected abstract setStateEnable(enable: boolean);\n\n  /**\n   * 是否具有某个状态\n   * @param element 图表 Element 元素\n   */\n  protected hasState(element: Element): boolean {\n    return element.hasState(this.stateName);\n  }\n  /**\n   * 设置状态激活\n   * @param enable 状态值\n   */\n  protected setElementState(element: Element, enable: boolean) {\n    // 防止闪烁\n    element.setState(this.stateName, enable);\n  }\n\n  /**\n   * 设置状态\n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   * 清除所有 Element 的状态\n   */\n  public clear() {\n    const view = this.context.view;\n    this.clearViewState(view);\n  }\n\n  protected clearViewState(view) {\n    const elements = getElementsByState(view, this.stateName);\n    each(elements, (el: Element) => {\n      this.setElementState(el, false);\n    });\n  }\n}\n\nexport default StateBase;\n"],"mappings":";AAAA,SAASA,IAAI,QAAQ,YAAY;AAEjC,OAAOC,MAAM,MAAM,SAAS;AAC5B,SAASC,kBAAkB,QAAQ,SAAS;AAE5C;;;;;;AAMA,IAAAC,SAAA,0BAAAC,MAAA;EAAiCC,SAAA,CAAAF,SAAA,EAAAC,MAAA;EAAjC,SAAAD,UAAA;IAAA,IAAAG,KAAA,GAAAF,MAAA,aAAAA,MAAA,CAAAG,KAAA,OAAAC,SAAA;IACE;;;IAGUF,KAAA,CAAAG,SAAS,GAAW,EAAE;;EA6ClC;EArCE;;;;EAIUN,SAAA,CAAAO,SAAA,CAAAC,QAAQ,GAAlB,UAAmBC,OAAgB;IACjC,OAAOA,OAAO,CAACD,QAAQ,CAAC,IAAI,CAACF,SAAS,CAAC;EACzC,CAAC;EACD;;;;EAIUN,SAAA,CAAAO,SAAA,CAAAG,eAAe,GAAzB,UAA0BD,OAAgB,EAAEE,MAAe;IACzD;IACAF,OAAO,CAACG,QAAQ,CAAC,IAAI,CAACN,SAAS,EAAEK,MAAM,CAAC;EAC1C,CAAC;EAED;;;EAGOX,SAAA,CAAAO,SAAA,CAAAK,QAAQ,GAAf;IACE,IAAI,CAACC,cAAc,CAAC,IAAI,CAAC;EAC3B,CAAC;EAED;;;EAGOb,SAAA,CAAAO,SAAA,CAAAO,KAAK,GAAZ;IACE,IAAMC,IAAI,GAAG,IAAI,CAACC,OAAO,CAACD,IAAI;IAC9B,IAAI,CAACE,cAAc,CAACF,IAAI,CAAC;EAC3B,CAAC;EAESf,SAAA,CAAAO,SAAA,CAAAU,cAAc,GAAxB,UAAyBF,IAAI;IAA7B,IAAAZ,KAAA;IACE,IAAMe,QAAQ,GAAGnB,kBAAkB,CAACgB,IAAI,EAAE,IAAI,CAACT,SAAS,CAAC;IACzDT,IAAI,CAACqB,QAAQ,EAAE,UAACC,EAAW;MACzBhB,KAAI,CAACO,eAAe,CAACS,EAAE,EAAE,KAAK,CAAC;IACjC,CAAC,CAAC;EACJ,CAAC;EACH,OAAAnB,SAAC;AAAD,CAAC,CAjDgCF,MAAM;AAmDvC,eAAeE,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}