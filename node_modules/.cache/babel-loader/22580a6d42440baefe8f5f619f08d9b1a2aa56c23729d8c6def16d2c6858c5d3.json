{"ast":null,"code":"import { __extends } from \"tslib\";\nimport EE from '@antv/event-emitter';\n/**\n * G2 Chart、View、Geometry 以及 Element 等的基类，提供事件以及一些通用的方法。\n */\nvar Base = /** @class */function (_super) {\n  __extends(Base, _super);\n  function Base(cfg) {\n    var _this = _super.call(this) || this;\n    /** 标识对象是否已销毁 */\n    _this.destroyed = false;\n    var _a = cfg.visible,\n      visible = _a === void 0 ? true : _a;\n    _this.visible = visible;\n    return _this;\n  }\n  /**\n   * 显示。\n   */\n  Base.prototype.show = function () {\n    var visible = this.visible;\n    if (!visible) {\n      this.changeVisible(true);\n    }\n  };\n  /**\n   * 隐藏。\n   */\n  Base.prototype.hide = function () {\n    var visible = this.visible;\n    if (visible) {\n      this.changeVisible(false);\n    }\n  };\n  /**\n   * 销毁。\n   */\n  Base.prototype.destroy = function () {\n    this.off();\n    this.destroyed = true;\n  };\n  /**\n   * 显示或者隐藏。\n   * @param visible\n   * @returns\n   */\n  Base.prototype.changeVisible = function (visible) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.visible = visible;\n  };\n  return Base;\n}(EE);\nexport default Base;","map":{"version":3,"names":["EE","Base","_super","__extends","cfg","_this","call","destroyed","_a","visible","prototype","show","changeVisible","hide","destroy","off"],"sources":["../src/base.ts"],"sourcesContent":["import EE from '@antv/event-emitter';\n\ninterface BaseCfg {\n  visible?: boolean;\n}\n\n/**\n * G2 Chart、View、Geometry 以及 Element 等的基类，提供事件以及一些通用的方法。\n */\nexport default class Base extends EE {\n  /** 是否可见 */\n  public visible: boolean;\n  /** 标识对象是否已销毁 */\n  public destroyed: boolean = false;\n\n  constructor(cfg: BaseCfg) {\n    super();\n    const { visible = true } = cfg;\n    this.visible = visible;\n  }\n\n  /**\n   * 显示。\n   */\n  public show() {\n    const visible = this.visible;\n    if (!visible) {\n      this.changeVisible(true);\n    }\n  }\n\n  /**\n   * 隐藏。\n   */\n  public hide() {\n    const visible = this.visible;\n    if (visible) {\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * 销毁。\n   */\n  public destroy() {\n    this.off();\n    this.destroyed = true;\n  }\n\n  /**\n   * 显示或者隐藏。\n   * @param visible\n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.visible = visible;\n  }\n}\n"],"mappings":";AAAA,OAAOA,EAAE,MAAM,qBAAqB;AAMpC;;;AAGA,IAAAC,IAAA,0BAAAC,MAAA;EAAkCC,SAAA,CAAAF,IAAA,EAAAC,MAAA;EAMhC,SAAAD,KAAYG,GAAY;IAAxB,IAAAC,KAAA,GACEH,MAAA,CAAAI,IAAA,MAAO;IAJT;IACOD,KAAA,CAAAE,SAAS,GAAY,KAAK;IAIvB,IAAAC,EAAA,GAAmBJ,GAAG,CAAAK,OAAR;MAAdA,OAAO,GAAAD,EAAA,cAAG,IAAI,GAAAA,EAAA;IACtBH,KAAI,CAACI,OAAO,GAAGA,OAAO;;EACxB;EAEA;;;EAGOR,IAAA,CAAAS,SAAA,CAAAC,IAAI,GAAX;IACE,IAAMF,OAAO,GAAG,IAAI,CAACA,OAAO;IAC5B,IAAI,CAACA,OAAO,EAAE;MACZ,IAAI,CAACG,aAAa,CAAC,IAAI,CAAC;;EAE5B,CAAC;EAED;;;EAGOX,IAAA,CAAAS,SAAA,CAAAG,IAAI,GAAX;IACE,IAAMJ,OAAO,GAAG,IAAI,CAACA,OAAO;IAC5B,IAAIA,OAAO,EAAE;MACX,IAAI,CAACG,aAAa,CAAC,KAAK,CAAC;;EAE7B,CAAC;EAED;;;EAGOX,IAAA,CAAAS,SAAA,CAAAI,OAAO,GAAd;IACE,IAAI,CAACC,GAAG,EAAE;IACV,IAAI,CAACR,SAAS,GAAG,IAAI;EACvB,CAAC;EAED;;;;;EAKON,IAAA,CAAAS,SAAA,CAAAE,aAAa,GAApB,UAAqBH,OAAgB;IACnC,IAAI,IAAI,CAACA,OAAO,KAAKA,OAAO,EAAE;MAC5B;;IAEF,IAAI,CAACA,OAAO,GAAGA,OAAO;EACxB,CAAC;EACH,OAAAR,IAAC;AAAD,CAAC,CAnDiCD,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}