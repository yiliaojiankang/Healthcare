{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport function pathLineAtOffset(coords, offset) {\n  var totalDistance = 0;\n  var cachePoints = [];\n  for (var i = 0; i < coords.length - 1; i++) {\n    var p1 = coords[i];\n    var p2 = coords[i + 1];\n    var distance = calDistance(p1, p2);\n    var lastTotalDistance = totalDistance;\n    totalDistance += distance;\n    cachePoints.push({\n      p1: p1,\n      p2: p2,\n      totalDistance: totalDistance,\n      distance: distance,\n      lastTotalDistance: lastTotalDistance\n    });\n  }\n  var offsetDistance = totalDistance * offset;\n  var lng;\n  var lat;\n  for (var _i = 0, _cachePoints = cachePoints; _i < _cachePoints.length; _i++) {\n    var point = _cachePoints[_i];\n    var currentDistance = point.totalDistance;\n    if (currentDistance > offsetDistance) {\n      var _p = point.p1;\n      var _p2 = point.p2;\n      var radius = (offsetDistance - point.lastTotalDistance) / point.distance;\n      var offsetPoint = mixPoint(_p2, _p, radius);\n      lng = offsetPoint[0];\n      lat = offsetPoint[1];\n      break;\n    }\n  }\n  return {\n    lng: lng,\n    lat: lat,\n    height: 0\n  };\n}\nfunction mixPoint(p1, p2, r) {\n  return [p1[0] * r + p2[0] * (1 - r), p1[1] * r + p2[1] * (1 - r)];\n}\nfunction calDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2));\n}","map":{"version":3,"names":["pathLineAtOffset","coords","offset","totalDistance","cachePoints","i","length","p1","p2","distance","calDistance","lastTotalDistance","push","offsetDistance","lng","lat","_i","_cachePoints","point","currentDistance","_p","_p2","radius","offsetPoint","mixPoint","height","r","Math","sqrt","pow"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-utils/es/lineAtOffset/line.js"],"sourcesContent":["export function pathLineAtOffset(coords, offset) {\n  var totalDistance = 0;\n  var cachePoints = [];\n  for (var i = 0; i < coords.length - 1; i++) {\n    var p1 = coords[i];\n    var p2 = coords[i + 1];\n    var distance = calDistance(p1, p2);\n    var lastTotalDistance = totalDistance;\n    totalDistance += distance;\n    cachePoints.push({\n      p1: p1,\n      p2: p2,\n      totalDistance: totalDistance,\n      distance: distance,\n      lastTotalDistance: lastTotalDistance\n    });\n  }\n  var offsetDistance = totalDistance * offset;\n  var lng;\n  var lat;\n  for (var _i = 0, _cachePoints = cachePoints; _i < _cachePoints.length; _i++) {\n    var point = _cachePoints[_i];\n    var currentDistance = point.totalDistance;\n    if (currentDistance > offsetDistance) {\n      var _p = point.p1;\n      var _p2 = point.p2;\n      var radius = (offsetDistance - point.lastTotalDistance) / point.distance;\n      var offsetPoint = mixPoint(_p2, _p, radius);\n      lng = offsetPoint[0];\n      lat = offsetPoint[1];\n      break;\n    }\n  }\n  return {\n    lng: lng,\n    lat: lat,\n    height: 0\n  };\n}\nfunction mixPoint(p1, p2, r) {\n  return [p1[0] * r + p2[0] * (1 - r), p1[1] * r + p2[1] * (1 - r)];\n}\nfunction calDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2));\n}"],"mappings":";AAAA,OAAO,SAASA,gBAAgBA,CAACC,MAAM,EAAEC,MAAM,EAAE;EAC/C,IAAIC,aAAa,GAAG,CAAC;EACrB,IAAIC,WAAW,GAAG,EAAE;EACpB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,MAAM,CAACK,MAAM,GAAG,CAAC,EAAED,CAAC,EAAE,EAAE;IAC1C,IAAIE,EAAE,GAAGN,MAAM,CAACI,CAAC,CAAC;IAClB,IAAIG,EAAE,GAAGP,MAAM,CAACI,CAAC,GAAG,CAAC,CAAC;IACtB,IAAII,QAAQ,GAAGC,WAAW,CAACH,EAAE,EAAEC,EAAE,CAAC;IAClC,IAAIG,iBAAiB,GAAGR,aAAa;IACrCA,aAAa,IAAIM,QAAQ;IACzBL,WAAW,CAACQ,IAAI,CAAC;MACfL,EAAE,EAAEA,EAAE;MACNC,EAAE,EAAEA,EAAE;MACNL,aAAa,EAAEA,aAAa;MAC5BM,QAAQ,EAAEA,QAAQ;MAClBE,iBAAiB,EAAEA;IACrB,CAAC,CAAC;EACJ;EACA,IAAIE,cAAc,GAAGV,aAAa,GAAGD,MAAM;EAC3C,IAAIY,GAAG;EACP,IAAIC,GAAG;EACP,KAAK,IAAIC,EAAE,GAAG,CAAC,EAAEC,YAAY,GAAGb,WAAW,EAAEY,EAAE,GAAGC,YAAY,CAACX,MAAM,EAAEU,EAAE,EAAE,EAAE;IAC3E,IAAIE,KAAK,GAAGD,YAAY,CAACD,EAAE,CAAC;IAC5B,IAAIG,eAAe,GAAGD,KAAK,CAACf,aAAa;IACzC,IAAIgB,eAAe,GAAGN,cAAc,EAAE;MACpC,IAAIO,EAAE,GAAGF,KAAK,CAACX,EAAE;MACjB,IAAIc,GAAG,GAAGH,KAAK,CAACV,EAAE;MAClB,IAAIc,MAAM,GAAG,CAACT,cAAc,GAAGK,KAAK,CAACP,iBAAiB,IAAIO,KAAK,CAACT,QAAQ;MACxE,IAAIc,WAAW,GAAGC,QAAQ,CAACH,GAAG,EAAED,EAAE,EAAEE,MAAM,CAAC;MAC3CR,GAAG,GAAGS,WAAW,CAAC,CAAC,CAAC;MACpBR,GAAG,GAAGQ,WAAW,CAAC,CAAC,CAAC;MACpB;IACF;EACF;EACA,OAAO;IACLT,GAAG,EAAEA,GAAG;IACRC,GAAG,EAAEA,GAAG;IACRU,MAAM,EAAE;EACV,CAAC;AACH;AACA,SAASD,QAAQA,CAACjB,EAAE,EAAEC,EAAE,EAAEkB,CAAC,EAAE;EAC3B,OAAO,CAACnB,EAAE,CAAC,CAAC,CAAC,GAAGmB,CAAC,GAAGlB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,GAAGkB,CAAC,CAAC,EAAEnB,EAAE,CAAC,CAAC,CAAC,GAAGmB,CAAC,GAAGlB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,GAAGkB,CAAC,CAAC,CAAC;AACnE;AACA,SAAShB,WAAWA,CAACH,EAAE,EAAEC,EAAE,EAAE;EAC3B,OAAOmB,IAAI,CAACC,IAAI,CAACD,IAAI,CAACE,GAAG,CAACtB,EAAE,CAAC,CAAC,CAAC,GAAGC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAGmB,IAAI,CAACE,GAAG,CAACtB,EAAE,CAAC,CAAC,CAAC,GAAGC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC3E"},"metadata":{},"sourceType":"module","externalDependencies":[]}