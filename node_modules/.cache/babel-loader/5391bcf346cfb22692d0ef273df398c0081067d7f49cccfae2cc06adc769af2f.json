{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.inject = exports.LazyServiceIdentifer = void 0;\nvar error_msgs_1 = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nvar LazyServiceIdentifer = function () {\n  function LazyServiceIdentifer(cb) {\n    this._cb = cb;\n  }\n  LazyServiceIdentifer.prototype.unwrap = function () {\n    return this._cb();\n  };\n  return LazyServiceIdentifer;\n}();\nexports.LazyServiceIdentifer = LazyServiceIdentifer;\nfunction inject(serviceIdentifier) {\n  return function (target, targetKey, index) {\n    if (serviceIdentifier === undefined) {\n      throw new Error(error_msgs_1.UNDEFINED_INJECT_ANNOTATION(target.name));\n    }\n    var metadata = new metadata_1.Metadata(METADATA_KEY.INJECT_TAG, serviceIdentifier);\n    if (typeof index === \"number\") {\n      decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n    } else {\n      decorator_utils_1.tagProperty(target, targetKey, metadata);\n    }\n  };\n}\nexports.inject = inject;","map":{"version":3,"names":["error_msgs_1","require","METADATA_KEY","metadata_1","decorator_utils_1","LazyServiceIdentifer","cb","_cb","prototype","unwrap","exports","inject","serviceIdentifier","target","targetKey","index","undefined","Error","UNDEFINED_INJECT_ANNOTATION","name","metadata","Metadata","INJECT_TAG","tagParameter","tagProperty"],"sources":["../../src/annotation/inject.ts"],"sourcesContent":[null],"mappings":";;;;;;AAAA,IAAAA,YAAA,GAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AAEA,IAAAE,UAAA,GAAAF,OAAA;AACA,IAAAG,iBAAA,GAAAH,OAAA;AAIA,IAAAI,oBAAA;EAEE,SAAAA,qBAAmBC,EAAyC;IACxD,IAAI,CAACC,GAAG,GAAGD,EAAE;EACjB;EAEOD,oBAAA,CAAAG,SAAA,CAAAC,MAAM,GAAb;IACE,OAAO,IAAI,CAACF,GAAG,EAAE;EACnB,CAAC;EACH,OAAAF,oBAAC;AAAD,CAAC,CATD;AAAaK,OAAA,CAAAL,oBAAA,GAAAA,oBAAA;AAWb,SAASM,MAAMA,CAACC,iBAA0C;EACxD,OAAO,UAASC,MAAW,EAAEC,SAAiB,EAAEC,KAAmC;IACjF,IAAIH,iBAAiB,KAAKI,SAAS,EAAE;MACnC,MAAM,IAAIC,KAAK,CAACjB,YAAA,CAAAkB,2BAA2B,CAACL,MAAM,CAACM,IAAI,CAAC,CAAC;;IAG3D,IAAMC,QAAQ,GAAG,IAAIjB,UAAA,CAAAkB,QAAQ,CAACnB,YAAY,CAACoB,UAAU,EAAEV,iBAAiB,CAAC;IAEzE,IAAI,OAAOG,KAAK,KAAK,QAAQ,EAAE;MAC7BX,iBAAA,CAAAmB,YAAY,CAACV,MAAM,EAAEC,SAAS,EAAEC,KAAK,EAAEK,QAAQ,CAAC;KACjD,MAAM;MACLhB,iBAAA,CAAAoB,WAAW,CAACX,MAAM,EAAEC,SAAS,EAAEM,QAAQ,CAAC;;EAG5C,CAAC;AACH;AAESV,OAAA,CAAAC,MAAA,GAAAA,MAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}