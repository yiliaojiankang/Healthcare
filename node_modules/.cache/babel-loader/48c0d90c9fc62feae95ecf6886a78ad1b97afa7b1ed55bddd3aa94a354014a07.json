{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { modifyCSS, createDom } from '@antv/dom-util';\nexport default {\n  onMouseEnter: function onMouseEnter(e) {\n    var item = e.item;\n    this.currentTarget = item;\n    this.showTooltip(e);\n    this.graph.emit('tooltipchange', {\n      item: e.item,\n      action: 'show'\n    });\n  },\n  onMouseMove: function onMouseMove(e) {\n    if (!this.shouldUpdate(e, this)) {\n      this.hideTooltip();\n      return;\n    }\n    if (!this.currentTarget || e.item !== this.currentTarget) {\n      return;\n    }\n    this.updatePosition(e);\n  },\n  onMouseLeave: function onMouseLeave(e) {\n    if (!this.shouldEnd(e, this)) {\n      return;\n    }\n    this.hideTooltip();\n    this.graph.emit('tooltipchange', {\n      item: this.currentTarget,\n      action: 'hide'\n    });\n    this.currentTarget = null;\n  },\n  showTooltip: function showTooltip(e) {\n    var container = this.container;\n    if (!e.item || e.item.destroyed) {\n      return;\n    }\n    if (!container) {\n      container = this.createTooltip(this.graph.get('canvas'));\n      this.container = container;\n    }\n    var text = this.formatText(e.item.get('model'), e);\n    container.innerHTML = text;\n    modifyCSS(this.container, {\n      visibility: 'visible'\n    });\n    this.updatePosition(e);\n  },\n  hideTooltip: function hideTooltip() {\n    modifyCSS(this.container, {\n      visibility: 'hidden'\n    });\n  },\n  updatePosition: function updatePosition(e) {\n    var shouldBegin = this.get('shouldBegin');\n    var _a = this,\n      width = _a.width,\n      height = _a.height,\n      container = _a.container,\n      graph = _a.graph;\n    if (!shouldBegin(e, this)) {\n      modifyCSS(container, {\n        visibility: 'hidden'\n      });\n      return;\n    }\n    var point = graph.getPointByClient(e.clientX, e.clientY);\n    var _b = graph.getCanvasByPoint(point.x, point.y),\n      x = _b.x,\n      y = _b.y;\n    var bbox = container.getBoundingClientRect();\n    if (x > width / 2) {\n      x -= bbox.width;\n    } else {\n      x += this.offset;\n    }\n    if (y > height / 2) {\n      y -= bbox.height;\n    } else {\n      y += this.offset;\n    }\n    var left = \"\".concat(x, \"px\");\n    var top = \"\".concat(y, \"px\");\n    modifyCSS(this.container, {\n      left: left,\n      top: top,\n      visibility: 'visible'\n    });\n  },\n  createTooltip: function createTooltip(canvas) {\n    var el = canvas.get('el');\n    el.style.position = 'relative';\n    var container = createDom(\"<div class=\\\"g6-tooltip g6-\".concat(this.item, \"-tooltip\\\"></div>\"));\n    el.parentNode.appendChild(container);\n    modifyCSS(container, {\n      position: 'absolute',\n      visibility: 'visible'\n    });\n    this.width = canvas.get('width');\n    this.height = canvas.get('height');\n    this.container = container;\n    this.graph.get('tooltips').push(container);\n    return container;\n  }\n};","map":{"version":3,"names":["modifyCSS","createDom","onMouseEnter","e","item","currentTarget","showTooltip","graph","emit","action","onMouseMove","shouldUpdate","hideTooltip","updatePosition","onMouseLeave","shouldEnd","container","destroyed","createTooltip","get","text","formatText","innerHTML","visibility","shouldBegin","_a","width","height","point","getPointByClient","clientX","clientY","_b","getCanvasByPoint","x","y","bbox","getBoundingClientRect","offset","left","concat","top","canvas","el","style","position","parentNode","appendChild","push"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/g6-pc/es/behavior/tooltip-base.js"],"sourcesContent":["import { modifyCSS, createDom } from '@antv/dom-util';\nexport default {\n  onMouseEnter: function onMouseEnter(e) {\n    var item = e.item;\n    this.currentTarget = item;\n    this.showTooltip(e);\n    this.graph.emit('tooltipchange', {\n      item: e.item,\n      action: 'show'\n    });\n  },\n  onMouseMove: function onMouseMove(e) {\n    if (!this.shouldUpdate(e, this)) {\n      this.hideTooltip();\n      return;\n    }\n    if (!this.currentTarget || e.item !== this.currentTarget) {\n      return;\n    }\n    this.updatePosition(e);\n  },\n  onMouseLeave: function onMouseLeave(e) {\n    if (!this.shouldEnd(e, this)) {\n      return;\n    }\n    this.hideTooltip();\n    this.graph.emit('tooltipchange', {\n      item: this.currentTarget,\n      action: 'hide'\n    });\n    this.currentTarget = null;\n  },\n  showTooltip: function showTooltip(e) {\n    var container = this.container;\n    if (!e.item || e.item.destroyed) {\n      return;\n    }\n    if (!container) {\n      container = this.createTooltip(this.graph.get('canvas'));\n      this.container = container;\n    }\n    var text = this.formatText(e.item.get('model'), e);\n    container.innerHTML = text;\n    modifyCSS(this.container, {\n      visibility: 'visible'\n    });\n    this.updatePosition(e);\n  },\n  hideTooltip: function hideTooltip() {\n    modifyCSS(this.container, {\n      visibility: 'hidden'\n    });\n  },\n  updatePosition: function updatePosition(e) {\n    var shouldBegin = this.get('shouldBegin');\n    var _a = this,\n      width = _a.width,\n      height = _a.height,\n      container = _a.container,\n      graph = _a.graph;\n    if (!shouldBegin(e, this)) {\n      modifyCSS(container, {\n        visibility: 'hidden'\n      });\n      return;\n    }\n    var point = graph.getPointByClient(e.clientX, e.clientY);\n    var _b = graph.getCanvasByPoint(point.x, point.y),\n      x = _b.x,\n      y = _b.y;\n    var bbox = container.getBoundingClientRect();\n    if (x > width / 2) {\n      x -= bbox.width;\n    } else {\n      x += this.offset;\n    }\n    if (y > height / 2) {\n      y -= bbox.height;\n    } else {\n      y += this.offset;\n    }\n    var left = \"\".concat(x, \"px\");\n    var top = \"\".concat(y, \"px\");\n    modifyCSS(this.container, {\n      left: left,\n      top: top,\n      visibility: 'visible'\n    });\n  },\n  createTooltip: function createTooltip(canvas) {\n    var el = canvas.get('el');\n    el.style.position = 'relative';\n    var container = createDom(\"<div class=\\\"g6-tooltip g6-\".concat(this.item, \"-tooltip\\\"></div>\"));\n    el.parentNode.appendChild(container);\n    modifyCSS(container, {\n      position: 'absolute',\n      visibility: 'visible'\n    });\n    this.width = canvas.get('width');\n    this.height = canvas.get('height');\n    this.container = container;\n    this.graph.get('tooltips').push(container);\n    return container;\n  }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}