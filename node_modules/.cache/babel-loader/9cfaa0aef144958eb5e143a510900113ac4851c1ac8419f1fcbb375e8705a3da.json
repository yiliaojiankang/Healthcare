{"ast":null,"code":"import _initializerDefineProperty from \"@babel/runtime/helpers/esm/initializerDefineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _applyDecoratedDescriptor from \"@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"@babel/runtime/helpers/esm/initializerWarningHelper\";\nvar _dec, _dec2, _class, _class2, _descriptor;\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nimport EventEmitter from 'eventemitter3';\nimport Hammer from 'hammerjs';\nimport { inject, injectable } from 'inversify';\nimport 'reflect-metadata';\n// @ts-ignore\nimport { TYPES } from \"../../types\";\nimport { InteractionEvent } from \"./IInteractionService\";\nvar DragEventMap = {\n  panstart: 'dragstart',\n  panmove: 'dragging',\n  panend: 'dragend',\n  pancancel: 'dragcancel'\n};\n/**\n * 由于目前 L7 与地图结合的方案为双 canvas 而非共享 WebGL Context，事件监听注册在地图底图上。\n * 除此之外，后续如果支持非地图场景，事件监听就需要注册在 L7 canvas 上。\n */\nvar InteractionService = (_dec = injectable(), _dec2 = inject(TYPES.IMapService), _dec(_class = (_class2 = /*#__PURE__*/function (_EventEmitter) {\n  _inherits(InteractionService, _EventEmitter);\n  var _super = _createSuper(InteractionService);\n  function InteractionService() {\n    var _this;\n    _classCallCheck(this, InteractionService);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"indragging\", false);\n    _initializerDefineProperty(_assertThisInitialized(_this), \"mapService\", _descriptor, _assertThisInitialized(_this));\n    // @ts-ignore\n    // private hammertime: HammerManager;\n    _defineProperty(_assertThisInitialized(_this), \"hammertime\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"lastClickTime\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"lastClickXY\", [-1, -1]);\n    _defineProperty(_assertThisInitialized(_this), \"clickTimer\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"$containter\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"onDrag\", function (target) {\n      var interactionTarget = _this.interactionEvent(target);\n      interactionTarget.type = DragEventMap[interactionTarget.type];\n      interactionTarget.type === 'dragging' ? _this.indragging = true : _this.indragging = false;\n      _this.emit(InteractionEvent.Drag, interactionTarget);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onHammer\", function (target) {\n      target.srcEvent.stopPropagation();\n      var interactionTarget = _this.interactionEvent(target);\n      _this.emit(InteractionEvent.Hover, interactionTarget);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouch\", function (target) {\n      var touch = target.touches[0];\n      // @ts-ignore\n      _this.onHover({\n        clientX: touch.clientX,\n        clientY: touch.clientY,\n        type: 'touchstart'\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouchEnd\", function (target) {\n      if (target.changedTouches.length > 0) {\n        var touch = target.changedTouches[0];\n        // @ts-ignore\n        _this.onHover({\n          clientX: touch.clientX,\n          clientY: touch.clientY,\n          type: 'touchend'\n        });\n      }\n    });\n    // touch move == drag map 目前会被拦截\n    _defineProperty(_assertThisInitialized(_this), \"onTouchMove\", function (target) {\n      var touch = target.changedTouches[0];\n      // @ts-ignore\n      _this.onHover({\n        clientX: touch.clientX,\n        clientY: touch.clientY,\n        type: 'touchmove'\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onHover\", function (event) {\n      var clientX = event.clientX,\n        clientY = event.clientY;\n      var x = clientX;\n      var y = clientY;\n      var type = event.type;\n      var $containter = _this.mapService.getMapContainer();\n      if ($containter) {\n        var _$containter$getBound = $containter.getBoundingClientRect(),\n          top = _$containter$getBound.top,\n          left = _$containter$getBound.left;\n        x = x - left - $containter.clientLeft;\n        y = y - top - $containter.clientTop;\n      }\n      var lngLat = _this.mapService.containerToLngLat([x, y]);\n      if (type === 'click') {\n        _this.isDoubleTap(x, y, lngLat);\n        return;\n      }\n      if (type === 'touch') {\n        _this.isDoubleTap(x, y, lngLat);\n        return;\n      }\n      if (type !== 'click' && type !== 'dblclick') {\n        _this.emit(InteractionEvent.Hover, {\n          x: x,\n          y: y,\n          lngLat: lngLat,\n          type: type,\n          target: event\n        });\n      }\n    });\n    return _this;\n  }\n  _createClass(InteractionService, [{\n    key: \"init\",\n    value: function init() {\n      // 注册事件在地图底图上\n      this.addEventListenerOnMap();\n      this.$containter = this.mapService.getMapContainer();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.hammertime) {\n        this.hammertime.destroy();\n      }\n      this.removeEventListenerOnMap();\n      this.off(InteractionEvent.Hover);\n    }\n  }, {\n    key: \"triggerHover\",\n    value: function triggerHover(_ref) {\n      var x = _ref.x,\n        y = _ref.y;\n      this.emit(InteractionEvent.Hover, {\n        x: x,\n        y: y\n      });\n    }\n  }, {\n    key: \"triggerSelect\",\n    value: function triggerSelect(id) {\n      this.emit(InteractionEvent.Select, {\n        featureId: id\n      });\n    }\n  }, {\n    key: \"triggerActive\",\n    value: function triggerActive(id) {\n      this.emit(InteractionEvent.Active, {\n        featureId: id\n      });\n    }\n  }, {\n    key: \"addEventListenerOnMap\",\n    value: function addEventListenerOnMap() {\n      var $containter = this.mapService.getMapContainer();\n      if ($containter) {\n        var hammertime = new Hammer.Manager($containter);\n        // $containter.addEventListener('mousemove', this.onHover);\n        // $containter.addEventListener('click', this.onHover);\n        hammertime.add(new Hammer.Tap({\n          event: 'dblclick',\n          taps: 2\n        }));\n        hammertime.add(new Hammer.Tap({\n          event: 'click'\n        }));\n        hammertime.add(new Hammer.Pan({\n          threshold: 0,\n          pointers: 0\n        }));\n        hammertime.add(new Hammer.Press({}));\n        // hammertime.get('pan').set({ direction: Hammer.DIRECTION_ALL });\n        // hammertime.get('pinch').set({ enable: true });\n        hammertime.on('dblclick click', this.onHammer);\n        hammertime.on('panstart panmove panend pancancel', this.onDrag);\n        $containter.addEventListener('touchstart', this.onTouch);\n        $containter.addEventListener('touchend', this.onTouchEnd);\n        $containter.addEventListener('touchmove', this.onTouchMove);\n        // $containter.addEventListener('click', this.onHover);\n        $containter.addEventListener('mousedown', this.onHover, true);\n        $containter.addEventListener('mouseup', this.onHover);\n        $containter.addEventListener('contextmenu', this.onHover);\n        this.hammertime = hammertime;\n      }\n\n      // Tip: 根据场景注册事件到 L7 canvas 上\n    }\n  }, {\n    key: \"removeEventListenerOnMap\",\n    value: function removeEventListenerOnMap() {\n      var $containter = this.mapService.getMapContainer();\n      if ($containter) {\n        $containter.removeEventListener('mousemove', this.onHover);\n        this.hammertime.off('dblclick click', this.onHammer);\n        this.hammertime.off('panstart panmove panend pancancel', this.onDrag);\n        $containter.removeEventListener('touchstart', this.onTouch);\n        $containter.removeEventListener('touchend', this.onTouchEnd);\n        $containter.removeEventListener('mousedown', this.onHover);\n        $containter.removeEventListener('mouseup', this.onHover);\n        // $containter.removeEventListener('dblclick', this.onHover);\n        $containter.removeEventListener('contextmenu', this.onHover);\n      }\n    }\n  }, {\n    key: \"interactionEvent\",\n    value: function interactionEvent(target) {\n      var type = target.type,\n        pointerType = target.pointerType;\n      var clientX;\n      var clientY;\n      if (pointerType === 'touch') {\n        clientY = Math.floor(target.pointers[0].clientY);\n        clientX = Math.floor(target.pointers[0].clientX);\n      } else {\n        clientY = Math.floor(target.srcEvent.y);\n        clientX = Math.floor(target.srcEvent.x);\n      }\n      var $containter = this.mapService.getMapContainer();\n      if ($containter) {\n        var _$containter$getBound2 = $containter.getBoundingClientRect(),\n          top = _$containter$getBound2.top,\n          left = _$containter$getBound2.left;\n        clientX -= left;\n        clientY -= top;\n      }\n      var lngLat = this.mapService.containerToLngLat([clientX, clientY]);\n      return {\n        x: clientX,\n        y: clientY,\n        lngLat: lngLat,\n        type: type,\n        target: target.srcEvent\n      };\n    }\n  }, {\n    key: \"isDoubleTap\",\n    value: function isDoubleTap(x, y, lngLat) {\n      var _this2 = this;\n      var nowTime = new Date().getTime();\n      var type = 'click';\n      if (nowTime - this.lastClickTime < 400 && Math.abs(this.lastClickXY[0] - x) < 10 && Math.abs(this.lastClickXY[1] - y) < 10) {\n        this.lastClickTime = 0;\n        this.lastClickXY = [-1, -1];\n        if (this.clickTimer) {\n          clearTimeout(this.clickTimer);\n        }\n        type = 'dblclick';\n        this.emit(InteractionEvent.Hover, {\n          x: x,\n          y: y,\n          lngLat: lngLat,\n          type: type\n        });\n      } else {\n        this.lastClickTime = nowTime;\n        this.lastClickXY = [x, y];\n        // @ts-ignore\n        this.clickTimer = setTimeout(function () {\n          type = 'click';\n          _this2.emit(InteractionEvent.Hover, {\n            x: x,\n            y: y,\n            lngLat: lngLat,\n            type: type\n          });\n        }, 400);\n      }\n    }\n  }]);\n  return InteractionService;\n}(EventEmitter), _descriptor = _applyDecoratedDescriptor(_class2.prototype, \"mapService\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _class2)) || _class);\nexport { InteractionService as default };","map":{"version":3,"names":["_initializerDefineProperty","_classCallCheck","_createClass","_assertThisInitialized","_inherits","_possibleConstructorReturn","_getPrototypeOf","_defineProperty","_applyDecoratedDescriptor","_initializerWarningHelper","_dec","_dec2","_class","_class2","_descriptor","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Boolean","prototype","valueOf","call","e","EventEmitter","Hammer","inject","injectable","TYPES","InteractionEvent","DragEventMap","panstart","panmove","panend","pancancel","InteractionService","IMapService","_EventEmitter","_super","_this","_len","length","args","Array","_key","concat","target","interactionTarget","interactionEvent","type","indragging","emit","Drag","srcEvent","stopPropagation","Hover","touch","touches","onHover","clientX","clientY","changedTouches","event","x","y","$containter","mapService","getMapContainer","_$containter$getBound","getBoundingClientRect","top","left","clientLeft","clientTop","lngLat","containerToLngLat","isDoubleTap","key","value","init","addEventListenerOnMap","destroy","hammertime","removeEventListenerOnMap","off","triggerHover","_ref","triggerSelect","id","Select","featureId","triggerActive","Active","Manager","add","Tap","taps","Pan","threshold","pointers","Press","on","onHammer","onDrag","addEventListener","onTouch","onTouchEnd","onTouchMove","removeEventListener","pointerType","Math","floor","_$containter$getBound2","_this2","nowTime","Date","getTime","lastClickTime","abs","lastClickXY","clickTimer","clearTimeout","setTimeout","configurable","enumerable","writable","initializer","default"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-core/es/services/interaction/InteractionService.js"],"sourcesContent":["import _initializerDefineProperty from \"@babel/runtime/helpers/esm/initializerDefineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _applyDecoratedDescriptor from \"@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"@babel/runtime/helpers/esm/initializerWarningHelper\";\nvar _dec, _dec2, _class, _class2, _descriptor;\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport EventEmitter from 'eventemitter3';\nimport Hammer from 'hammerjs';\nimport { inject, injectable } from 'inversify';\nimport 'reflect-metadata';\n// @ts-ignore\nimport { TYPES } from \"../../types\";\nimport { InteractionEvent } from \"./IInteractionService\";\nvar DragEventMap = {\n  panstart: 'dragstart',\n  panmove: 'dragging',\n  panend: 'dragend',\n  pancancel: 'dragcancel'\n};\n/**\n * 由于目前 L7 与地图结合的方案为双 canvas 而非共享 WebGL Context，事件监听注册在地图底图上。\n * 除此之外，后续如果支持非地图场景，事件监听就需要注册在 L7 canvas 上。\n */\nvar InteractionService = (_dec = injectable(), _dec2 = inject(TYPES.IMapService), _dec(_class = (_class2 = /*#__PURE__*/function (_EventEmitter) {\n  _inherits(InteractionService, _EventEmitter);\n  var _super = _createSuper(InteractionService);\n  function InteractionService() {\n    var _this;\n    _classCallCheck(this, InteractionService);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"indragging\", false);\n    _initializerDefineProperty(_assertThisInitialized(_this), \"mapService\", _descriptor, _assertThisInitialized(_this));\n    // @ts-ignore\n    // private hammertime: HammerManager;\n    _defineProperty(_assertThisInitialized(_this), \"hammertime\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"lastClickTime\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"lastClickXY\", [-1, -1]);\n    _defineProperty(_assertThisInitialized(_this), \"clickTimer\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"$containter\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"onDrag\", function (target) {\n      var interactionTarget = _this.interactionEvent(target);\n      interactionTarget.type = DragEventMap[interactionTarget.type];\n      interactionTarget.type === 'dragging' ? _this.indragging = true : _this.indragging = false;\n      _this.emit(InteractionEvent.Drag, interactionTarget);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onHammer\", function (target) {\n      target.srcEvent.stopPropagation();\n      var interactionTarget = _this.interactionEvent(target);\n      _this.emit(InteractionEvent.Hover, interactionTarget);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouch\", function (target) {\n      var touch = target.touches[0];\n      // @ts-ignore\n      _this.onHover({\n        clientX: touch.clientX,\n        clientY: touch.clientY,\n        type: 'touchstart'\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouchEnd\", function (target) {\n      if (target.changedTouches.length > 0) {\n        var touch = target.changedTouches[0];\n        // @ts-ignore\n        _this.onHover({\n          clientX: touch.clientX,\n          clientY: touch.clientY,\n          type: 'touchend'\n        });\n      }\n    });\n    // touch move == drag map 目前会被拦截\n    _defineProperty(_assertThisInitialized(_this), \"onTouchMove\", function (target) {\n      var touch = target.changedTouches[0];\n      // @ts-ignore\n      _this.onHover({\n        clientX: touch.clientX,\n        clientY: touch.clientY,\n        type: 'touchmove'\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onHover\", function (event) {\n      var clientX = event.clientX,\n        clientY = event.clientY;\n      var x = clientX;\n      var y = clientY;\n      var type = event.type;\n      var $containter = _this.mapService.getMapContainer();\n      if ($containter) {\n        var _$containter$getBound = $containter.getBoundingClientRect(),\n          top = _$containter$getBound.top,\n          left = _$containter$getBound.left;\n        x = x - left - $containter.clientLeft;\n        y = y - top - $containter.clientTop;\n      }\n      var lngLat = _this.mapService.containerToLngLat([x, y]);\n      if (type === 'click') {\n        _this.isDoubleTap(x, y, lngLat);\n        return;\n      }\n      if (type === 'touch') {\n        _this.isDoubleTap(x, y, lngLat);\n        return;\n      }\n      if (type !== 'click' && type !== 'dblclick') {\n        _this.emit(InteractionEvent.Hover, {\n          x: x,\n          y: y,\n          lngLat: lngLat,\n          type: type,\n          target: event\n        });\n      }\n    });\n    return _this;\n  }\n  _createClass(InteractionService, [{\n    key: \"init\",\n    value: function init() {\n      // 注册事件在地图底图上\n      this.addEventListenerOnMap();\n      this.$containter = this.mapService.getMapContainer();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.hammertime) {\n        this.hammertime.destroy();\n      }\n      this.removeEventListenerOnMap();\n      this.off(InteractionEvent.Hover);\n    }\n  }, {\n    key: \"triggerHover\",\n    value: function triggerHover(_ref) {\n      var x = _ref.x,\n        y = _ref.y;\n      this.emit(InteractionEvent.Hover, {\n        x: x,\n        y: y\n      });\n    }\n  }, {\n    key: \"triggerSelect\",\n    value: function triggerSelect(id) {\n      this.emit(InteractionEvent.Select, {\n        featureId: id\n      });\n    }\n  }, {\n    key: \"triggerActive\",\n    value: function triggerActive(id) {\n      this.emit(InteractionEvent.Active, {\n        featureId: id\n      });\n    }\n  }, {\n    key: \"addEventListenerOnMap\",\n    value: function addEventListenerOnMap() {\n      var $containter = this.mapService.getMapContainer();\n      if ($containter) {\n        var hammertime = new Hammer.Manager($containter);\n        // $containter.addEventListener('mousemove', this.onHover);\n        // $containter.addEventListener('click', this.onHover);\n        hammertime.add(new Hammer.Tap({\n          event: 'dblclick',\n          taps: 2\n        }));\n        hammertime.add(new Hammer.Tap({\n          event: 'click'\n        }));\n        hammertime.add(new Hammer.Pan({\n          threshold: 0,\n          pointers: 0\n        }));\n        hammertime.add(new Hammer.Press({}));\n        // hammertime.get('pan').set({ direction: Hammer.DIRECTION_ALL });\n        // hammertime.get('pinch').set({ enable: true });\n        hammertime.on('dblclick click', this.onHammer);\n        hammertime.on('panstart panmove panend pancancel', this.onDrag);\n        $containter.addEventListener('touchstart', this.onTouch);\n        $containter.addEventListener('touchend', this.onTouchEnd);\n        $containter.addEventListener('touchmove', this.onTouchMove);\n        // $containter.addEventListener('click', this.onHover);\n        $containter.addEventListener('mousedown', this.onHover, true);\n        $containter.addEventListener('mouseup', this.onHover);\n        $containter.addEventListener('contextmenu', this.onHover);\n        this.hammertime = hammertime;\n      }\n\n      // Tip: 根据场景注册事件到 L7 canvas 上\n    }\n  }, {\n    key: \"removeEventListenerOnMap\",\n    value: function removeEventListenerOnMap() {\n      var $containter = this.mapService.getMapContainer();\n      if ($containter) {\n        $containter.removeEventListener('mousemove', this.onHover);\n        this.hammertime.off('dblclick click', this.onHammer);\n        this.hammertime.off('panstart panmove panend pancancel', this.onDrag);\n        $containter.removeEventListener('touchstart', this.onTouch);\n        $containter.removeEventListener('touchend', this.onTouchEnd);\n        $containter.removeEventListener('mousedown', this.onHover);\n        $containter.removeEventListener('mouseup', this.onHover);\n        // $containter.removeEventListener('dblclick', this.onHover);\n        $containter.removeEventListener('contextmenu', this.onHover);\n      }\n    }\n  }, {\n    key: \"interactionEvent\",\n    value: function interactionEvent(target) {\n      var type = target.type,\n        pointerType = target.pointerType;\n      var clientX;\n      var clientY;\n      if (pointerType === 'touch') {\n        clientY = Math.floor(target.pointers[0].clientY);\n        clientX = Math.floor(target.pointers[0].clientX);\n      } else {\n        clientY = Math.floor(target.srcEvent.y);\n        clientX = Math.floor(target.srcEvent.x);\n      }\n      var $containter = this.mapService.getMapContainer();\n      if ($containter) {\n        var _$containter$getBound2 = $containter.getBoundingClientRect(),\n          top = _$containter$getBound2.top,\n          left = _$containter$getBound2.left;\n        clientX -= left;\n        clientY -= top;\n      }\n      var lngLat = this.mapService.containerToLngLat([clientX, clientY]);\n      return {\n        x: clientX,\n        y: clientY,\n        lngLat: lngLat,\n        type: type,\n        target: target.srcEvent\n      };\n    }\n  }, {\n    key: \"isDoubleTap\",\n    value: function isDoubleTap(x, y, lngLat) {\n      var _this2 = this;\n      var nowTime = new Date().getTime();\n      var type = 'click';\n      if (nowTime - this.lastClickTime < 400 && Math.abs(this.lastClickXY[0] - x) < 10 && Math.abs(this.lastClickXY[1] - y) < 10) {\n        this.lastClickTime = 0;\n        this.lastClickXY = [-1, -1];\n        if (this.clickTimer) {\n          clearTimeout(this.clickTimer);\n        }\n        type = 'dblclick';\n        this.emit(InteractionEvent.Hover, {\n          x: x,\n          y: y,\n          lngLat: lngLat,\n          type: type\n        });\n      } else {\n        this.lastClickTime = nowTime;\n        this.lastClickXY = [x, y];\n        // @ts-ignore\n        this.clickTimer = setTimeout(function () {\n          type = 'click';\n          _this2.emit(InteractionEvent.Hover, {\n            x: x,\n            y: y,\n            lngLat: lngLat,\n            type: type\n          });\n        }, 400);\n      }\n    }\n  }]);\n  return InteractionService;\n}(EventEmitter), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"mapService\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\nexport { InteractionService as default };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}