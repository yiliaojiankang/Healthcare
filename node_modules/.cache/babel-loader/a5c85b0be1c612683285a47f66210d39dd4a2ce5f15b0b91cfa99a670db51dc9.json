{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { getTickInterval } from '../util/time';\nexport default function calculateTimeTicks(cfg) {\n  var min = cfg.min,\n    max = cfg.max,\n    minTickInterval = cfg.minTickInterval;\n  var tickInterval = cfg.tickInterval;\n  var tickCount = cfg.tickCount;\n  // 指定 tickInterval 后 tickCount 不生效，需要重新计算\n  if (tickInterval) {\n    tickCount = Math.ceil((max - min) / tickInterval);\n  } else {\n    tickInterval = getTickInterval(min, max, tickCount)[1];\n    var count = (max - min) / tickInterval;\n    var ratio = count / tickCount;\n    if (ratio > 1) {\n      tickInterval = tickInterval * Math.ceil(ratio);\n    }\n    // 如果设置了最小间距，则使用最小间距\n    if (minTickInterval && tickInterval < minTickInterval) {\n      tickInterval = minTickInterval;\n    }\n  }\n  tickInterval = Math.max(Math.floor((max - min) / (Math.pow(2, 12) - 1)), tickInterval);\n  var ticks = [];\n  for (var i = min; i < max + tickInterval; i += tickInterval) {\n    ticks.push(i);\n  }\n  return ticks;\n}","map":{"version":3,"names":["getTickInterval","calculateTimeTicks","cfg","min","max","minTickInterval","tickInterval","tickCount","Math","ceil","count","ratio","floor","pow","ticks","i","push"],"sources":["../../src/tick-method/time.ts"],"sourcesContent":[null],"mappings":";AACA,SAASA,eAAe,QAAQ,cAAc;AAE9C,eAAc,SAAUC,kBAAkBA,CAACC,GAAgB;EACjD,IAAAC,GAAG,GAA2BD,GAAG,CAAAC,GAA9B;IAAEC,GAAG,GAAsBF,GAAG,CAAAE,GAAzB;IAAEC,eAAe,GAAKH,GAAG,CAAAG,eAAR;EACjC,IAAIC,YAAY,GAAGJ,GAAG,CAACI,YAAY;EACnC,IAAIC,SAAS,GAAGL,GAAG,CAACK,SAAS;EAC7B;EACA,IAAID,YAAY,EAAE;IAChBC,SAAS,GAAGC,IAAI,CAACC,IAAI,CAAC,CAACL,GAAG,GAAGD,GAAG,IAAIG,YAAY,CAAC;GAClD,MAAM;IACLA,YAAY,GAAGN,eAAe,CAACG,GAAG,EAAEC,GAAG,EAAEG,SAAS,CAAC,CAAC,CAAC,CAAC;IACtD,IAAMG,KAAK,GAAG,CAACN,GAAG,GAAGD,GAAG,IAAIG,YAAY;IACxC,IAAMK,KAAK,GAAGD,KAAK,GAAGH,SAAS;IAC/B,IAAII,KAAK,GAAG,CAAC,EAAE;MACbL,YAAY,GAAGA,YAAY,GAAGE,IAAI,CAACC,IAAI,CAACE,KAAK,CAAC;;IAEhD;IACA,IAAIN,eAAe,IAAIC,YAAY,GAAGD,eAAe,EAAE;MACrDC,YAAY,GAAGD,eAAe;;;EAIlCC,YAAY,GAAGE,IAAI,CAACJ,GAAG,CAACI,IAAI,CAACI,KAAK,CAAC,CAACR,GAAG,GAAGD,GAAG,KAAKK,IAAA,CAAAK,GAAA,EAAC,EAAI,EAAE,IAAG,CAAC,CAAC,CAAC,EAAEP,YAAY,CAAC;EAC9E,IAAMQ,KAAK,GAAG,EAAE;EAChB,KAAK,IAAIC,CAAC,GAAGZ,GAAG,EAAEY,CAAC,GAAGX,GAAG,GAAGE,YAAY,EAAES,CAAC,IAAIT,YAAY,EAAE;IAC3DQ,KAAK,CAACE,IAAI,CAACD,CAAC,CAAC;;EAEf,OAAOD,KAAK;AACd"},"metadata":{},"sourceType":"module","externalDependencies":[]}