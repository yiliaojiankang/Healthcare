{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n// @ts-ignore\n\nimport LngLat from \"../geo/lng_lat\";\nimport { bezier, ease, interpolate, now } from \"../util\";\nimport DOM from \"../utils/dom\";\n// deltaY value for mouse scroll wheel identification\nvar wheelZoomDelta = 4.000244140625;\n\n// These magic numbers control the rate of zoom. Trackpad events fire at a greater\n// frequency than mouse scroll wheel, so reduce the zoom rate per wheel tick\nvar defaultZoomRate = 1 / 100;\nvar wheelZoomRate = 1 / 450;\n\n// upper bound on how much we scale the map in any single render frame; this\n// is used to limit zoom rate in the case of very fast scrolling\nvar maxScalePerFrame = 2;\n\n/**\n * The `ScrollZoomHandler` allows the user to zoom the map by scrolling.\n */\nvar ScrollZoomHandler = /*#__PURE__*/function () {\n  // used for delayed-handling of a single wheel movement\n  // used to delay final '{move,zoom}end' events\n\n  /**\n   * @private\n   */\n  function ScrollZoomHandler(map, handler) {\n    var _this = this;\n    _classCallCheck(this, ScrollZoomHandler);\n    _defineProperty(this, \"onScrollFrame\", function () {\n      if (!_this.frameId) {\n        return;\n      }\n      _this.frameId = null;\n      if (!_this.isActive()) {\n        return;\n      }\n      var tr = _this.map.transform;\n\n      // if we've had scroll events since the last render frame, consume the\n      // accumulated delta, and update the target zoom level accordingly\n      if (_this.delta !== 0) {\n        // For trackpad events and single mouse wheel ticks, use the default zoom rate\n        var zoomRate = _this.type === 'wheel' && Math.abs(_this.delta) > wheelZoomDelta ? _this.wheelZoomRate : _this.defaultZoomRate;\n        // Scale by sigmoid of scroll wheel delta.\n        var scale = maxScalePerFrame / (1 + Math.exp(-Math.abs(_this.delta * zoomRate)));\n        if (_this.delta < 0 && scale !== 0) {\n          scale = 1 / scale;\n        }\n        var fromScale = typeof _this.targetZoom === 'number' ? tr.zoomScale(_this.targetZoom) : tr.scale;\n        _this.targetZoom = Math.min(tr.maxZoom, Math.max(tr.minZoom, tr.scaleZoom(fromScale * scale)));\n\n        // if this is a mouse wheel, refresh the starting zoom and easing\n        // function we're using to smooth out the zooming between wheel\n        // events\n        if (_this.type === 'wheel') {\n          _this.startZoom = tr.zoom;\n          _this.easing = _this.smoothOutEasing(200);\n        }\n        _this.delta = 0;\n      }\n      var targetZoom = typeof _this.targetZoom === 'number' ? _this.targetZoom : tr.zoom;\n      var startZoom = _this.startZoom;\n      var easing = _this.easing;\n      var finished = false;\n      var zoom;\n      if (_this.type === 'wheel' && startZoom && easing) {\n        var t = Math.min((now() - _this.lastWheelEventTime) / 200, 1);\n        var k = easing(t);\n        zoom = interpolate(startZoom, targetZoom, k);\n        if (t < 1) {\n          if (!_this.frameId) {\n            _this.frameId = true;\n          }\n        } else {\n          finished = true;\n        }\n      } else {\n        zoom = targetZoom;\n        finished = true;\n      }\n      _this.active = true;\n      if (finished) {\n        _this.active = false;\n        // @ts-ignore\n        _this.finishTimeout = setTimeout(function () {\n          _this.zooming = false;\n          _this.handler.triggerRenderFrame();\n          // @ts-ignore\n          delete _this.targetZoom;\n          // @ts-ignore\n          delete _this.finishTimeout;\n        }, 200);\n      }\n      return {\n        noInertia: true,\n        needsRenderFrame: !finished,\n        zoomDelta: zoom - tr.zoom,\n        around: _this.aroundPoint,\n        originalEvent: _this.lastWheelEvent\n      };\n    });\n    this.map = map;\n    this.el = map.getCanvasContainer();\n    this.handler = handler;\n    this.delta = 0;\n    this.defaultZoomRate = defaultZoomRate;\n    this.wheelZoomRate = wheelZoomRate;\n  }\n\n  /**\n   * Set the zoom rate of a trackpad\n   * @param {number} [zoomRate=1/100] The rate used to scale trackpad movement to a zoom value.\n   * @example\n   * // Speed up trackpad zoom\n   * map.scrollZoom.setZoomRate(1/25);\n   */\n  _createClass(ScrollZoomHandler, [{\n    key: \"setZoomRate\",\n    value: function setZoomRate(zoomRate) {\n      this.defaultZoomRate = zoomRate;\n    }\n\n    /**\n     * Set the zoom rate of a mouse wheel\n     * @param {number} [wheelZoomRate=1/450] The rate used to scale mouse wheel movement to a zoom value.\n     * @example\n     * // Slow down zoom of mouse wheel\n     * map.scrollZoom.setWheelZoomRate(1/600);\n     */\n  }, {\n    key: \"setWheelZoomRate\",\n    value: function setWheelZoomRate(zoomRate) {\n      this.wheelZoomRate = zoomRate;\n    }\n\n    /**\n     * Returns a Boolean indicating whether the \"scroll to zoom\" interaction is enabled.\n     *\n     * @returns {boolean} `true` if the \"scroll to zoom\" interaction is enabled.\n     */\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return !!this.enabled;\n    }\n\n    /*\n     * Active state is turned on and off with every scroll wheel event and is set back to false before the map\n     * render is called, so _active is not a good candidate for determining if a scroll zoom animation is in\n     * progress.\n     */\n  }, {\n    key: \"isActive\",\n    value: function isActive() {\n      return !!this.active || this.finishTimeout !== undefined;\n    }\n  }, {\n    key: \"isZooming\",\n    value: function isZooming() {\n      return !!this.zooming;\n    }\n\n    /**\n     * Enables the \"scroll to zoom\" interaction.\n     *\n     * @param {Object} [options] Options object.\n     * @param {string} [options.around] If \"center\" is passed, map will zoom around center of map\n     *\n     * @example\n     *   map.scrollZoom.enable();\n     * @example\n     *  map.scrollZoom.enable({ around: 'center' })\n     */\n  }, {\n    key: \"enable\",\n    value: function enable(options) {\n      if (this.isEnabled()) {\n        return;\n      }\n      this.enabled = true;\n      this.aroundCenter = options && options.around === 'center';\n    }\n\n    /**\n     * Disables the \"scroll to zoom\" interaction.\n     *\n     * @example\n     *   map.scrollZoom.disable();\n     */\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      if (!this.isEnabled()) {\n        return;\n      }\n      this.enabled = false;\n    }\n  }, {\n    key: \"wheel\",\n    value: function wheel(e) {\n      if (!this.isEnabled()) {\n        return;\n      }\n      // Remove `any` cast when https://github.com/facebook/flow/issues/4879 is fixed.\n      var value = e.deltaMode === window.WheelEvent.DOM_DELTA_LINE ? e.deltaY * 40 : e.deltaY;\n      var nowTime = now();\n      var timeDelta = nowTime - (this.lastWheelEventTime || 0);\n      this.lastWheelEventTime = nowTime;\n      if (value !== 0 && value % wheelZoomDelta === 0) {\n        // This one is definitely a mouse wheel event.\n        this.type = 'wheel';\n      } else if (value !== 0 && Math.abs(value) < 4) {\n        // This one is definitely a trackpad event because it is so small.\n        this.type = 'trackpad';\n      } else if (timeDelta > 400) {\n        // This is likely a new scroll action.\n        this.type = null;\n        this.lastValue = value;\n\n        // Start a timeout in case this was a singular event, and dely it by up to 40ms.\n        // @ts-ignore\n        this.timeout = setTimeout(this.onTimeout, 40, e);\n      } else if (!this.type) {\n        // This is a repeating event, but we don't know the type of event just yet.\n        // If the delta per time is small, we assume it's a fast trackpad; otherwise we switch into wheel mode.\n        this.type = Math.abs(timeDelta * value) < 200 ? 'trackpad' : 'wheel';\n\n        // Make sure our delayed event isn't fired again, because we accumulate\n        // the previous event (which was less than 40ms ago) into this event.\n        if (this.timeout) {\n          clearTimeout(this.timeout);\n          this.timeout = null;\n          value += this.lastValue;\n        }\n      }\n\n      // Slow down zoom if shift key is held for more precise zooming\n      if (e.shiftKey && value) {\n        value = value / 4;\n      }\n      // Only fire the callback if we actually know what type of scrolling device the user uses.\n      if (this.type) {\n        this.lastWheelEvent = e;\n        this.delta -= value;\n        if (!this.active) {\n          this.start(e);\n        }\n      }\n      e.preventDefault();\n    }\n  }, {\n    key: \"renderFrame\",\n    value: function renderFrame() {\n      return this.onScrollFrame();\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.active = false;\n    }\n  }, {\n    key: \"onTimeout\",\n    value: function onTimeout(initialEvent) {\n      this.type = 'wheel';\n      this.delta -= this.lastValue;\n      if (!this.active && this.start) {\n        this.start(initialEvent);\n      }\n    }\n  }, {\n    key: \"start\",\n    value: function start(e) {\n      if (!this.delta) {\n        return;\n      }\n      if (this.frameId) {\n        this.frameId = null;\n      }\n      this.active = true;\n      if (!this.isZooming()) {\n        this.zooming = true;\n      }\n      if (this.finishTimeout) {\n        clearTimeout(this.finishTimeout);\n        // @ts-ignore\n        delete this.finishTimeout;\n      }\n      var pos = DOM.mousePos(this.el, e);\n      this.around = LngLat.convert(this.aroundCenter ? this.map.getCenter() : this.map.unproject(pos));\n      this.aroundPoint = this.map.transform.locationPoint(this.around);\n      if (!this.frameId) {\n        this.frameId = true;\n        this.handler.triggerRenderFrame();\n      }\n    }\n  }, {\n    key: \"smoothOutEasing\",\n    value: function smoothOutEasing(duration) {\n      var easing = ease;\n      if (this.prevEase) {\n        var preEase = this.prevEase;\n        var t = (now() - preEase.start) / preEase.duration;\n        var speed = preEase.easing(t + 0.01) - preEase.easing(t);\n\n        // Quick hack to make new bezier that is continuous with last\n        var x = 0.27 / Math.sqrt(speed * speed + 0.0001) * 0.01;\n        var y = Math.sqrt(0.27 * 0.27 - x * x);\n        easing = bezier(x, y, 0.25, 1);\n      }\n      this.prevEase = {\n        start: now(),\n        duration: duration,\n        easing: easing\n      };\n      return easing;\n    }\n  }]);\n  return ScrollZoomHandler;\n}();\nexport default ScrollZoomHandler;","map":{"version":3,"names":["_classCallCheck","_createClass","_defineProperty","LngLat","bezier","ease","interpolate","now","DOM","wheelZoomDelta","defaultZoomRate","wheelZoomRate","maxScalePerFrame","ScrollZoomHandler","map","handler","_this","frameId","isActive","tr","transform","delta","zoomRate","type","Math","abs","scale","exp","fromScale","targetZoom","zoomScale","min","maxZoom","max","minZoom","scaleZoom","startZoom","zoom","easing","smoothOutEasing","finished","t","lastWheelEventTime","k","active","finishTimeout","setTimeout","zooming","triggerRenderFrame","noInertia","needsRenderFrame","zoomDelta","around","aroundPoint","originalEvent","lastWheelEvent","el","getCanvasContainer","key","value","setZoomRate","setWheelZoomRate","isEnabled","enabled","undefined","isZooming","enable","options","aroundCenter","disable","wheel","e","deltaMode","window","WheelEvent","DOM_DELTA_LINE","deltaY","nowTime","timeDelta","lastValue","timeout","onTimeout","clearTimeout","shiftKey","start","preventDefault","renderFrame","onScrollFrame","reset","initialEvent","pos","mousePos","convert","getCenter","unproject","locationPoint","duration","prevEase","preEase","speed","x","sqrt","y"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-map/es/handler/scroll_zoom.js"],"sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n// @ts-ignore\n\nimport LngLat from \"../geo/lng_lat\";\nimport { bezier, ease, interpolate, now } from \"../util\";\nimport DOM from \"../utils/dom\";\n// deltaY value for mouse scroll wheel identification\nvar wheelZoomDelta = 4.000244140625;\n\n// These magic numbers control the rate of zoom. Trackpad events fire at a greater\n// frequency than mouse scroll wheel, so reduce the zoom rate per wheel tick\nvar defaultZoomRate = 1 / 100;\nvar wheelZoomRate = 1 / 450;\n\n// upper bound on how much we scale the map in any single render frame; this\n// is used to limit zoom rate in the case of very fast scrolling\nvar maxScalePerFrame = 2;\n\n/**\n * The `ScrollZoomHandler` allows the user to zoom the map by scrolling.\n */\nvar ScrollZoomHandler = /*#__PURE__*/function () {\n  // used for delayed-handling of a single wheel movement\n  // used to delay final '{move,zoom}end' events\n\n  /**\n   * @private\n   */\n  function ScrollZoomHandler(map, handler) {\n    var _this = this;\n    _classCallCheck(this, ScrollZoomHandler);\n    _defineProperty(this, \"onScrollFrame\", function () {\n      if (!_this.frameId) {\n        return;\n      }\n      _this.frameId = null;\n      if (!_this.isActive()) {\n        return;\n      }\n      var tr = _this.map.transform;\n\n      // if we've had scroll events since the last render frame, consume the\n      // accumulated delta, and update the target zoom level accordingly\n      if (_this.delta !== 0) {\n        // For trackpad events and single mouse wheel ticks, use the default zoom rate\n        var zoomRate = _this.type === 'wheel' && Math.abs(_this.delta) > wheelZoomDelta ? _this.wheelZoomRate : _this.defaultZoomRate;\n        // Scale by sigmoid of scroll wheel delta.\n        var scale = maxScalePerFrame / (1 + Math.exp(-Math.abs(_this.delta * zoomRate)));\n        if (_this.delta < 0 && scale !== 0) {\n          scale = 1 / scale;\n        }\n        var fromScale = typeof _this.targetZoom === 'number' ? tr.zoomScale(_this.targetZoom) : tr.scale;\n        _this.targetZoom = Math.min(tr.maxZoom, Math.max(tr.minZoom, tr.scaleZoom(fromScale * scale)));\n\n        // if this is a mouse wheel, refresh the starting zoom and easing\n        // function we're using to smooth out the zooming between wheel\n        // events\n        if (_this.type === 'wheel') {\n          _this.startZoom = tr.zoom;\n          _this.easing = _this.smoothOutEasing(200);\n        }\n        _this.delta = 0;\n      }\n      var targetZoom = typeof _this.targetZoom === 'number' ? _this.targetZoom : tr.zoom;\n      var startZoom = _this.startZoom;\n      var easing = _this.easing;\n      var finished = false;\n      var zoom;\n      if (_this.type === 'wheel' && startZoom && easing) {\n        var t = Math.min((now() - _this.lastWheelEventTime) / 200, 1);\n        var k = easing(t);\n        zoom = interpolate(startZoom, targetZoom, k);\n        if (t < 1) {\n          if (!_this.frameId) {\n            _this.frameId = true;\n          }\n        } else {\n          finished = true;\n        }\n      } else {\n        zoom = targetZoom;\n        finished = true;\n      }\n      _this.active = true;\n      if (finished) {\n        _this.active = false;\n        // @ts-ignore\n        _this.finishTimeout = setTimeout(function () {\n          _this.zooming = false;\n          _this.handler.triggerRenderFrame();\n          // @ts-ignore\n          delete _this.targetZoom;\n          // @ts-ignore\n          delete _this.finishTimeout;\n        }, 200);\n      }\n      return {\n        noInertia: true,\n        needsRenderFrame: !finished,\n        zoomDelta: zoom - tr.zoom,\n        around: _this.aroundPoint,\n        originalEvent: _this.lastWheelEvent\n      };\n    });\n    this.map = map;\n    this.el = map.getCanvasContainer();\n    this.handler = handler;\n    this.delta = 0;\n    this.defaultZoomRate = defaultZoomRate;\n    this.wheelZoomRate = wheelZoomRate;\n  }\n\n  /**\n   * Set the zoom rate of a trackpad\n   * @param {number} [zoomRate=1/100] The rate used to scale trackpad movement to a zoom value.\n   * @example\n   * // Speed up trackpad zoom\n   * map.scrollZoom.setZoomRate(1/25);\n   */\n  _createClass(ScrollZoomHandler, [{\n    key: \"setZoomRate\",\n    value: function setZoomRate(zoomRate) {\n      this.defaultZoomRate = zoomRate;\n    }\n\n    /**\n     * Set the zoom rate of a mouse wheel\n     * @param {number} [wheelZoomRate=1/450] The rate used to scale mouse wheel movement to a zoom value.\n     * @example\n     * // Slow down zoom of mouse wheel\n     * map.scrollZoom.setWheelZoomRate(1/600);\n     */\n  }, {\n    key: \"setWheelZoomRate\",\n    value: function setWheelZoomRate(zoomRate) {\n      this.wheelZoomRate = zoomRate;\n    }\n\n    /**\n     * Returns a Boolean indicating whether the \"scroll to zoom\" interaction is enabled.\n     *\n     * @returns {boolean} `true` if the \"scroll to zoom\" interaction is enabled.\n     */\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return !!this.enabled;\n    }\n\n    /*\n     * Active state is turned on and off with every scroll wheel event and is set back to false before the map\n     * render is called, so _active is not a good candidate for determining if a scroll zoom animation is in\n     * progress.\n     */\n  }, {\n    key: \"isActive\",\n    value: function isActive() {\n      return !!this.active || this.finishTimeout !== undefined;\n    }\n  }, {\n    key: \"isZooming\",\n    value: function isZooming() {\n      return !!this.zooming;\n    }\n\n    /**\n     * Enables the \"scroll to zoom\" interaction.\n     *\n     * @param {Object} [options] Options object.\n     * @param {string} [options.around] If \"center\" is passed, map will zoom around center of map\n     *\n     * @example\n     *   map.scrollZoom.enable();\n     * @example\n     *  map.scrollZoom.enable({ around: 'center' })\n     */\n  }, {\n    key: \"enable\",\n    value: function enable(options) {\n      if (this.isEnabled()) {\n        return;\n      }\n      this.enabled = true;\n      this.aroundCenter = options && options.around === 'center';\n    }\n\n    /**\n     * Disables the \"scroll to zoom\" interaction.\n     *\n     * @example\n     *   map.scrollZoom.disable();\n     */\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      if (!this.isEnabled()) {\n        return;\n      }\n      this.enabled = false;\n    }\n  }, {\n    key: \"wheel\",\n    value: function wheel(e) {\n      if (!this.isEnabled()) {\n        return;\n      }\n      // Remove `any` cast when https://github.com/facebook/flow/issues/4879 is fixed.\n      var value = e.deltaMode === window.WheelEvent.DOM_DELTA_LINE ? e.deltaY * 40 : e.deltaY;\n      var nowTime = now();\n      var timeDelta = nowTime - (this.lastWheelEventTime || 0);\n      this.lastWheelEventTime = nowTime;\n      if (value !== 0 && value % wheelZoomDelta === 0) {\n        // This one is definitely a mouse wheel event.\n        this.type = 'wheel';\n      } else if (value !== 0 && Math.abs(value) < 4) {\n        // This one is definitely a trackpad event because it is so small.\n        this.type = 'trackpad';\n      } else if (timeDelta > 400) {\n        // This is likely a new scroll action.\n        this.type = null;\n        this.lastValue = value;\n\n        // Start a timeout in case this was a singular event, and dely it by up to 40ms.\n        // @ts-ignore\n        this.timeout = setTimeout(this.onTimeout, 40, e);\n      } else if (!this.type) {\n        // This is a repeating event, but we don't know the type of event just yet.\n        // If the delta per time is small, we assume it's a fast trackpad; otherwise we switch into wheel mode.\n        this.type = Math.abs(timeDelta * value) < 200 ? 'trackpad' : 'wheel';\n\n        // Make sure our delayed event isn't fired again, because we accumulate\n        // the previous event (which was less than 40ms ago) into this event.\n        if (this.timeout) {\n          clearTimeout(this.timeout);\n          this.timeout = null;\n          value += this.lastValue;\n        }\n      }\n\n      // Slow down zoom if shift key is held for more precise zooming\n      if (e.shiftKey && value) {\n        value = value / 4;\n      }\n      // Only fire the callback if we actually know what type of scrolling device the user uses.\n      if (this.type) {\n        this.lastWheelEvent = e;\n        this.delta -= value;\n        if (!this.active) {\n          this.start(e);\n        }\n      }\n      e.preventDefault();\n    }\n  }, {\n    key: \"renderFrame\",\n    value: function renderFrame() {\n      return this.onScrollFrame();\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.active = false;\n    }\n  }, {\n    key: \"onTimeout\",\n    value: function onTimeout(initialEvent) {\n      this.type = 'wheel';\n      this.delta -= this.lastValue;\n      if (!this.active && this.start) {\n        this.start(initialEvent);\n      }\n    }\n  }, {\n    key: \"start\",\n    value: function start(e) {\n      if (!this.delta) {\n        return;\n      }\n      if (this.frameId) {\n        this.frameId = null;\n      }\n      this.active = true;\n      if (!this.isZooming()) {\n        this.zooming = true;\n      }\n      if (this.finishTimeout) {\n        clearTimeout(this.finishTimeout);\n        // @ts-ignore\n        delete this.finishTimeout;\n      }\n      var pos = DOM.mousePos(this.el, e);\n      this.around = LngLat.convert(this.aroundCenter ? this.map.getCenter() : this.map.unproject(pos));\n      this.aroundPoint = this.map.transform.locationPoint(this.around);\n      if (!this.frameId) {\n        this.frameId = true;\n        this.handler.triggerRenderFrame();\n      }\n    }\n  }, {\n    key: \"smoothOutEasing\",\n    value: function smoothOutEasing(duration) {\n      var easing = ease;\n      if (this.prevEase) {\n        var preEase = this.prevEase;\n        var t = (now() - preEase.start) / preEase.duration;\n        var speed = preEase.easing(t + 0.01) - preEase.easing(t);\n\n        // Quick hack to make new bezier that is continuous with last\n        var x = 0.27 / Math.sqrt(speed * speed + 0.0001) * 0.01;\n        var y = Math.sqrt(0.27 * 0.27 - x * x);\n        easing = bezier(x, y, 0.25, 1);\n      }\n      this.prevEase = {\n        start: now(),\n        duration: duration,\n        easing: easing\n      };\n      return easing;\n    }\n  }]);\n  return ScrollZoomHandler;\n}();\nexport default ScrollZoomHandler;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}