{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { registerShape, Util } from '@antv/g2';\nimport { parsePathString } from '@antv/path-util';\nimport { deepAssign } from '../../utils';\nimport { PATH_FIELD } from './constant';\n/**\n * 获取填充属性\n * @param cfg 图形绘制数据\n */\nfunction getFillAttrs(cfg) {\n  // style.fill 优先级更高\n  return deepAssign({}, cfg.defaultStyle, {\n    fill: cfg.color\n  }, cfg.style);\n}\nregisterShape('schema', 'venn', {\n  draw: function (cfg, container) {\n    var data = cfg.data;\n    var segments = parsePathString(data[PATH_FIELD]);\n    var fillAttrs = getFillAttrs(cfg);\n    var group = container.addGroup({\n      name: 'venn-shape'\n    });\n    group.addShape('path', {\n      attrs: __assign(__assign({}, fillAttrs), {\n        path: segments\n      }),\n      name: 'venn-path'\n    });\n    var _a = cfg.customInfo,\n      offsetX = _a.offsetX,\n      offsetY = _a.offsetY;\n    var matrix = Util.transform(null, [['t', offsetX, offsetY]]);\n    group.setMatrix(matrix);\n    return group;\n  },\n  getMarker: function (markerCfg) {\n    var color = markerCfg.color;\n    return {\n      symbol: 'circle',\n      style: {\n        lineWidth: 0,\n        stroke: color,\n        fill: color,\n        r: 4\n      }\n    };\n  }\n});","map":{"version":3,"names":["registerShape","Util","parsePathString","deepAssign","PATH_FIELD","getFillAttrs","cfg","defaultStyle","fill","color","style","draw","container","data","segments","fillAttrs","group","addGroup","name","addShape","attrs","__assign","path","_a","customInfo","offsetX","offsetY","matrix","transform","setMatrix","getMarker","markerCfg","symbol","lineWidth","stroke","r"],"sources":["../../../src/plots/venn/shape.ts"],"sourcesContent":["import { IGroup } from '@antv/g-base';\nimport { registerShape, Types, Util } from '@antv/g2';\nimport { parsePathString } from '@antv/path-util';\nimport { Datum, Point } from '../../types';\nimport { deepAssign } from '../../utils';\nimport { PATH_FIELD } from './constant';\nimport { CustomInfo } from './types';\n\n/**\n * 获取填充属性\n * @param cfg 图形绘制数据\n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  // style.fill 优先级更高\n  return deepAssign({}, cfg.defaultStyle, { fill: cfg.color }, cfg.style);\n}\n\nregisterShape('schema', 'venn', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const data = cfg.data as Datum;\n    const segments = parsePathString(data[PATH_FIELD]);\n    const fillAttrs = getFillAttrs(cfg);\n\n    const group = container.addGroup({ name: 'venn-shape' });\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: segments,\n      },\n      name: 'venn-path',\n    });\n\n    const { offsetX, offsetY } = cfg.customInfo as CustomInfo;\n\n    const matrix = Util.transform(null, [['t', offsetX, offsetY]]);\n    group.setMatrix(matrix);\n\n    return group;\n  },\n  getMarker(markerCfg: Types.ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        lineWidth: 0,\n        stroke: color,\n        fill: color,\n        r: 4,\n      },\n    };\n  },\n});\n"],"mappings":";AACA,SAASA,aAAa,EAASC,IAAI,QAAQ,UAAU;AACrD,SAASC,eAAe,QAAQ,iBAAiB;AAEjD,SAASC,UAAU,QAAQ,aAAa;AACxC,SAASC,UAAU,QAAQ,YAAY;AAGvC;;;;AAIA,SAASC,YAAYA,CAACC,GAAoB;EACxC;EACA,OAAOH,UAAU,CAAC,EAAE,EAAEG,GAAG,CAACC,YAAY,EAAE;IAAEC,IAAI,EAAEF,GAAG,CAACG;EAAK,CAAE,EAAEH,GAAG,CAACI,KAAK,CAAC;AACzE;AAEAV,aAAa,CAAC,QAAQ,EAAE,MAAM,EAAE;EAC9BW,IAAI,WAAAA,CAACL,GAA+D,EAAEM,SAAiB;IACrF,IAAMC,IAAI,GAAGP,GAAG,CAACO,IAAa;IAC9B,IAAMC,QAAQ,GAAGZ,eAAe,CAACW,IAAI,CAACT,UAAU,CAAC,CAAC;IAClD,IAAMW,SAAS,GAAGV,YAAY,CAACC,GAAG,CAAC;IAEnC,IAAMU,KAAK,GAAGJ,SAAS,CAACK,QAAQ,CAAC;MAAEC,IAAI,EAAE;IAAY,CAAE,CAAC;IAExDF,KAAK,CAACG,QAAQ,CAAC,MAAM,EAAE;MACrBC,KAAK,EAAAC,QAAA,CAAAA,QAAA,KACAN,SAAS;QACZO,IAAI,EAAER;MAAQ,EACf;MACDI,IAAI,EAAE;KACP,CAAC;IAEI,IAAAK,EAAA,GAAuBjB,GAAG,CAACkB,UAAwB;MAAjDC,OAAO,GAAAF,EAAA,CAAAE,OAAA;MAAEC,OAAO,GAAAH,EAAA,CAAAG,OAAiC;IAEzD,IAAMC,MAAM,GAAG1B,IAAI,CAAC2B,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC,GAAG,EAAEH,OAAO,EAAEC,OAAO,CAAC,CAAC,CAAC;IAC9DV,KAAK,CAACa,SAAS,CAACF,MAAM,CAAC;IAEvB,OAAOX,KAAK;EACd,CAAC;EACDc,SAAS,WAAAA,CAACC,SAA+B;IAC/B,IAAAtB,KAAK,GAAKsB,SAAS,CAAAtB,KAAd;IACb,OAAO;MACLuB,MAAM,EAAE,QAAQ;MAChBtB,KAAK,EAAE;QACLuB,SAAS,EAAE,CAAC;QACZC,MAAM,EAAEzB,KAAK;QACbD,IAAI,EAAEC,KAAK;QACX0B,CAAC,EAAE;;KAEN;EACH;CACD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}