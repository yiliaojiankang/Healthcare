{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nvar defaultOptions = {\n  panStep: 100,\n  bearingStep: 15,\n  pitchStep: 10\n};\n\n/**\n * The `KeyboardHandler` allows the user to zoom, rotate, and pan the map using\n * the following keyboard shortcuts:\n *\n * - `=` / `+`: Increase the zoom level by 1.\n * - `Shift-=` / `Shift-+`: Increase the zoom level by 2.\n * - `-`: Decrease the zoom level by 1.\n * - `Shift--`: Decrease the zoom level by 2.\n * - Arrow keys: Pan by 100 pixels.\n * - `Shift+⇢`: Increase the rotation by 15 degrees.\n * - `Shift+⇠`: Decrease the rotation by 15 degrees.\n * - `Shift+⇡`: Increase the pitch by 10 degrees.\n * - `Shift+⇣`: Decrease the pitch by 10 degrees.\n */\nvar KeyboardHandler = /*#__PURE__*/function () {\n  /**\n   * @private\n   */\n  function KeyboardHandler() {\n    _classCallCheck(this, KeyboardHandler);\n    var stepOptions = defaultOptions;\n    this.panStep = stepOptions.panStep;\n    this.bearingStep = stepOptions.bearingStep;\n    this.pitchStep = stepOptions.pitchStep;\n  }\n  _createClass(KeyboardHandler, [{\n    key: \"reset\",\n    value: function reset() {\n      this.active = false;\n    }\n  }, {\n    key: \"keydown\",\n    value: function keydown(e) {\n      var _this = this;\n      if (e.altKey || e.ctrlKey || e.metaKey) {\n        return;\n      }\n      var zoomDir = 0;\n      var bearingDir = 0;\n      var pitchDir = 0;\n      var xDir = 0;\n      var yDir = 0;\n      switch (e.keyCode) {\n        case 61:\n        case 107:\n        case 171:\n        case 187:\n          zoomDir = 1;\n          break;\n        case 189:\n        case 109:\n        case 173:\n          zoomDir = -1;\n          break;\n        case 37:\n          if (e.shiftKey) {\n            bearingDir = -1;\n          } else {\n            e.preventDefault();\n            xDir = -1;\n          }\n          break;\n        case 39:\n          if (e.shiftKey) {\n            bearingDir = 1;\n          } else {\n            e.preventDefault();\n            xDir = 1;\n          }\n          break;\n        case 38:\n          if (e.shiftKey) {\n            pitchDir = 1;\n          } else {\n            e.preventDefault();\n            yDir = -1;\n          }\n          break;\n        case 40:\n          if (e.shiftKey) {\n            pitchDir = -1;\n          } else {\n            e.preventDefault();\n            yDir = 1;\n          }\n          break;\n        default:\n          return;\n      }\n      return {\n        cameraAnimation: function cameraAnimation(map) {\n          var zoom = map.getZoom();\n          map.easeTo({\n            duration: 300,\n            easeId: 'keyboardHandler',\n            easing: easeOut,\n            zoom: zoomDir ? Math.round(zoom) + zoomDir * (e.shiftKey ? 2 : 1) : zoom,\n            bearing: map.getBearing() + bearingDir * _this.bearingStep,\n            pitch: map.getPitch() + pitchDir * _this.pitchStep,\n            offset: [-xDir * _this.panStep, -yDir * _this.panStep],\n            center: map.getCenter()\n          }, {\n            originalEvent: e\n          });\n        }\n      };\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.enabled = true;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.enabled = false;\n      this.reset();\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this.enabled;\n    }\n  }, {\n    key: \"isActive\",\n    value: function isActive() {\n      return this.active;\n    }\n  }]);\n  return KeyboardHandler;\n}();\nfunction easeOut(t) {\n  return t * (2 - t);\n}\nexport default KeyboardHandler;","map":{"version":3,"names":["_classCallCheck","_createClass","defaultOptions","panStep","bearingStep","pitchStep","KeyboardHandler","stepOptions","key","value","reset","active","keydown","e","_this","altKey","ctrlKey","metaKey","zoomDir","bearingDir","pitchDir","xDir","yDir","keyCode","shiftKey","preventDefault","cameraAnimation","map","zoom","getZoom","easeTo","duration","easeId","easing","easeOut","Math","round","bearing","getBearing","pitch","getPitch","offset","center","getCenter","originalEvent","enable","enabled","disable","isEnabled","isActive","t"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-map/es/handler/keyboard.js"],"sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nvar defaultOptions = {\n  panStep: 100,\n  bearingStep: 15,\n  pitchStep: 10\n};\n\n/**\n * The `KeyboardHandler` allows the user to zoom, rotate, and pan the map using\n * the following keyboard shortcuts:\n *\n * - `=` / `+`: Increase the zoom level by 1.\n * - `Shift-=` / `Shift-+`: Increase the zoom level by 2.\n * - `-`: Decrease the zoom level by 1.\n * - `Shift--`: Decrease the zoom level by 2.\n * - Arrow keys: Pan by 100 pixels.\n * - `Shift+⇢`: Increase the rotation by 15 degrees.\n * - `Shift+⇠`: Decrease the rotation by 15 degrees.\n * - `Shift+⇡`: Increase the pitch by 10 degrees.\n * - `Shift+⇣`: Decrease the pitch by 10 degrees.\n */\nvar KeyboardHandler = /*#__PURE__*/function () {\n  /**\n   * @private\n   */\n  function KeyboardHandler() {\n    _classCallCheck(this, KeyboardHandler);\n    var stepOptions = defaultOptions;\n    this.panStep = stepOptions.panStep;\n    this.bearingStep = stepOptions.bearingStep;\n    this.pitchStep = stepOptions.pitchStep;\n  }\n  _createClass(KeyboardHandler, [{\n    key: \"reset\",\n    value: function reset() {\n      this.active = false;\n    }\n  }, {\n    key: \"keydown\",\n    value: function keydown(e) {\n      var _this = this;\n      if (e.altKey || e.ctrlKey || e.metaKey) {\n        return;\n      }\n      var zoomDir = 0;\n      var bearingDir = 0;\n      var pitchDir = 0;\n      var xDir = 0;\n      var yDir = 0;\n      switch (e.keyCode) {\n        case 61:\n        case 107:\n        case 171:\n        case 187:\n          zoomDir = 1;\n          break;\n        case 189:\n        case 109:\n        case 173:\n          zoomDir = -1;\n          break;\n        case 37:\n          if (e.shiftKey) {\n            bearingDir = -1;\n          } else {\n            e.preventDefault();\n            xDir = -1;\n          }\n          break;\n        case 39:\n          if (e.shiftKey) {\n            bearingDir = 1;\n          } else {\n            e.preventDefault();\n            xDir = 1;\n          }\n          break;\n        case 38:\n          if (e.shiftKey) {\n            pitchDir = 1;\n          } else {\n            e.preventDefault();\n            yDir = -1;\n          }\n          break;\n        case 40:\n          if (e.shiftKey) {\n            pitchDir = -1;\n          } else {\n            e.preventDefault();\n            yDir = 1;\n          }\n          break;\n        default:\n          return;\n      }\n      return {\n        cameraAnimation: function cameraAnimation(map) {\n          var zoom = map.getZoom();\n          map.easeTo({\n            duration: 300,\n            easeId: 'keyboardHandler',\n            easing: easeOut,\n            zoom: zoomDir ? Math.round(zoom) + zoomDir * (e.shiftKey ? 2 : 1) : zoom,\n            bearing: map.getBearing() + bearingDir * _this.bearingStep,\n            pitch: map.getPitch() + pitchDir * _this.pitchStep,\n            offset: [-xDir * _this.panStep, -yDir * _this.panStep],\n            center: map.getCenter()\n          }, {\n            originalEvent: e\n          });\n        }\n      };\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.enabled = true;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.enabled = false;\n      this.reset();\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this.enabled;\n    }\n  }, {\n    key: \"isActive\",\n    value: function isActive() {\n      return this.active;\n    }\n  }]);\n  return KeyboardHandler;\n}();\nfunction easeOut(t) {\n  return t * (2 - t);\n}\nexport default KeyboardHandler;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}