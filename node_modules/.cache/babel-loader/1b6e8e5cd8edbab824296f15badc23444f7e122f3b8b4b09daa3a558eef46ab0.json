{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { fixedBase } from '@antv/util';\nfunction snapMultiple(v, base, snapType) {\n  var div;\n  if (snapType === 'ceil') {\n    div = Math.ceil(v / base);\n  } else if (snapType === 'floor') {\n    div = Math.floor(v / base);\n  } else {\n    div = Math.round(v / base);\n  }\n  return div * base;\n}\nexport default function intervalTicks(min, max, interval) {\n  // 变成 interval 的倍数\n  var minTick = snapMultiple(min, interval, 'floor');\n  var maxTick = snapMultiple(max, interval, 'ceil');\n  // 统一小数位数\n  minTick = fixedBase(minTick, interval);\n  maxTick = fixedBase(maxTick, interval);\n  var ticks = [];\n  // https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Errors/Invalid_array_length\n  var availableInterval = Math.max((maxTick - minTick) / (Math.pow(2, 12) - 1), interval);\n  for (var i = minTick; i <= maxTick; i = i + availableInterval) {\n    var tickValue = fixedBase(i, availableInterval); // 防止浮点数加法出现问题\n    ticks.push(tickValue);\n  }\n  return {\n    min: minTick,\n    max: maxTick,\n    ticks: ticks\n  };\n}","map":{"version":3,"names":["fixedBase","snapMultiple","v","base","snapType","div","Math","ceil","floor","round","intervalTicks","min","max","interval","minTick","maxTick","ticks","availableInterval","pow","i","tickValue","push"],"sources":["../../src/util/interval.ts"],"sourcesContent":[null],"mappings":";AACA,SAASA,SAAS,QAAQ,YAAY;AAEtC,SAASC,YAAYA,CAACC,CAAC,EAAEC,IAAI,EAAEC,QAAQ;EACrC,IAAIC,GAAG;EACP,IAAID,QAAQ,KAAK,MAAM,EAAE;IACvBC,GAAG,GAAGC,IAAI,CAACC,IAAI,CAACL,CAAC,GAAGC,IAAI,CAAC;GAC1B,MAAM,IAAIC,QAAQ,KAAK,OAAO,EAAE;IAC/BC,GAAG,GAAGC,IAAI,CAACE,KAAK,CAACN,CAAC,GAAGC,IAAI,CAAC;GAC3B,MAAM;IACLE,GAAG,GAAGC,IAAI,CAACG,KAAK,CAACP,CAAC,GAAGC,IAAI,CAAC;;EAE5B,OAAOE,GAAG,GAAGF,IAAI;AACnB;AAEA,eAAc,SAAUO,aAAaA,CAACC,GAAG,EAAEC,GAAG,EAAEC,QAAQ;EACtD;EACA,IAAIC,OAAO,GAAGb,YAAY,CAACU,GAAG,EAAEE,QAAQ,EAAE,OAAO,CAAC;EAClD,IAAIE,OAAO,GAAGd,YAAY,CAACW,GAAG,EAAEC,QAAQ,EAAE,MAAM,CAAC;EACjD;EACAC,OAAO,GAAGd,SAAS,CAACc,OAAO,EAAED,QAAQ,CAAC;EACtCE,OAAO,GAAGf,SAAS,CAACe,OAAO,EAAEF,QAAQ,CAAC;EACtC,IAAMG,KAAK,GAAG,EAAE;EAChB;EACA,IAAMC,iBAAiB,GAAGX,IAAI,CAACM,GAAG,CAAC,CAACG,OAAO,GAAGD,OAAO,KAAKR,IAAA,CAAAY,GAAA,EAAC,EAAI,EAAE,IAAG,CAAC,CAAC,EAAEL,QAAQ,CAAC;EACjF,KAAK,IAAIM,CAAC,GAAGL,OAAO,EAAEK,CAAC,IAAIJ,OAAO,EAAEI,CAAC,GAAGA,CAAC,GAAGF,iBAAiB,EAAE;IAC7D,IAAMG,SAAS,GAAGpB,SAAS,CAACmB,CAAC,EAAEF,iBAAiB,CAAC,CAAC,CAAC;IACnDD,KAAK,CAACK,IAAI,CAACD,SAAS,CAAC;;EAEvB,OAAO;IACLT,GAAG,EAAEG,OAAO;IACZF,GAAG,EAAEG,OAAO;IACZC,KAAK,EAAAA;GACN;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}