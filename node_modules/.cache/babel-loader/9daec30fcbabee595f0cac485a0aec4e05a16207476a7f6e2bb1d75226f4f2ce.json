{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n// @ts-ignore\n\nimport TapRecognizer from \"./tap_recognizer\";\nvar TapZoomHandler = /*#__PURE__*/function () {\n  function TapZoomHandler() {\n    _classCallCheck(this, TapZoomHandler);\n    this.zoomIn = new TapRecognizer({\n      numTouches: 1,\n      numTaps: 2\n    });\n    this.zoomOut = new TapRecognizer({\n      numTouches: 2,\n      numTaps: 1\n    });\n    this.reset();\n  }\n  _createClass(TapZoomHandler, [{\n    key: \"reset\",\n    value: function reset() {\n      this.active = false;\n      this.zoomIn.reset();\n      this.zoomOut.reset();\n    }\n  }, {\n    key: \"touchstart\",\n    value: function touchstart(e, points, mapTouches) {\n      this.zoomIn.touchstart(e, points, mapTouches);\n      this.zoomOut.touchstart(e, points, mapTouches);\n    }\n  }, {\n    key: \"touchmove\",\n    value: function touchmove(e, points, mapTouches) {\n      this.zoomIn.touchmove(e, points, mapTouches);\n      this.zoomOut.touchmove(e, points, mapTouches);\n    }\n  }, {\n    key: \"touchend\",\n    value: function touchend(e, points, mapTouches) {\n      var _this = this;\n      var zoomInPoint = this.zoomIn.touchend(e, points, mapTouches);\n      var zoomOutPoint = this.zoomOut.touchend(e, points, mapTouches);\n      if (zoomInPoint) {\n        this.active = true;\n        e.preventDefault();\n        setTimeout(function () {\n          return _this.reset();\n        }, 0);\n        return {\n          cameraAnimation: function cameraAnimation(map) {\n            return map.easeTo({\n              duration: 300,\n              zoom: map.getZoom() + 1,\n              around: map.unproject(zoomInPoint)\n            }, {\n              originalEvent: e\n            });\n          }\n        };\n      } else if (zoomOutPoint) {\n        this.active = true;\n        e.preventDefault();\n        setTimeout(function () {\n          return _this.reset();\n        }, 0);\n        return {\n          cameraAnimation: function cameraAnimation(map) {\n            return map.easeTo({\n              duration: 300,\n              zoom: map.getZoom() - 1,\n              around: map.unproject(zoomOutPoint)\n            }, {\n              originalEvent: e\n            });\n          }\n        };\n      }\n    }\n  }, {\n    key: \"touchcancel\",\n    value: function touchcancel() {\n      this.reset();\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.enabled = true;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.enabled = false;\n      this.reset();\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this.enabled;\n    }\n  }, {\n    key: \"isActive\",\n    value: function isActive() {\n      return this.active;\n    }\n  }]);\n  return TapZoomHandler;\n}();\nexport { TapZoomHandler as default };","map":{"version":3,"names":["_classCallCheck","_createClass","TapRecognizer","TapZoomHandler","zoomIn","numTouches","numTaps","zoomOut","reset","key","value","active","touchstart","e","points","mapTouches","touchmove","touchend","_this","zoomInPoint","zoomOutPoint","preventDefault","setTimeout","cameraAnimation","map","easeTo","duration","zoom","getZoom","around","unproject","originalEvent","touchcancel","enable","enabled","disable","isEnabled","isActive","default"],"sources":["D:/桌面文件/C4大赛/作品源代码/vue/node_modules/@antv/l7-map/es/handler/tap/tap_zoom.js"],"sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n// @ts-ignore\n\nimport TapRecognizer from \"./tap_recognizer\";\nvar TapZoomHandler = /*#__PURE__*/function () {\n  function TapZoomHandler() {\n    _classCallCheck(this, TapZoomHandler);\n    this.zoomIn = new TapRecognizer({\n      numTouches: 1,\n      numTaps: 2\n    });\n    this.zoomOut = new TapRecognizer({\n      numTouches: 2,\n      numTaps: 1\n    });\n    this.reset();\n  }\n  _createClass(TapZoomHandler, [{\n    key: \"reset\",\n    value: function reset() {\n      this.active = false;\n      this.zoomIn.reset();\n      this.zoomOut.reset();\n    }\n  }, {\n    key: \"touchstart\",\n    value: function touchstart(e, points, mapTouches) {\n      this.zoomIn.touchstart(e, points, mapTouches);\n      this.zoomOut.touchstart(e, points, mapTouches);\n    }\n  }, {\n    key: \"touchmove\",\n    value: function touchmove(e, points, mapTouches) {\n      this.zoomIn.touchmove(e, points, mapTouches);\n      this.zoomOut.touchmove(e, points, mapTouches);\n    }\n  }, {\n    key: \"touchend\",\n    value: function touchend(e, points, mapTouches) {\n      var _this = this;\n      var zoomInPoint = this.zoomIn.touchend(e, points, mapTouches);\n      var zoomOutPoint = this.zoomOut.touchend(e, points, mapTouches);\n      if (zoomInPoint) {\n        this.active = true;\n        e.preventDefault();\n        setTimeout(function () {\n          return _this.reset();\n        }, 0);\n        return {\n          cameraAnimation: function cameraAnimation(map) {\n            return map.easeTo({\n              duration: 300,\n              zoom: map.getZoom() + 1,\n              around: map.unproject(zoomInPoint)\n            }, {\n              originalEvent: e\n            });\n          }\n        };\n      } else if (zoomOutPoint) {\n        this.active = true;\n        e.preventDefault();\n        setTimeout(function () {\n          return _this.reset();\n        }, 0);\n        return {\n          cameraAnimation: function cameraAnimation(map) {\n            return map.easeTo({\n              duration: 300,\n              zoom: map.getZoom() - 1,\n              around: map.unproject(zoomOutPoint)\n            }, {\n              originalEvent: e\n            });\n          }\n        };\n      }\n    }\n  }, {\n    key: \"touchcancel\",\n    value: function touchcancel() {\n      this.reset();\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.enabled = true;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.enabled = false;\n      this.reset();\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this.enabled;\n    }\n  }, {\n    key: \"isActive\",\n    value: function isActive() {\n      return this.active;\n    }\n  }]);\n  return TapZoomHandler;\n}();\nexport { TapZoomHandler as default };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}