{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { createMat4 } from './math-utils';\nimport { worldToPixels, pixelsToWorld } from './web-mercator-utils';\nimport * as mat4 from 'gl-matrix/mat4';\nvar IDENTITY = createMat4();\nvar Viewport = function () {\n  function Viewport() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      width = _ref.width,\n      height = _ref.height,\n      _ref$viewMatrix = _ref.viewMatrix,\n      viewMatrix = _ref$viewMatrix === void 0 ? IDENTITY : _ref$viewMatrix,\n      _ref$projectionMatrix = _ref.projectionMatrix,\n      projectionMatrix = _ref$projectionMatrix === void 0 ? IDENTITY : _ref$projectionMatrix;\n    _classCallCheck(this, Viewport);\n    this.width = width || 1;\n    this.height = height || 1;\n    this.scale = 1;\n    this.pixelsPerMeter = 1;\n    this.viewMatrix = viewMatrix;\n    this.projectionMatrix = projectionMatrix;\n    var vpm = createMat4();\n    mat4.multiply(vpm, vpm, this.projectionMatrix);\n    mat4.multiply(vpm, vpm, this.viewMatrix);\n    this.viewProjectionMatrix = vpm;\n    var m = createMat4();\n    mat4.scale(m, m, [this.width / 2, -this.height / 2, 1]);\n    mat4.translate(m, m, [1, -1, 0]);\n    mat4.multiply(m, m, this.viewProjectionMatrix);\n    var mInverse = mat4.invert(createMat4(), m);\n    if (!mInverse) {\n      throw new Error('Pixel project matrix not invertible');\n    }\n    this.pixelProjectionMatrix = m;\n    this.pixelUnprojectionMatrix = mInverse;\n    this.equals = this.equals.bind(this);\n    this.project = this.project.bind(this);\n    this.unproject = this.unproject.bind(this);\n    this.projectPosition = this.projectPosition.bind(this);\n    this.unprojectPosition = this.unprojectPosition.bind(this);\n    this.projectFlat = this.projectFlat.bind(this);\n    this.unprojectFlat = this.unprojectFlat.bind(this);\n  }\n  _createClass(Viewport, [{\n    key: \"equals\",\n    value: function equals(viewport) {\n      if (!(viewport instanceof Viewport)) {\n        return false;\n      }\n      return viewport.width === this.width && viewport.height === this.height && mat4.equals(viewport.projectionMatrix, this.projectionMatrix) && mat4.equals(viewport.viewMatrix, this.viewMatrix);\n    }\n  }, {\n    key: \"project\",\n    value: function project(xyz) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref2$topLeft = _ref2.topLeft,\n        topLeft = _ref2$topLeft === void 0 ? true : _ref2$topLeft;\n      var worldPosition = this.projectPosition(xyz);\n      var coord = worldToPixels(worldPosition, this.pixelProjectionMatrix);\n      var _coord = _slicedToArray(coord, 2),\n        x = _coord[0],\n        y = _coord[1];\n      var y2 = topLeft ? y : this.height - y;\n      return xyz.length === 2 ? [x, y2] : [x, y2, coord[2]];\n    }\n  }, {\n    key: \"unproject\",\n    value: function unproject(xyz) {\n      var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref3$topLeft = _ref3.topLeft,\n        topLeft = _ref3$topLeft === void 0 ? true : _ref3$topLeft,\n        targetZ = _ref3.targetZ;\n      var _xyz = _slicedToArray(xyz, 3),\n        x = _xyz[0],\n        y = _xyz[1],\n        z = _xyz[2];\n      var y2 = topLeft ? y : this.height - y;\n      var targetZWorld = targetZ && targetZ * this.pixelsPerMeter;\n      var coord = pixelsToWorld([x, y2, z], this.pixelUnprojectionMatrix, targetZWorld);\n      var _this$unprojectPositi = this.unprojectPosition(coord),\n        _this$unprojectPositi2 = _slicedToArray(_this$unprojectPositi, 3),\n        X = _this$unprojectPositi2[0],\n        Y = _this$unprojectPositi2[1],\n        Z = _this$unprojectPositi2[2];\n      if (Number.isFinite(z)) {\n        return [X, Y, Z];\n      }\n      return Number.isFinite(targetZ) ? [X, Y, targetZ] : [X, Y];\n    }\n  }, {\n    key: \"projectPosition\",\n    value: function projectPosition(xyz) {\n      var _this$projectFlat = this.projectFlat(xyz),\n        _this$projectFlat2 = _slicedToArray(_this$projectFlat, 2),\n        X = _this$projectFlat2[0],\n        Y = _this$projectFlat2[1];\n      var Z = (xyz[2] || 0) * this.pixelsPerMeter;\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"unprojectPosition\",\n    value: function unprojectPosition(xyz) {\n      var _this$unprojectFlat = this.unprojectFlat(xyz),\n        _this$unprojectFlat2 = _slicedToArray(_this$unprojectFlat, 2),\n        X = _this$unprojectFlat2[0],\n        Y = _this$unprojectFlat2[1];\n      var Z = (xyz[2] || 0) / this.pixelsPerMeter;\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"projectFlat\",\n    value: function projectFlat(xyz) {\n      var scale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.scale;\n      return xyz;\n    }\n  }, {\n    key: \"unprojectFlat\",\n    value: function unprojectFlat(xyz) {\n      var scale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.scale;\n      return xyz;\n    }\n  }]);\n  return Viewport;\n}();\nexport { Viewport as default };","map":{"version":3,"names":["createMat4","worldToPixels","pixelsToWorld","mat4","IDENTITY","Viewport","_ref","arguments","length","undefined","width","height","_ref$viewMatrix","viewMatrix","_ref$projectionMatrix","projectionMatrix","_classCallCheck","scale","pixelsPerMeter","vpm","multiply","viewProjectionMatrix","m","translate","mInverse","invert","Error","pixelProjectionMatrix","pixelUnprojectionMatrix","equals","bind","project","unproject","projectPosition","unprojectPosition","projectFlat","unprojectFlat","viewport","xyz","_ref2","_ref2$topLeft","topLeft","worldPosition","coord","_coord","_slicedToArray","x","y","y2","_ref3","_ref3$topLeft","targetZ","_xyz","z","targetZWorld","_this$unprojectPositi","_this$unprojectPositi2","X","Y","Z","Number","isFinite","_this$projectFlat","_this$projectFlat2","_this$unprojectFlat","_this$unprojectFlat2"],"sources":["../../src/viewport.js"],"sourcesContent":["// View and Projection Matrix management\n\nimport {createMat4} from './math-utils';\nimport {worldToPixels, pixelsToWorld} from './web-mercator-utils';\n\nimport * as mat4 from 'gl-matrix/mat4';\n\nconst IDENTITY = createMat4();\n\nexport default class Viewport {\n  /**\n   * @classdesc\n   * Manages coordinate system transformations for deck.gl.\n   *\n   * Note: The Viewport is immutable in the sense that it only has accessors.\n   * A new viewport instance should be created if any parameters have changed.\n   *\n   * @class\n   * @param {Object} opt - options\n   * @param {Boolean} mercator=true - Whether to use mercator projection\n   *\n   * @param {Number} opt.width=1 - Width of \"viewport\" or window\n   * @param {Number} opt.height=1 - Height of \"viewport\" or window\n   * @param {Array} opt.center=[0, 0] - Center of viewport\n   *   [longitude, latitude] or [x, y]\n   * @param {Number} opt.scale=1 - Either use scale or zoom\n   * @param {Number} opt.pitch=0 - Camera angle in degrees (0 is straight down)\n   * @param {Number} opt.bearing=0 - Map rotation in degrees (0 means north is up)\n   * @param {Number} opt.altitude= - Altitude of camera in screen units\n   *\n   * Web mercator projection short-hand parameters\n   * @param {Number} opt.latitude - Center of viewport on map (alternative to opt.center)\n   * @param {Number} opt.longitude - Center of viewport on map (alternative to opt.center)\n   * @param {Number} opt.zoom - Scale = Math.pow(2,zoom) on map (alternative to opt.scale)\n   */\n  /* eslint-disable complexity */\n  constructor({\n    // Window width/height in pixels (for pixel projection)\n    width,\n    height,\n    // Desc\n    viewMatrix = IDENTITY,\n    projectionMatrix = IDENTITY\n  } = {}) {\n    // Silently allow apps to send in 0,0\n    this.width = width || 1;\n    this.height = height || 1;\n    this.scale = 1;\n    this.pixelsPerMeter = 1;\n\n    this.viewMatrix = viewMatrix;\n    this.projectionMatrix = projectionMatrix;\n\n    // Note: As usual, matrix operations should be applied in \"reverse\" order\n    // since vectors will be multiplied in from the right during transformation\n    const vpm = createMat4();\n    mat4.multiply(vpm, vpm, this.projectionMatrix);\n    mat4.multiply(vpm, vpm, this.viewMatrix);\n    this.viewProjectionMatrix = vpm;\n\n    // Calculate matrices and scales needed for projection\n    /**\n     * Builds matrices that converts preprojected lngLats to screen pixels\n     * and vice versa.\n     * Note: Currently returns bottom-left coordinates!\n     * Note: Starts with the GL projection matrix and adds steps to the\n     *       scale and translate that matrix onto the window.\n     * Note: WebGL controls clip space to screen projection with gl.viewport\n     *       and does not need this step.\n     */\n    const m = createMat4();\n\n    // matrix for conversion from location to screen coordinates\n    mat4.scale(m, m, [this.width / 2, -this.height / 2, 1]);\n    mat4.translate(m, m, [1, -1, 0]);\n\n    mat4.multiply(m, m, this.viewProjectionMatrix);\n\n    const mInverse = mat4.invert(createMat4(), m);\n    if (!mInverse) {\n      throw new Error('Pixel project matrix not invertible');\n    }\n\n    this.pixelProjectionMatrix = m;\n    this.pixelUnprojectionMatrix = mInverse;\n\n    // Bind methods for easy access\n    this.equals = this.equals.bind(this);\n    this.project = this.project.bind(this);\n    this.unproject = this.unproject.bind(this);\n    this.projectPosition = this.projectPosition.bind(this);\n    this.unprojectPosition = this.unprojectPosition.bind(this);\n    this.projectFlat = this.projectFlat.bind(this);\n    this.unprojectFlat = this.unprojectFlat.bind(this);\n  }\n  /* eslint-enable complexity */\n\n  // Two viewports are equal if width and height are identical, and if\n  // their view and projection matrices are (approximately) equal.\n  equals(viewport) {\n    if (!(viewport instanceof Viewport)) {\n      return false;\n    }\n\n    return viewport.width === this.width &&\n      viewport.height === this.height &&\n      mat4.equals(viewport.projectionMatrix, this.projectionMatrix) &&\n      mat4.equals(viewport.viewMatrix, this.viewMatrix);\n  }\n\n  /**\n   * Projects xyz (possibly latitude and longitude) to pixel coordinates in window\n   * using viewport projection parameters\n   * - [longitude, latitude] to [x, y]\n   * - [longitude, latitude, Z] => [x, y, z]\n   * Note: By default, returns top-left coordinates for canvas/SVG type render\n   *\n   * @param {Array} lngLatZ - [lng, lat] or [lng, lat, Z]\n   * @param {Object} opts - options\n   * @param {Object} opts.topLeft=true - Whether projected coords are top left\n   * @return {Array} - screen coordinates [x, y] or [x, y, z], z as pixel depth\n   */\n  project(xyz, {topLeft = true} = {}) {\n    const worldPosition = this.projectPosition(xyz);\n    const coord = worldToPixels(worldPosition, this.pixelProjectionMatrix);\n\n    const [x, y] = coord;\n    const y2 = topLeft ? y : this.height - y;\n    return xyz.length === 2 ? [x, y2] : [x, y2, coord[2]];\n  }\n\n  /**\n   * Unproject pixel coordinates on screen onto world coordinates,\n   * (possibly [lon, lat]) on map.\n   * - [x, y] => [lng, lat]\n   * - [x, y, z] => [lng, lat, Z]\n   * @param {Array} xyz - screen coordinates, z as pixel depth\n   * @param {Object} opts - options\n   * @param {Object} opts.topLeft=true - Whether projected coords are top left\n   * @param {Object} opts.targetZ=0 - If pixel depth is unknown, targetZ is used as\n   *   the elevation plane to unproject onto\n   * @return {Array} - [lng, lat, Z] or [X, Y, Z]\n   */\n  unproject(xyz, {topLeft = true, targetZ} = {}) {\n    const [x, y, z] = xyz;\n\n    const y2 = topLeft ? y : this.height - y;\n    const targetZWorld = targetZ && targetZ * this.pixelsPerMeter;\n    const coord = pixelsToWorld([x, y2, z], this.pixelUnprojectionMatrix, targetZWorld);\n    const [X, Y, Z] = this.unprojectPosition(coord);\n\n    if (Number.isFinite(z)) {\n      return [X, Y, Z];\n    }\n    return Number.isFinite(targetZ) ? [X, Y, targetZ] : [X, Y];\n  }\n\n  // NON_LINEAR PROJECTION HOOKS\n  // Used for web meractor projection\n\n  projectPosition(xyz) {\n    const [X, Y] = this.projectFlat(xyz);\n    const Z = (xyz[2] || 0) * this.pixelsPerMeter;\n    return [X, Y, Z];\n  }\n\n  unprojectPosition(xyz) {\n    const [X, Y] = this.unprojectFlat(xyz);\n    const Z = (xyz[2] || 0) / this.pixelsPerMeter;\n    return [X, Y, Z];\n  }\n\n  /**\n   * Project map coordinates to world coordinates.\n   * This should be overridden by each viewport that implements a specific\n   * geographic projection.\n   * @param {Array} xyz - map coordinates\n   * @return {Array} [x,y,z] world coordinates.\n   */\n  projectFlat(xyz, scale = this.scale) {\n    return xyz;\n  }\n\n  /**\n   * Project world coordinates to map coordinates.\n   * This should be overridden by each viewport that implements a specific\n   * geographic projection.\n   * @param {Array} xyz - world coordinates\n   * @return {Array} [x,y,z] map coordinates.\n   */\n  unprojectFlat(xyz, scale = this.scale) {\n    return xyz;\n  }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}